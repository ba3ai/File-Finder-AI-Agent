(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xf={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=Symbol.for("react.element"),bx=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),Nx=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Px=Symbol.for("react.context"),_x=Symbol.for("react.forward_ref"),Tx=Symbol.for("react.suspense"),Lx=Symbol.for("react.memo"),Ax=Symbol.for("react.lazy"),rm=Symbol.iterator;function Dx(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var Zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jf=Object.assign,eh={};function pr(e,t,n){this.props=e,this.context=t,this.refs=eh,this.updater=n||Zf}pr.prototype.isReactComponent={};pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function th(){}th.prototype=pr.prototype;function du(e,t,n){this.props=e,this.context=t,this.refs=eh,this.updater=n||Zf}var mu=du.prototype=new th;mu.constructor=du;Jf(mu,pr.prototype);mu.isPureReactComponent=!0;var im=Array.isArray,nh=Object.prototype.hasOwnProperty,pu={current:null},ah={key:!0,ref:!0,__self:!0,__source:!0};function rh(e,t,n){var a,r={},o=null,s=null;if(t!=null)for(a in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)nh.call(t,a)&&!ah.hasOwnProperty(a)&&(r[a]=t[a]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)r[a]===void 0&&(r[a]=l[a]);return{$$typeof:ki,type:e,key:o,ref:s,props:r,_owner:pu.current}}function Mx(e,t){return{$$typeof:ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ki}function Rx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var om=/\/+/g;function Hs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rx(""+e.key):t.toString(36)}function fo(e,t,n,a,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ki:case bx:s=!0}}if(s)return s=e,r=r(s),e=a===""?"."+Hs(s,0):a,im(r)?(n="",e!=null&&(n=e.replace(om,"$&/")+"/"),fo(r,t,n,"",function(u){return u})):r!=null&&(fu(r)&&(r=Mx(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(om,"$&/")+"/")+e)),t.push(r)),1;if(s=0,a=a===""?".":a+":",im(e))for(var l=0;l<e.length;l++){o=e[l];var c=a+Hs(o,l);s+=fo(o,t,n,c,r)}else if(c=Dx(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=a+Hs(o,l++),s+=fo(o,t,n,c,r);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fi(e,t,n){if(e==null)return e;var a=[],r=0;return fo(e,a,"","",function(o){return t.call(n,o,r++)}),a}function jx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},ho={transition:null},Ox={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ho,ReactCurrentOwner:pu};function ih(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Fi,forEach:function(e,t,n){Fi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fi(e,function(){t++}),t},toArray:function(e){return Fi(e,function(t){return t})||[]},only:function(e){if(!fu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=pr;de.Fragment=kx;de.Profiler=Sx;de.PureComponent=du;de.StrictMode=Nx;de.Suspense=Tx;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox;de.act=ih;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Jf({},e.props),r=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=pu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nh.call(t,c)&&!ah.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:ki,type:e.type,key:r,ref:o,props:a,_owner:s}};de.createContext=function(e){return e={$$typeof:Px,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cx,_context:e},e.Consumer=e};de.createElement=rh;de.createFactory=function(e){var t=rh.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:_x,render:e}};de.isValidElement=fu;de.lazy=function(e){return{$$typeof:Ax,_payload:{_status:-1,_result:e},_init:jx}};de.memo=function(e,t){return{$$typeof:Lx,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=ho.transition;ho.transition={};try{e()}finally{ho.transition=t}};de.unstable_act=ih;de.useCallback=function(e,t){return ht.current.useCallback(e,t)};de.useContext=function(e){return ht.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};de.useEffect=function(e,t){return ht.current.useEffect(e,t)};de.useId=function(){return ht.current.useId()};de.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return ht.current.useMemo(e,t)};de.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};de.useRef=function(e){return ht.current.useRef(e)};de.useState=function(e){return ht.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return ht.current.useTransition()};de.version="18.3.1";Xf.exports=de;var p=Xf.exports;const i=Qf(p);var Gl={},oh={exports:{}},_t={},sh={exports:{}},lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,R){var B=S.length;S.push(R);e:for(;0<B;){var U=B-1>>>1,X=S[U];if(0<r(X,R))S[U]=R,S[B]=X,B=U;else break e}}function n(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var R=S[0],B=S.pop();if(B!==R){S[0]=B;e:for(var U=0,X=S.length,V=X>>>1;U<V;){var N=2*(U+1)-1,F=S[N],q=N+1,ne=S[q];if(0>r(F,B))q<X&&0>r(ne,F)?(S[U]=ne,S[q]=B,U=q):(S[U]=F,S[N]=B,U=N);else if(q<X&&0>r(ne,B))S[U]=ne,S[q]=B,U=q;else break e}}return R}function r(S,R){var B=S.sortIndex-R.sortIndex;return B!==0?B:S.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,m=null,f=3,g=!1,w=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(S){for(var R=n(u);R!==null;){if(R.callback===null)a(u);else if(R.startTime<=S)a(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function b(S){if(y=!1,v(S),!w)if(n(c)!==null)w=!0,K(k);else{var R=n(u);R!==null&&oe(b,R.startTime-S)}}function k(S,R){w=!1,y&&(y=!1,x(P),P=-1),g=!0;var B=f;try{for(v(R),m=n(c);m!==null&&(!(m.expirationTime>R)||S&&!C());){var U=m.callback;if(typeof U=="function"){m.callback=null,f=m.priorityLevel;var X=U(m.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?m.callback=X:m===n(c)&&a(c),v(R)}else a(c);m=n(c)}if(m!==null)var V=!0;else{var N=n(u);N!==null&&oe(b,N.startTime-R),V=!1}return V}finally{m=null,f=B,g=!1}}var T=!1,_=null,P=-1,z=5,D=-1;function C(){return!(e.unstable_now()-D<z)}function I(){if(_!==null){var S=e.unstable_now();D=S;var R=!0;try{R=_(!0,S)}finally{R?O():(T=!1,_=null)}}else T=!1}var O;if(typeof h=="function")O=function(){h(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,G=j.port2;j.port1.onmessage=I,O=function(){G.postMessage(null)}}else O=function(){E(I,0)};function K(S){_=S,T||(T=!0,O())}function oe(S,R){P=E(function(){S(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,K(k))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var B=f;f=R;try{return S()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,R){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var B=f;f=S;try{return R()}finally{f=B}},e.unstable_scheduleCallback=function(S,R,B){var U=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?U+B:U):B=U,S){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,S={id:d++,callback:R,priorityLevel:S,startTime:B,expirationTime:X,sortIndex:-1},B>U?(S.sortIndex=B,t(u,S),n(c)===null&&S===n(u)&&(y?(x(P),P=-1):y=!0,oe(b,B-U))):(S.sortIndex=X,t(c,S),w||g||(w=!0,K(k))),S},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(S){var R=f;return function(){var B=f;f=R;try{return S.apply(this,arguments)}finally{f=B}}}})(lh);sh.exports=lh;var zx=sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=p,Ct=zx;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ch=new Set,ei={};function Sa(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(ei[e]=t,e=0;e<t.length;e++)ch.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ql=Object.prototype.hasOwnProperty,Ix=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sm={},lm={};function Vx(e){return ql.call(lm,e)?!0:ql.call(sm,e)?!1:Ix.test(e)?lm[e]=!0:(sm[e]=!0,!1)}function Bx(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $x(e,t,n,a){if(t===null||typeof t>"u"||Bx(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,n,a,r,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hu=/[\-:]([a-z])/g;function gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hu,gu);at[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hu,gu);at[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hu,gu);at[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vu(e,t,n,a){var r=at.hasOwnProperty(t)?at[t]:null;(r!==null?r.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($x(t,n,r,a)&&(n=null),a||r===null?Vx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,a=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Cn=Fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ii=Symbol.for("react.element"),ja=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),xu=Symbol.for("react.strict_mode"),Kl=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),dh=Symbol.for("react.context"),yu=Symbol.for("react.forward_ref"),Yl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),wu=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),mh=Symbol.for("react.offscreen"),cm=Symbol.iterator;function br(e){return e===null||typeof e!="object"?null:(e=cm&&e[cm]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Ws;function Mr(e){if(Ws===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ws=t&&t[1]||""}return`
`+Ws+e}var Gs=!1;function qs(e,t){if(!e||Gs)return"";Gs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=a.stack.split(`
`),s=r.length-1,l=o.length-1;1<=s&&0<=l&&r[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(r[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||r[s]!==o[l]){var c=`
`+r[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Gs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mr(e):""}function Ux(e){switch(e.tag){case 5:return Mr(e.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 2:case 15:return e=qs(e.type,!1),e;case 11:return e=qs(e.type.render,!1),e;case 1:return e=qs(e.type,!0),e;default:return""}}function Xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oa:return"Fragment";case ja:return"Portal";case Kl:return"Profiler";case xu:return"StrictMode";case Yl:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dh:return(e.displayName||"Context")+".Consumer";case uh:return(e._context.displayName||"Context")+".Provider";case yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wu:return t=e.displayName||null,t!==null?t:Xl(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return Xl(e(t))}catch{}}return null}function Hx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xl(t);case 8:return t===xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ph(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wx(e){var t=ph(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){a=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vi(e){e._valueTracker||(e._valueTracker=Wx(e))}function fh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ph(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zl(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function um(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=Kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hh(e,t){t=t.checked,t!=null&&vu(e,"checked",t,!1)}function Jl(e,t){hh(e,t);var n=Kn(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ec(e,t.type,n):t.hasOwnProperty("defaultValue")&&ec(e,t.type,Kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ec(e,t,n){(t!=="number"||Lo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rr=Array.isArray;function Xa(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Kn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function tc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Rr(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kn(n)}}function gh(e,t){var n=Kn(t.value),a=Kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function pm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bi,xh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gx=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(e){Gx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ir[t]=Ir[e]})});function yh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ir.hasOwnProperty(e)&&Ir[e]?(""+t).trim():t+"px"}function wh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,r=yh(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}var qx=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ac(e,t){if(t){if(qx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function rc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=null;function Eu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oc=null,Za=null,Ja=null;function fm(e){if(e=Ci(e)){if(typeof oc!="function")throw Error($(280));var t=e.stateNode;t&&(t=Es(t),oc(e.stateNode,e.type,t))}}function Eh(e){Za?Ja?Ja.push(e):Ja=[e]:Za=e}function bh(){if(Za){var e=Za,t=Ja;if(Ja=Za=null,fm(e),t)for(e=0;e<t.length;e++)fm(t[e])}}function kh(e,t){return e(t)}function Nh(){}var Ks=!1;function Sh(e,t,n){if(Ks)return e(t,n);Ks=!0;try{return kh(e,t,n)}finally{Ks=!1,(Za!==null||Ja!==null)&&(Nh(),bh())}}function ni(e,t){var n=e.stateNode;if(n===null)return null;var a=Es(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var sc=!1;if(wn)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){sc=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{sc=!1}function Kx(e,t,n,a,r,o,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Vr=!1,Ao=null,Do=!1,lc=null,Yx={onError:function(e){Vr=!0,Ao=e}};function Qx(e,t,n,a,r,o,s,l,c){Vr=!1,Ao=null,Kx.apply(Yx,arguments)}function Xx(e,t,n,a,r,o,s,l,c){if(Qx.apply(this,arguments),Vr){if(Vr){var u=Ao;Vr=!1,Ao=null}else throw Error($(198));Do||(Do=!0,lc=u)}}function Ca(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ch(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hm(e){if(Ca(e)!==e)throw Error($(188))}function Zx(e){var t=e.alternate;if(!t){if(t=Ca(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return hm(r),e;if(o===a)return hm(r),t;o=o.sibling}throw Error($(188))}if(n.return!==a.return)n=r,a=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,a=o;break}if(l===a){s=!0,a=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,a=r;break}if(l===a){s=!0,a=o,n=r;break}l=l.sibling}if(!s)throw Error($(189))}}if(n.alternate!==a)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Ph(e){return e=Zx(e),e!==null?_h(e):null}function _h(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_h(e);if(t!==null)return t;e=e.sibling}return null}var Th=Ct.unstable_scheduleCallback,gm=Ct.unstable_cancelCallback,Jx=Ct.unstable_shouldYield,ey=Ct.unstable_requestPaint,Be=Ct.unstable_now,ty=Ct.unstable_getCurrentPriorityLevel,bu=Ct.unstable_ImmediatePriority,Lh=Ct.unstable_UserBlockingPriority,Mo=Ct.unstable_NormalPriority,ny=Ct.unstable_LowPriority,Ah=Ct.unstable_IdlePriority,vs=null,on=null;function ay(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(vs,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:oy,ry=Math.log,iy=Math.LN2;function oy(e){return e>>>=0,e===0?32:31-(ry(e)/iy|0)|0}var $i=64,Ui=4194304;function jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ro(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,r=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~r;l!==0?a=jr(l):(o&=s,o!==0&&(a=jr(o)))}else s=n&~r,s!==0?a=jr(s):o!==0&&(a=jr(o));if(a===0)return 0;if(t!==0&&t!==a&&!(t&r)&&(r=a&-a,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-Qt(t),r=1<<n,a|=e[n],t&=~r;return a}function sy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ly(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Qt(o),l=1<<s,c=r[s];c===-1?(!(l&n)||l&a)&&(r[s]=sy(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function cc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dh(){var e=$i;return $i<<=1,!($i&4194240)&&($i=64),e}function Ys(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ni(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function cy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Qt(n),o=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~o}}function ku(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Qt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var xe=0;function Mh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rh,Nu,jh,Oh,zh,uc=!1,Hi=[],Fn=null,In=null,Vn=null,ai=new Map,ri=new Map,Rn=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function Nr(e,t,n,a,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Ci(t),t!==null&&Nu(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function dy(e,t,n,a,r){switch(t){case"focusin":return Fn=Nr(Fn,e,t,n,a,r),!0;case"dragenter":return In=Nr(In,e,t,n,a,r),!0;case"mouseover":return Vn=Nr(Vn,e,t,n,a,r),!0;case"pointerover":var o=r.pointerId;return ai.set(o,Nr(ai.get(o)||null,e,t,n,a,r)),!0;case"gotpointercapture":return o=r.pointerId,ri.set(o,Nr(ri.get(o)||null,e,t,n,a,r)),!0}return!1}function Fh(e){var t=fa(e.target);if(t!==null){var n=Ca(t);if(n!==null){if(t=n.tag,t===13){if(t=Ch(n),t!==null){e.blockedOn=t,zh(e.priority,function(){jh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function go(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ic=a,n.target.dispatchEvent(a),ic=null}else return t=Ci(n),t!==null&&Nu(t),e.blockedOn=n,!1;t.shift()}return!0}function xm(e,t,n){go(e)&&n.delete(t)}function my(){uc=!1,Fn!==null&&go(Fn)&&(Fn=null),In!==null&&go(In)&&(In=null),Vn!==null&&go(Vn)&&(Vn=null),ai.forEach(xm),ri.forEach(xm)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,my)))}function ii(e){function t(r){return Sr(r,e)}if(0<Hi.length){Sr(Hi[0],e);for(var n=1;n<Hi.length;n++){var a=Hi[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Fn!==null&&Sr(Fn,e),In!==null&&Sr(In,e),Vn!==null&&Sr(Vn,e),ai.forEach(t),ri.forEach(t),n=0;n<Rn.length;n++)a=Rn[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Fh(n),n.blockedOn===null&&Rn.shift()}var er=Cn.ReactCurrentBatchConfig,jo=!0;function py(e,t,n,a){var r=xe,o=er.transition;er.transition=null;try{xe=1,Su(e,t,n,a)}finally{xe=r,er.transition=o}}function fy(e,t,n,a){var r=xe,o=er.transition;er.transition=null;try{xe=4,Su(e,t,n,a)}finally{xe=r,er.transition=o}}function Su(e,t,n,a){if(jo){var r=dc(e,t,n,a);if(r===null)il(e,t,a,Oo,n),vm(e,a);else if(dy(r,e,t,n,a))a.stopPropagation();else if(vm(e,a),t&4&&-1<uy.indexOf(e)){for(;r!==null;){var o=Ci(r);if(o!==null&&Rh(o),o=dc(e,t,n,a),o===null&&il(e,t,a,Oo,n),o===r)break;r=o}r!==null&&a.stopPropagation()}else il(e,t,a,null,n)}}var Oo=null;function dc(e,t,n,a){if(Oo=null,e=Eu(a),e=fa(e),e!==null)if(t=Ca(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ch(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oo=e,null}function Ih(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ty()){case bu:return 1;case Lh:return 4;case Mo:case ny:return 16;case Ah:return 536870912;default:return 16}default:return 16}}var On=null,Cu=null,vo=null;function Vh(){if(vo)return vo;var e,t=Cu,n=t.length,a,r="value"in On?On.value:On.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===r[o-a];a++);return vo=r.slice(e,1<a?1-a:void 0)}function xo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function ym(){return!1}function Tt(e){function t(n,a,r,o,s){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wi:ym,this.isPropagationStopped=ym,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),t}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=Tt(fr),Si=ze({},fr,{view:0,detail:0}),hy=Tt(Si),Qs,Xs,Cr,xs=ze({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(Qs=e.screenX-Cr.screenX,Xs=e.screenY-Cr.screenY):Xs=Qs=0,Cr=e),Qs)},movementY:function(e){return"movementY"in e?e.movementY:Xs}}),wm=Tt(xs),gy=ze({},xs,{dataTransfer:0}),vy=Tt(gy),xy=ze({},Si,{relatedTarget:0}),Zs=Tt(xy),yy=ze({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),wy=Tt(yy),Ey=ze({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),by=Tt(Ey),ky=ze({},fr,{data:0}),Em=Tt(ky),Ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cy[e])?!!t[e]:!1}function _u(){return Py}var _y=ze({},Si,{key:function(e){if(e.key){var t=Ny[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ty=Tt(_y),Ly=ze({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=Tt(Ly),Ay=ze({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Dy=Tt(Ay),My=ze({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ry=Tt(My),jy=ze({},xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oy=Tt(jy),zy=[9,13,27,32],Tu=wn&&"CompositionEvent"in window,Br=null;wn&&"documentMode"in document&&(Br=document.documentMode);var Fy=wn&&"TextEvent"in window&&!Br,Bh=wn&&(!Tu||Br&&8<Br&&11>=Br),km=String.fromCharCode(32),Nm=!1;function $h(e,t){switch(e){case"keyup":return zy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function Iy(e,t){switch(e){case"compositionend":return Uh(t);case"keypress":return t.which!==32?null:(Nm=!0,km);case"textInput":return e=t.data,e===km&&Nm?null:e;default:return null}}function Vy(e,t){if(za)return e==="compositionend"||!Tu&&$h(e,t)?(e=Vh(),vo=Cu=On=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bh&&t.locale!=="ko"?null:t.data;default:return null}}var By={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!By[e.type]:t==="textarea"}function Hh(e,t,n,a){Eh(a),t=zo(t,"onChange"),0<t.length&&(n=new Pu("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $r=null,oi=null;function $y(e){tg(e,0)}function ys(e){var t=Va(e);if(fh(t))return e}function Uy(e,t){if(e==="change")return t}var Wh=!1;if(wn){var Js;if(wn){var el="oninput"in document;if(!el){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),el=typeof Cm.oninput=="function"}Js=el}else Js=!1;Wh=Js&&(!document.documentMode||9<document.documentMode)}function Pm(){$r&&($r.detachEvent("onpropertychange",Gh),oi=$r=null)}function Gh(e){if(e.propertyName==="value"&&ys(oi)){var t=[];Hh(t,oi,e,Eu(e)),Sh($y,t)}}function Hy(e,t,n){e==="focusin"?(Pm(),$r=t,oi=n,$r.attachEvent("onpropertychange",Gh)):e==="focusout"&&Pm()}function Wy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ys(oi)}function Gy(e,t){if(e==="click")return ys(t)}function qy(e,t){if(e==="input"||e==="change")return ys(t)}function Ky(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Ky;function si(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!ql.call(t,r)||!Zt(e[r],t[r]))return!1}return!0}function _m(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tm(e,t){var n=_m(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_m(n)}}function qh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kh(){for(var e=window,t=Lo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lo(e.document)}return t}function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yy(e){var t=Kh(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qh(n.ownerDocument.documentElement,n)){if(a!==null&&Lu(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(a.start,r);a=a.end===void 0?o:Math.min(a.end,r),!e.extend&&o>a&&(r=a,a=o,o=r),r=Tm(n,o);var s=Tm(n,a);r&&s&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qy=wn&&"documentMode"in document&&11>=document.documentMode,Fa=null,mc=null,Ur=null,pc=!1;function Lm(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pc||Fa==null||Fa!==Lo(a)||(a=Fa,"selectionStart"in a&&Lu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ur&&si(Ur,a)||(Ur=a,a=zo(mc,"onSelect"),0<a.length&&(t=new Pu("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Fa)))}function Gi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ia={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},tl={},Yh={};wn&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ws(e){if(tl[e])return tl[e];if(!Ia[e])return e;var t=Ia[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yh)return tl[e]=t[n];return e}var Qh=ws("animationend"),Xh=ws("animationiteration"),Zh=ws("animationstart"),Jh=ws("transitionend"),eg=new Map,Am="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(e,t){eg.set(e,t),Sa(t,[e])}for(var nl=0;nl<Am.length;nl++){var al=Am[nl],Xy=al.toLowerCase(),Zy=al[0].toUpperCase()+al.slice(1);Zn(Xy,"on"+Zy)}Zn(Qh,"onAnimationEnd");Zn(Xh,"onAnimationIteration");Zn(Zh,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(Jh,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Dm(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Xx(a,t,void 0,e),e.currentTarget=null}function tg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var s=a.length-1;0<=s;s--){var l=a[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&r.isPropagationStopped())break e;Dm(r,l,u),o=c}else for(s=0;s<a.length;s++){if(l=a[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&r.isPropagationStopped())break e;Dm(r,l,u),o=c}}}if(Do)throw e=lc,Do=!1,lc=null,e}function Ne(e,t){var n=t[xc];n===void 0&&(n=t[xc]=new Set);var a=e+"__bubble";n.has(a)||(ng(t,e,2,!1),n.add(a))}function rl(e,t,n){var a=0;t&&(a|=4),ng(n,e,a,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[qi]){e[qi]=!0,ch.forEach(function(n){n!=="selectionchange"&&(Jy.has(n)||rl(n,!1,e),rl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,rl("selectionchange",!1,t))}}function ng(e,t,n,a){switch(Ih(t)){case 1:var r=py;break;case 4:r=fy;break;default:r=Su}n=r.bind(null,t,n,e),r=void 0,!sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function il(e,t,n,a,r){var o=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var l=a.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(s===4)for(s=a.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;s=s.return}for(;l!==null;){if(s=fa(l),s===null)return;if(c=s.tag,c===5||c===6){a=o=s;continue e}l=l.parentNode}}a=a.return}Sh(function(){var u=o,d=Eu(n),m=[];e:{var f=eg.get(e);if(f!==void 0){var g=Pu,w=e;switch(e){case"keypress":if(xo(n)===0)break e;case"keydown":case"keyup":g=Ty;break;case"focusin":w="focus",g=Zs;break;case"focusout":w="blur",g=Zs;break;case"beforeblur":case"afterblur":g=Zs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Dy;break;case Qh:case Xh:case Zh:g=wy;break;case Jh:g=Ry;break;case"scroll":g=hy;break;case"wheel":g=Oy;break;case"copy":case"cut":case"paste":g=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bm}var y=(t&4)!==0,E=!y&&e==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var h=u,v;h!==null;){v=h;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,x!==null&&(b=ni(h,x),b!=null&&y.push(ci(h,b,v)))),E)break;h=h.return}0<y.length&&(f=new g(f,w,null,n,d),m.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==ic&&(w=n.relatedTarget||n.fromElement)&&(fa(w)||w[En]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?fa(w):null,w!==null&&(E=Ca(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(y=wm,b="onMouseLeave",x="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(y=bm,b="onPointerLeave",x="onPointerEnter",h="pointer"),E=g==null?f:Va(g),v=w==null?f:Va(w),f=new y(b,h+"leave",g,n,d),f.target=E,f.relatedTarget=v,b=null,fa(d)===u&&(y=new y(x,h+"enter",w,n,d),y.target=v,y.relatedTarget=E,b=y),E=b,g&&w)t:{for(y=g,x=w,h=0,v=y;v;v=La(v))h++;for(v=0,b=x;b;b=La(b))v++;for(;0<h-v;)y=La(y),h--;for(;0<v-h;)x=La(x),v--;for(;h--;){if(y===x||x!==null&&y===x.alternate)break t;y=La(y),x=La(x)}y=null}else y=null;g!==null&&Mm(m,f,g,y,!1),w!==null&&E!==null&&Mm(m,E,w,y,!0)}}e:{if(f=u?Va(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=Uy;else if(Sm(f))if(Wh)k=qy;else{k=Wy;var T=Hy}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Gy);if(k&&(k=k(e,u))){Hh(m,k,n,d);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&ec(f,"number",f.value)}switch(T=u?Va(u):window,e){case"focusin":(Sm(T)||T.contentEditable==="true")&&(Fa=T,mc=u,Ur=null);break;case"focusout":Ur=mc=Fa=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Lm(m,n,d);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":Lm(m,n,d)}var _;if(Tu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else za?$h(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Bh&&n.locale!=="ko"&&(za||P!=="onCompositionStart"?P==="onCompositionEnd"&&za&&(_=Vh()):(On=d,Cu="value"in On?On.value:On.textContent,za=!0)),T=zo(u,P),0<T.length&&(P=new Em(P,e,null,n,d),m.push({event:P,listeners:T}),_?P.data=_:(_=Uh(n),_!==null&&(P.data=_)))),(_=Fy?Iy(e,n):Vy(e,n))&&(u=zo(u,"onBeforeInput"),0<u.length&&(d=new Em("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=_))}tg(m,t)})}function ci(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zo(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=ni(e,n),o!=null&&a.unshift(ci(e,o,r)),o=ni(e,t),o!=null&&a.push(ci(e,o,r))),e=e.return}return a}function La(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mm(e,t,n,a,r){for(var o=t._reactName,s=[];n!==null&&n!==a;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&u!==null&&(l=u,r?(c=ni(n,o),c!=null&&s.unshift(ci(n,c,l))):r||(c=ni(n,o),c!=null&&s.push(ci(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function Rm(e){return(typeof e=="string"?e:""+e).replace(e1,`
`).replace(t1,"")}function Ki(e,t,n){if(t=Rm(t),Rm(e)!==t&&n)throw Error($(425))}function Fo(){}var fc=null,hc=null;function gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,a1=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(e){return jm.resolve(null).then(e).catch(r1)}:vc;function r1(e){setTimeout(function(){throw e})}function ol(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(a===0){e.removeChild(r),ii(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=r}while(n);ii(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Om(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),rn="__reactFiber$"+hr,ui="__reactProps$"+hr,En="__reactContainer$"+hr,xc="__reactEvents$"+hr,i1="__reactListeners$"+hr,o1="__reactHandles$"+hr;function fa(e){var t=e[rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Om(e);e!==null;){if(n=e[rn])return n;e=Om(e)}return t}e=n,n=e.parentNode}return null}function Ci(e){return e=e[rn]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Va(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Es(e){return e[ui]||null}var yc=[],Ba=-1;function Jn(e){return{current:e}}function Se(e){0>Ba||(e.current=yc[Ba],yc[Ba]=null,Ba--)}function Ee(e,t){Ba++,yc[Ba]=e.current,e.current=t}var Yn={},lt=Jn(Yn),yt=Jn(!1),wa=Yn;function rr(e,t){var n=e.type.contextTypes;if(!n)return Yn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function wt(e){return e=e.childContextTypes,e!=null}function Io(){Se(yt),Se(lt)}function zm(e,t,n){if(lt.current!==Yn)throw Error($(168));Ee(lt,t),Ee(yt,n)}function ag(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var r in a)if(!(r in t))throw Error($(108,Hx(e)||"Unknown",r));return ze({},n,a)}function Vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,wa=lt.current,Ee(lt,e),Ee(yt,yt.current),!0}function Fm(e,t,n){var a=e.stateNode;if(!a)throw Error($(169));n?(e=ag(e,t,wa),a.__reactInternalMemoizedMergedChildContext=e,Se(yt),Se(lt),Ee(lt,e)):Se(yt),Ee(yt,n)}var mn=null,bs=!1,sl=!1;function rg(e){mn===null?mn=[e]:mn.push(e)}function s1(e){bs=!0,rg(e)}function ea(){if(!sl&&mn!==null){sl=!0;var e=0,t=xe;try{var n=mn;for(xe=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}mn=null,bs=!1}catch(r){throw mn!==null&&(mn=mn.slice(e+1)),Th(bu,ea),r}finally{xe=t,sl=!1}}return null}var $a=[],Ua=0,Bo=null,$o=0,Ft=[],It=0,Ea=null,pn=1,fn="";function la(e,t){$a[Ua++]=$o,$a[Ua++]=Bo,Bo=e,$o=t}function ig(e,t,n){Ft[It++]=pn,Ft[It++]=fn,Ft[It++]=Ea,Ea=e;var a=pn;e=fn;var r=32-Qt(a)-1;a&=~(1<<r),n+=1;var o=32-Qt(t)+r;if(30<o){var s=r-r%5;o=(a&(1<<s)-1).toString(32),a>>=s,r-=s,pn=1<<32-Qt(t)+r|n<<r|a,fn=o+e}else pn=1<<o|n<<r|a,fn=e}function Au(e){e.return!==null&&(la(e,1),ig(e,1,0))}function Du(e){for(;e===Bo;)Bo=$a[--Ua],$a[Ua]=null,$o=$a[--Ua],$a[Ua]=null;for(;e===Ea;)Ea=Ft[--It],Ft[It]=null,fn=Ft[--It],Ft[It]=null,pn=Ft[--It],Ft[It]=null}var St=null,Nt=null,Pe=!1,Yt=null;function og(e,t){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Im(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,Nt=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ea!==null?{id:pn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,St=e,Nt=null,!0):!1;default:return!1}}function wc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ec(e){if(Pe){var t=Nt;if(t){var n=t;if(!Im(e,t)){if(wc(e))throw Error($(418));t=Bn(n.nextSibling);var a=St;t&&Im(e,t)?og(a,n):(e.flags=e.flags&-4097|2,Pe=!1,St=e)}}else{if(wc(e))throw Error($(418));e.flags=e.flags&-4097|2,Pe=!1,St=e}}}function Vm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Yi(e){if(e!==St)return!1;if(!Pe)return Vm(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gc(e.type,e.memoizedProps)),t&&(t=Nt)){if(wc(e))throw sg(),Error($(418));for(;t;)og(e,t),t=Bn(t.nextSibling)}if(Vm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=St?Bn(e.stateNode.nextSibling):null;return!0}function sg(){for(var e=Nt;e;)e=Bn(e.nextSibling)}function ir(){Nt=St=null,Pe=!1}function Mu(e){Yt===null?Yt=[e]:Yt.push(e)}var l1=Cn.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var a=n.stateNode}if(!a)throw Error($(147,e));var r=a,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=r.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bm(e){var t=e._init;return t(e._payload)}function lg(e){function t(x,h){if(e){var v=x.deletions;v===null?(x.deletions=[h],x.flags|=16):v.push(h)}}function n(x,h){if(!e)return null;for(;h!==null;)t(x,h),h=h.sibling;return null}function a(x,h){for(x=new Map;h!==null;)h.key!==null?x.set(h.key,h):x.set(h.index,h),h=h.sibling;return x}function r(x,h){return x=Wn(x,h),x.index=0,x.sibling=null,x}function o(x,h,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<h?(x.flags|=2,h):v):(x.flags|=2,h)):(x.flags|=1048576,h)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,h,v,b){return h===null||h.tag!==6?(h=fl(v,x.mode,b),h.return=x,h):(h=r(h,v),h.return=x,h)}function c(x,h,v,b){var k=v.type;return k===Oa?d(x,h,v.props.children,b,v.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===An&&Bm(k)===h.type)?(b=r(h,v.props),b.ref=Pr(x,h,v),b.return=x,b):(b=So(v.type,v.key,v.props,null,x.mode,b),b.ref=Pr(x,h,v),b.return=x,b)}function u(x,h,v,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=hl(v,x.mode,b),h.return=x,h):(h=r(h,v.children||[]),h.return=x,h)}function d(x,h,v,b,k){return h===null||h.tag!==7?(h=ya(v,x.mode,b,k),h.return=x,h):(h=r(h,v),h.return=x,h)}function m(x,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=fl(""+h,x.mode,v),h.return=x,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ii:return v=So(h.type,h.key,h.props,null,x.mode,v),v.ref=Pr(x,null,h),v.return=x,v;case ja:return h=hl(h,x.mode,v),h.return=x,h;case An:var b=h._init;return m(x,b(h._payload),v)}if(Rr(h)||br(h))return h=ya(h,x.mode,v,null),h.return=x,h;Qi(x,h)}return null}function f(x,h,v,b){var k=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(x,h,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ii:return v.key===k?c(x,h,v,b):null;case ja:return v.key===k?u(x,h,v,b):null;case An:return k=v._init,f(x,h,k(v._payload),b)}if(Rr(v)||br(v))return k!==null?null:d(x,h,v,b,null);Qi(x,v)}return null}function g(x,h,v,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(v)||null,l(h,x,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ii:return x=x.get(b.key===null?v:b.key)||null,c(h,x,b,k);case ja:return x=x.get(b.key===null?v:b.key)||null,u(h,x,b,k);case An:var T=b._init;return g(x,h,v,T(b._payload),k)}if(Rr(b)||br(b))return x=x.get(v)||null,d(h,x,b,k,null);Qi(h,b)}return null}function w(x,h,v,b){for(var k=null,T=null,_=h,P=h=0,z=null;_!==null&&P<v.length;P++){_.index>P?(z=_,_=null):z=_.sibling;var D=f(x,_,v[P],b);if(D===null){_===null&&(_=z);break}e&&_&&D.alternate===null&&t(x,_),h=o(D,h,P),T===null?k=D:T.sibling=D,T=D,_=z}if(P===v.length)return n(x,_),Pe&&la(x,P),k;if(_===null){for(;P<v.length;P++)_=m(x,v[P],b),_!==null&&(h=o(_,h,P),T===null?k=_:T.sibling=_,T=_);return Pe&&la(x,P),k}for(_=a(x,_);P<v.length;P++)z=g(_,x,P,v[P],b),z!==null&&(e&&z.alternate!==null&&_.delete(z.key===null?P:z.key),h=o(z,h,P),T===null?k=z:T.sibling=z,T=z);return e&&_.forEach(function(C){return t(x,C)}),Pe&&la(x,P),k}function y(x,h,v,b){var k=br(v);if(typeof k!="function")throw Error($(150));if(v=k.call(v),v==null)throw Error($(151));for(var T=k=null,_=h,P=h=0,z=null,D=v.next();_!==null&&!D.done;P++,D=v.next()){_.index>P?(z=_,_=null):z=_.sibling;var C=f(x,_,D.value,b);if(C===null){_===null&&(_=z);break}e&&_&&C.alternate===null&&t(x,_),h=o(C,h,P),T===null?k=C:T.sibling=C,T=C,_=z}if(D.done)return n(x,_),Pe&&la(x,P),k;if(_===null){for(;!D.done;P++,D=v.next())D=m(x,D.value,b),D!==null&&(h=o(D,h,P),T===null?k=D:T.sibling=D,T=D);return Pe&&la(x,P),k}for(_=a(x,_);!D.done;P++,D=v.next())D=g(_,x,P,D.value,b),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?P:D.key),h=o(D,h,P),T===null?k=D:T.sibling=D,T=D);return e&&_.forEach(function(I){return t(x,I)}),Pe&&la(x,P),k}function E(x,h,v,b){if(typeof v=="object"&&v!==null&&v.type===Oa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ii:e:{for(var k=v.key,T=h;T!==null;){if(T.key===k){if(k=v.type,k===Oa){if(T.tag===7){n(x,T.sibling),h=r(T,v.props.children),h.return=x,x=h;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===An&&Bm(k)===T.type){n(x,T.sibling),h=r(T,v.props),h.ref=Pr(x,T,v),h.return=x,x=h;break e}n(x,T);break}else t(x,T);T=T.sibling}v.type===Oa?(h=ya(v.props.children,x.mode,b,v.key),h.return=x,x=h):(b=So(v.type,v.key,v.props,null,x.mode,b),b.ref=Pr(x,h,v),b.return=x,x=b)}return s(x);case ja:e:{for(T=v.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(x,h.sibling),h=r(h,v.children||[]),h.return=x,x=h;break e}else{n(x,h);break}else t(x,h);h=h.sibling}h=hl(v,x.mode,b),h.return=x,x=h}return s(x);case An:return T=v._init,E(x,h,T(v._payload),b)}if(Rr(v))return w(x,h,v,b);if(br(v))return y(x,h,v,b);Qi(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(x,h.sibling),h=r(h,v),h.return=x,x=h):(n(x,h),h=fl(v,x.mode,b),h.return=x,x=h),s(x)):n(x,h)}return E}var or=lg(!0),cg=lg(!1),Uo=Jn(null),Ho=null,Ha=null,Ru=null;function ju(){Ru=Ha=Ho=null}function Ou(e){var t=Uo.current;Se(Uo),e._currentValue=t}function bc(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function tr(e,t){Ho=e,Ru=Ha=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Ru!==e)if(e={context:e,memoizedValue:t,next:null},Ha===null){if(Ho===null)throw Error($(308));Ha=e,Ho.dependencies={lanes:0,firstContext:e}}else Ha=Ha.next=e;return t}var ha=null;function zu(e){ha===null?ha=[e]:ha.push(e)}function ug(e,t,n,a){var r=t.interleaved;return r===null?(n.next=n,zu(t)):(n.next=r.next,r.next=n),t.interleaved=n,bn(e,a)}function bn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dn=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,he&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,bn(e,n)}return r=a.interleaved,r===null?(t.next=t,zu(a)):(t.next=r.next,r.next=t),a.interleaved=t,bn(e,n)}function yo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ku(e,n)}}function $m(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,a){var r=e.updateQueue;Dn=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var m=r.baseState;s=0,d=u=c=null,l=o;do{var f=l.lane,g=l.eventTime;if((a&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(f=t,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){m=w.call(g,m,f);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(g,m,f):w,f==null)break e;m=ze({},m,f);break e;case 2:Dn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=m):d=d.next=g,s|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(d===null&&(c=m),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do s|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);ka|=s,e.lanes=s,e.memoizedState=m}}function Um(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(r!==null){if(a.callback=null,a=n,typeof r!="function")throw Error($(191,r));r.call(a)}}}var Pi={},sn=Jn(Pi),di=Jn(Pi),mi=Jn(Pi);function ga(e){if(e===Pi)throw Error($(174));return e}function Iu(e,t){switch(Ee(mi,t),Ee(di,e),Ee(sn,Pi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nc(t,e)}Se(sn),Ee(sn,t)}function sr(){Se(sn),Se(di),Se(mi)}function mg(e){ga(mi.current);var t=ga(sn.current),n=nc(t,e.type);t!==n&&(Ee(di,e),Ee(sn,n))}function Vu(e){di.current===e&&(Se(sn),Se(di))}var Re=Jn(0);function Go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=[];function Bu(){for(var e=0;e<ll.length;e++)ll[e]._workInProgressVersionPrimary=null;ll.length=0}var wo=Cn.ReactCurrentDispatcher,cl=Cn.ReactCurrentBatchConfig,ba=0,Oe=null,Ke=null,Qe=null,qo=!1,Hr=!1,pi=0,c1=0;function rt(){throw Error($(321))}function $u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Uu(e,t,n,a,r,o){if(ba=o,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wo.current=e===null||e.memoizedState===null?p1:f1,e=n(a,r),Hr){o=0;do{if(Hr=!1,pi=0,25<=o)throw Error($(301));o+=1,Qe=Ke=null,t.updateQueue=null,wo.current=h1,e=n(a,r)}while(Hr)}if(wo.current=Ko,t=Ke!==null&&Ke.next!==null,ba=0,Qe=Ke=Oe=null,qo=!1,t)throw Error($(300));return e}function Hu(){var e=pi!==0;return pi=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Oe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ut(){if(Ke===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Qe===null?Oe.memoizedState:Qe.next;if(t!==null)Qe=t,Ke=e;else{if(e===null)throw Error($(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Qe===null?Oe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function fi(e,t){return typeof t=="function"?t(e):t}function ul(e){var t=Ut(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var a=Ke,r=a.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}a.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,a=a.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ba&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,s=a):c=c.next=m,Oe.lanes|=d,ka|=d}u=u.next}while(u!==null&&u!==o);c===null?s=a:c.next=l,Zt(a,t.memoizedState)||(xt=!0),t.memoizedState=a,t.baseState=s,t.baseQueue=c,n.lastRenderedState=a}if(e=n.interleaved,e!==null){r=e;do o=r.lane,Oe.lanes|=o,ka|=o,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dl(e){var t=Ut(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=e(o,s.action),s=s.next;while(s!==r);Zt(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function pg(){}function fg(e,t){var n=Oe,a=Ut(),r=t(),o=!Zt(a.memoizedState,r);if(o&&(a.memoizedState=r,xt=!0),a=a.queue,Wu(vg.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,hi(9,gg.bind(null,n,a,r,t),void 0,null),Xe===null)throw Error($(349));ba&30||hg(n,t,r)}return r}function hg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gg(e,t,n,a){t.value=n,t.getSnapshot=a,xg(t)&&yg(e)}function vg(e,t,n){return n(function(){xg(t)&&yg(e)})}function xg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function yg(e){var t=bn(e,1);t!==null&&Xt(t,e,1,-1)}function Hm(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t.queue=e,e=e.dispatch=m1.bind(null,Oe,e),[t.memoizedState,e]}function hi(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function wg(){return Ut().memoizedState}function Eo(e,t,n,a){var r=an();Oe.flags|=e,r.memoizedState=hi(1|t,n,void 0,a===void 0?null:a)}function ks(e,t,n,a){var r=Ut();a=a===void 0?null:a;var o=void 0;if(Ke!==null){var s=Ke.memoizedState;if(o=s.destroy,a!==null&&$u(a,s.deps)){r.memoizedState=hi(t,n,o,a);return}}Oe.flags|=e,r.memoizedState=hi(1|t,n,o,a)}function Wm(e,t){return Eo(8390656,8,e,t)}function Wu(e,t){return ks(2048,8,e,t)}function Eg(e,t){return ks(4,2,e,t)}function bg(e,t){return ks(4,4,e,t)}function kg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ng(e,t,n){return n=n!=null?n.concat([e]):null,ks(4,4,kg.bind(null,t,e),n)}function Gu(){}function Sg(e,t){var n=Ut();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&$u(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Cg(e,t){var n=Ut();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&$u(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Pg(e,t,n){return ba&21?(Zt(n,t)||(n=Dh(),Oe.lanes|=n,ka|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function u1(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var a=cl.transition;cl.transition={};try{e(!1),t()}finally{xe=n,cl.transition=a}}function _g(){return Ut().memoizedState}function d1(e,t,n){var a=Hn(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Tg(e))Lg(t,n);else if(n=ug(e,t,n,a),n!==null){var r=ft();Xt(n,e,a,r),Ag(n,t,a)}}function m1(e,t,n){var a=Hn(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tg(e))Lg(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(r.hasEagerState=!0,r.eagerState=l,Zt(l,s)){var c=t.interleaved;c===null?(r.next=r,zu(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=ug(e,t,r,a),n!==null&&(r=ft(),Xt(n,e,a,r),Ag(n,t,a))}}function Tg(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Lg(e,t){Hr=qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ag(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ku(e,n)}}var Ko={readContext:$t,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},p1={readContext:$t,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Wm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Eo(4194308,4,kg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eo(4,2,e,t)},useMemo:function(e,t){var n=an();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=an();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=d1.bind(null,Oe,e),[a.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:Hm,useDebugValue:Gu,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=Hm(!1),t=e[0];return e=u1.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Oe,r=an();if(Pe){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Xe===null)throw Error($(349));ba&30||hg(a,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Wm(vg.bind(null,a,o,e),[e]),a.flags|=2048,hi(9,gg.bind(null,a,o,n,t),void 0,null),n},useId:function(){var e=an(),t=Xe.identifierPrefix;if(Pe){var n=fn,a=pn;n=(a&~(1<<32-Qt(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=pi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f1={readContext:$t,useCallback:Sg,useContext:$t,useEffect:Wu,useImperativeHandle:Ng,useInsertionEffect:Eg,useLayoutEffect:bg,useMemo:Cg,useReducer:ul,useRef:wg,useState:function(){return ul(fi)},useDebugValue:Gu,useDeferredValue:function(e){var t=Ut();return Pg(t,Ke.memoizedState,e)},useTransition:function(){var e=ul(fi)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:pg,useSyncExternalStore:fg,useId:_g,unstable_isNewReconciler:!1},h1={readContext:$t,useCallback:Sg,useContext:$t,useEffect:Wu,useImperativeHandle:Ng,useInsertionEffect:Eg,useLayoutEffect:bg,useMemo:Cg,useReducer:dl,useRef:wg,useState:function(){return dl(fi)},useDebugValue:Gu,useDeferredValue:function(e){var t=Ut();return Ke===null?t.memoizedState=e:Pg(t,Ke.memoizedState,e)},useTransition:function(){var e=dl(fi)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:pg,useSyncExternalStore:fg,useId:_g,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function kc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ns={isMounted:function(e){return(e=e._reactInternals)?Ca(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ft(),r=Hn(e),o=gn(a,r);o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,r),t!==null&&(Xt(t,e,r,a),yo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ft(),r=Hn(e),o=gn(a,r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,r),t!==null&&(Xt(t,e,r,a),yo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),a=Hn(e),r=gn(n,a);r.tag=2,t!=null&&(r.callback=t),t=$n(e,r,a),t!==null&&(Xt(t,e,a,n),yo(t,e,a))}};function Gm(e,t,n,a,r,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,s):t.prototype&&t.prototype.isPureReactComponent?!si(n,a)||!si(r,o):!0}function Dg(e,t,n){var a=!1,r=Yn,o=t.contextType;return typeof o=="object"&&o!==null?o=$t(o):(r=wt(t)?wa:lt.current,a=t.contextTypes,o=(a=a!=null)?rr(e,r):Yn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ns,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function qm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ns.enqueueReplaceState(t,t.state,null)}function Nc(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Fu(e);var o=t.contextType;typeof o=="object"&&o!==null?r.context=$t(o):(o=wt(t)?wa:lt.current,r.context=rr(e,o)),r.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(kc(e,t,o,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ns.enqueueReplaceState(r,r.state,null),Wo(e,n,r,a),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function lr(e,t){try{var n="",a=t;do n+=Ux(a),a=a.return;while(a);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:r,digest:null}}function ml(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g1=typeof WeakMap=="function"?WeakMap:Map;function Mg(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Qo||(Qo=!0,jc=a),Sc(e,t)},n}function Rg(e,t,n){n=gn(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){Sc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Sc(e,t),typeof a!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Km(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new g1;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=L1.bind(null,e,t,n),t.then(e,e))}function Ym(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qm(e,t,n,a,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var v1=Cn.ReactCurrentOwner,xt=!1;function pt(e,t,n,a){t.child=e===null?cg(t,null,n,a):or(t,e.child,n,a)}function Xm(e,t,n,a,r){n=n.render;var o=t.ref;return tr(t,r),a=Uu(e,t,n,a,o,r),n=Hu(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,kn(e,t,r)):(Pe&&n&&Au(t),t.flags|=1,pt(e,t,a,r),t.child)}function Zm(e,t,n,a,r){if(e===null){var o=n.type;return typeof o=="function"&&!ed(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,jg(e,t,o,a,r)):(e=So(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:si,n(s,a)&&e.ref===t.ref)return kn(e,t,r)}return t.flags|=1,e=Wn(o,a),e.ref=t.ref,e.return=t,t.child=e}function jg(e,t,n,a,r){if(e!==null){var o=e.memoizedProps;if(si(o,a)&&e.ref===t.ref)if(xt=!1,t.pendingProps=a=o,(e.lanes&r)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,kn(e,t,r)}return Cc(e,t,n,a,r)}function Og(e,t,n){var a=t.pendingProps,r=a.children,o=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ga,kt),kt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Ga,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=o!==null?o.baseLanes:n,Ee(Ga,kt),kt|=a}else o!==null?(a=o.baseLanes|n,t.memoizedState=null):a=n,Ee(Ga,kt),kt|=a;return pt(e,t,r,n),t.child}function zg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cc(e,t,n,a,r){var o=wt(n)?wa:lt.current;return o=rr(t,o),tr(t,r),n=Uu(e,t,n,a,o,r),a=Hu(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,kn(e,t,r)):(Pe&&a&&Au(t),t.flags|=1,pt(e,t,n,r),t.child)}function Jm(e,t,n,a,r){if(wt(n)){var o=!0;Vo(t)}else o=!1;if(tr(t,r),t.stateNode===null)bo(e,t),Dg(t,n,a),Nc(t,n,a,r),a=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=wt(n)?wa:lt.current,u=rr(t,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==a||c!==u)&&qm(t,s,a,u),Dn=!1;var f=t.memoizedState;s.state=f,Wo(t,a,s,r),c=t.memoizedState,l!==a||f!==c||yt.current||Dn?(typeof d=="function"&&(kc(t,n,d,a),c=t.memoizedState),(l=Dn||Gm(t,n,l,a,f,c,u))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=u,a=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,dg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qt(t.type,l),s.props=u,m=t.pendingProps,f=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=$t(c):(c=wt(n)?wa:lt.current,c=rr(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||f!==c)&&qm(t,s,a,c),Dn=!1,f=t.memoizedState,s.state=f,Wo(t,a,s,r);var w=t.memoizedState;l!==m||f!==w||yt.current||Dn?(typeof g=="function"&&(kc(t,n,g,a),w=t.memoizedState),(u=Dn||Gm(t,n,u,a,f,w,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,w,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,w,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=w),s.props=a,s.state=w,s.context=c,a=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return Pc(e,t,n,a,o,r)}function Pc(e,t,n,a,r,o){zg(e,t);var s=(t.flags&128)!==0;if(!a&&!s)return r&&Fm(t,n,!1),kn(e,t,o);a=t.stateNode,v1.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&s?(t.child=or(t,e.child,null,o),t.child=or(t,null,l,o)):pt(e,t,l,o),t.memoizedState=a.state,r&&Fm(t,n,!0),t.child}function Fg(e){var t=e.stateNode;t.pendingContext?zm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zm(e,t.context,!1),Iu(e,t.containerInfo)}function ep(e,t,n,a,r){return ir(),Mu(r),t.flags|=256,pt(e,t,n,a),t.child}var _c={dehydrated:null,treeContext:null,retryLane:0};function Tc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ig(e,t,n){var a=t.pendingProps,r=Re.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Ee(Re,r&1),e===null)return Ec(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=a.children,e=a.fallback,o?(a=t.mode,o=t.child,s={mode:"hidden",children:s},!(a&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ps(s,a,0,null),e=ya(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Tc(n),t.memoizedState=_c,e):qu(t,s));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return x1(e,t,s,a,l,r,n);if(o){o=a.fallback,s=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:a.children};return!(s&1)&&t.child!==r?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Wn(r,c),a.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=Wn(l,o):(o=ya(o,s,n,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,s=e.child.memoizedState,s=s===null?Tc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=_c,a}return o=e.child,e=o.sibling,a=Wn(o,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function qu(e,t){return t=Ps({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xi(e,t,n,a){return a!==null&&Mu(a),or(t,e.child,null,n),e=qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x1(e,t,n,a,r,o,s){if(n)return t.flags&256?(t.flags&=-257,a=ml(Error($(422))),Xi(e,t,s,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=a.fallback,r=t.mode,a=Ps({mode:"visible",children:a.children},r,0,null),o=ya(o,r,s,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,t.mode&1&&or(t,e.child,null,s),t.child.memoizedState=Tc(s),t.memoizedState=_c,o);if(!(t.mode&1))return Xi(e,t,s,null);if(r.data==="$!"){if(a=r.nextSibling&&r.nextSibling.dataset,a)var l=a.dgst;return a=l,o=Error($(419)),a=ml(o,a,void 0),Xi(e,t,s,a)}if(l=(s&e.childLanes)!==0,xt||l){if(a=Xe,a!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(a.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,bn(e,r),Xt(a,e,r,-1))}return Ju(),a=ml(Error($(421))),Xi(e,t,s,a)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=A1.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,Nt=Bn(r.nextSibling),St=t,Pe=!0,Yt=null,e!==null&&(Ft[It++]=pn,Ft[It++]=fn,Ft[It++]=Ea,pn=e.id,fn=e.overflow,Ea=t),t=qu(t,a.children),t.flags|=4096,t)}function tp(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),bc(e.return,t,n)}function pl(e,t,n,a,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=r)}function Vg(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;if(pt(e,t,a.children,n),a=Re.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tp(e,n,t);else if(e.tag===19)tp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ee(Re,a),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Go(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),pl(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Go(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}pl(t,!0,n,null,o);break;case"together":pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function y1(e,t,n){switch(t.tag){case 3:Fg(t),ir();break;case 5:mg(t);break;case 1:wt(t.type)&&Vo(t);break;case 4:Iu(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Ee(Uo,a._currentValue),a._currentValue=r;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ee(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?Ig(e,t,n):(Ee(Re,Re.current&1),e=kn(e,t,n),e!==null?e.sibling:null);Ee(Re,Re.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return Vg(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ee(Re,Re.current),a)break;return null;case 22:case 23:return t.lanes=0,Og(e,t,n)}return kn(e,t,n)}var Bg,Lc,$g,Ug;Bg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lc=function(){};$g=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,ga(sn.current);var o=null;switch(n){case"input":r=Zl(e,r),a=Zl(e,a),o=[];break;case"select":r=ze({},r,{value:void 0}),a=ze({},a,{value:void 0}),o=[];break;case"textarea":r=tc(e,r),a=tc(e,a),o=[];break;default:typeof r.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Fo)}ac(n,a);var s;n=null;for(u in r)if(!a.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ei.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in a){var c=a[u];if(l=r!=null?r[u]:void 0,a.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ei.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ug=function(e,t,n,a){n!==a&&(t.flags|=4)};function _r(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&14680064,a|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function w1(e,t,n){var a=t.pendingProps;switch(Du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return wt(t.type)&&Io(),it(t),null;case 3:return a=t.stateNode,sr(),Se(yt),Se(lt),Bu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(Fc(Yt),Yt=null))),Lc(e,t),it(t),null;case 5:Vu(t);var r=ga(mi.current);if(n=t.type,e!==null&&t.stateNode!=null)$g(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error($(166));return it(t),null}if(e=ga(sn.current),Yi(t)){a=t.stateNode,n=t.type;var o=t.memoizedProps;switch(a[rn]=t,a[ui]=o,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",a),Ne("close",a);break;case"iframe":case"object":case"embed":Ne("load",a);break;case"video":case"audio":for(r=0;r<Or.length;r++)Ne(Or[r],a);break;case"source":Ne("error",a);break;case"img":case"image":case"link":Ne("error",a),Ne("load",a);break;case"details":Ne("toggle",a);break;case"input":um(a,o),Ne("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",a);break;case"textarea":mm(a,o),Ne("invalid",a)}ac(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?a.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ki(a.textContent,l,e),r=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ki(a.textContent,l,e),r=["children",""+l]):ei.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ne("scroll",a)}switch(n){case"input":Vi(a),dm(a,o,!0);break;case"textarea":Vi(a),pm(a);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(a.onclick=Fo)}a=r,t.updateQueue=a,a!==null&&(t.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=s.createElement(n,{is:a.is}):(e=s.createElement(n),n==="select"&&(s=e,a.multiple?s.multiple=!0:a.size&&(s.size=a.size))):e=s.createElementNS(e,n),e[rn]=t,e[ui]=a,Bg(e,t,!1,!1),t.stateNode=e;e:{switch(s=rc(n,a),n){case"dialog":Ne("cancel",e),Ne("close",e),r=a;break;case"iframe":case"object":case"embed":Ne("load",e),r=a;break;case"video":case"audio":for(r=0;r<Or.length;r++)Ne(Or[r],e);r=a;break;case"source":Ne("error",e),r=a;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),r=a;break;case"details":Ne("toggle",e),r=a;break;case"input":um(e,a),r=Zl(e,a),Ne("invalid",e);break;case"option":r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=ze({},a,{value:void 0}),Ne("invalid",e);break;case"textarea":mm(e,a),r=tc(e,a),Ne("invalid",e);break;default:r=a}ac(n,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?wh(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xh(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ti(e,c):typeof c=="number"&&ti(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ei.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ne("scroll",e):c!=null&&vu(e,o,c,s))}switch(n){case"input":Vi(e),dm(e,a,!1);break;case"textarea":Vi(e),pm(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Kn(a.value));break;case"select":e.multiple=!!a.multiple,o=a.value,o!=null?Xa(e,!!a.multiple,o,!1):a.defaultValue!=null&&Xa(e,!!a.multiple,a.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Fo)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Ug(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error($(166));if(n=ga(mi.current),ga(sn.current),Yi(t)){if(a=t.stateNode,n=t.memoizedProps,a[rn]=t,(o=a.nodeValue!==n)&&(e=St,e!==null))switch(e.tag){case 3:Ki(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ki(a.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[rn]=t,t.stateNode=a}return it(t),null;case 13:if(Se(Re),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Nt!==null&&t.mode&1&&!(t.flags&128))sg(),ir(),t.flags|=98560,o=!1;else if(o=Yi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error($(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[rn]=t}else ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else Yt!==null&&(Fc(Yt),Yt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ye===0&&(Ye=3):Ju())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return sr(),Lc(e,t),e===null&&li(t.stateNode.containerInfo),it(t),null;case 10:return Ou(t.type._context),it(t),null;case 17:return wt(t.type)&&Io(),it(t),null;case 19:if(Se(Re),o=t.memoizedState,o===null)return it(t),null;if(a=(t.flags&128)!==0,s=o.rendering,s===null)if(a)_r(o,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Go(e),s!==null){for(t.flags|=128,_r(o,!1),a=s.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)o=n,e=a,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Re,Re.current&1|2),t.child}e=e.sibling}o.tail!==null&&Be()>cr&&(t.flags|=128,a=!0,_r(o,!1),t.lanes=4194304)}else{if(!a)if(e=Go(s),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_r(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Pe)return it(t),null}else 2*Be()-o.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,a=!0,_r(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Be(),t.sibling=null,n=Re.current,Ee(Re,a?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Zu(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?kt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function E1(e,t){switch(Du(t),t.tag){case 1:return wt(t.type)&&Io(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sr(),Se(yt),Se(lt),Bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vu(t),null;case 13:if(Se(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Re),null;case 4:return sr(),null;case 10:return Ou(t.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var Zi=!1,st=!1,b1=typeof WeakSet=="function"?WeakSet:Set,te=null;function Wa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Fe(e,t,a)}else n.current=null}function Ac(e,t,n){try{n()}catch(a){Fe(e,t,a)}}var np=!1;function k1(e,t){if(fc=jo,e=Kh(),Lu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(l=s+r),m!==o||a!==0&&m.nodeType!==3||(c=s+a),m.nodeType===3&&(s+=m.nodeValue.length),(g=m.firstChild)!==null;)f=m,m=g;for(;;){if(m===e)break t;if(f===n&&++u===r&&(l=s),f===o&&++d===a&&(c=s),(g=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hc={focusedElem:e,selectionRange:n},jo=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,E=w.memoizedState,x=t.stateNode,h=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:qt(t.type,y),E);x.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){Fe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return w=np,np=!1,w}function Wr(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var r=a=a.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,o!==void 0&&Ac(t,n,o)}r=r.next}while(r!==a)}}function Ss(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Dc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hg(e){var t=e.alternate;t!==null&&(e.alternate=null,Hg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[ui],delete t[xc],delete t[i1],delete t[o1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wg(e){return e.tag===5||e.tag===3||e.tag===4}function ap(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fo));else if(a!==4&&(e=e.child,e!==null))for(Mc(e,t,n),e=e.sibling;e!==null;)Mc(e,t,n),e=e.sibling}function Rc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}var tt=null,Kt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Gg(e,t,n),n=n.sibling}function Gg(e,t,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(vs,n)}catch{}switch(n.tag){case 5:st||Wa(n,t);case 6:var a=tt,r=Kt;tt=null,_n(e,t,n),tt=a,Kt=r,tt!==null&&(Kt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Kt?(e=tt,n=n.stateNode,e.nodeType===8?ol(e.parentNode,n):e.nodeType===1&&ol(e,n),ii(e)):ol(tt,n.stateNode));break;case 4:a=tt,r=Kt,tt=n.stateNode.containerInfo,Kt=!0,_n(e,t,n),tt=a,Kt=r;break;case 0:case 11:case 14:case 15:if(!st&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){r=a=a.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ac(n,t,s),r=r.next}while(r!==a)}_n(e,t,n);break;case 1:if(!st&&(Wa(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(l){Fe(n,t,l)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(st=(a=st)||n.memoizedState!==null,_n(e,t,n),st=a):_n(e,t,n);break;default:_n(e,t,n)}}function rp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b1),t.forEach(function(a){var r=D1.bind(null,e,a);n.has(a)||(n.add(a),a.then(r,r))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:tt=l.stateNode,Kt=!1;break e;case 3:tt=l.stateNode.containerInfo,Kt=!0;break e;case 4:tt=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(tt===null)throw Error($(160));Gg(o,s,r),tt=null,Kt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){Fe(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qg(t,e),t=t.sibling}function qg(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),tn(e),a&4){try{Wr(3,e,e.return),Ss(3,e)}catch(y){Fe(e,e.return,y)}try{Wr(5,e,e.return)}catch(y){Fe(e,e.return,y)}}break;case 1:Wt(t,e),tn(e),a&512&&n!==null&&Wa(n,n.return);break;case 5:if(Wt(t,e),tn(e),a&512&&n!==null&&Wa(n,n.return),e.flags&32){var r=e.stateNode;try{ti(r,"")}catch(y){Fe(e,e.return,y)}}if(a&4&&(r=e.stateNode,r!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&hh(r,o),rc(l,s);var u=rc(l,o);for(s=0;s<c.length;s+=2){var d=c[s],m=c[s+1];d==="style"?wh(r,m):d==="dangerouslySetInnerHTML"?xh(r,m):d==="children"?ti(r,m):vu(r,d,m,u)}switch(l){case"input":Jl(r,o);break;case"textarea":gh(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Xa(r,!!o.multiple,g,!1):f!==!!o.multiple&&(o.defaultValue!=null?Xa(r,!!o.multiple,o.defaultValue,!0):Xa(r,!!o.multiple,o.multiple?[]:"",!1))}r[ui]=o}catch(y){Fe(e,e.return,y)}}break;case 6:if(Wt(t,e),tn(e),a&4){if(e.stateNode===null)throw Error($(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(y){Fe(e,e.return,y)}}break;case 3:if(Wt(t,e),tn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(y){Fe(e,e.return,y)}break;case 4:Wt(t,e),tn(e);break;case 13:Wt(t,e),tn(e),r=e.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Qu=Be())),a&4&&rp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(st=(u=st)||d,Wt(t,e),st=u):Wt(t,e),tn(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(m=te=d;te!==null;){switch(f=te,g=f.child,f.tag){case 0:case 11:case 14:case 15:Wr(4,f,f.return);break;case 1:Wa(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){a=f,n=f.return;try{t=a,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Fe(a,n,y)}}break;case 5:Wa(f,f.return);break;case 22:if(f.memoizedState!==null){op(m);continue}}g!==null?(g.return=f,te=g):op(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{r=m.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yh("display",s))}catch(y){Fe(e,e.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){Fe(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Wt(t,e),tn(e),a&4&&rp(e);break;case 21:break;default:Wt(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wg(n)){var a=n;break e}n=n.return}throw Error($(160))}switch(a.tag){case 5:var r=a.stateNode;a.flags&32&&(ti(r,""),a.flags&=-33);var o=ap(e);Rc(e,o,r);break;case 3:case 4:var s=a.stateNode.containerInfo,l=ap(e);Mc(e,l,s);break;default:throw Error($(161))}}catch(c){Fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N1(e,t,n){te=e,Kg(e)}function Kg(e,t,n){for(var a=(e.mode&1)!==0;te!==null;){var r=te,o=r.child;if(r.tag===22&&a){var s=r.memoizedState!==null||Zi;if(!s){var l=r.alternate,c=l!==null&&l.memoizedState!==null||st;l=Zi;var u=st;if(Zi=s,(st=c)&&!u)for(te=r;te!==null;)s=te,c=s.child,s.tag===22&&s.memoizedState!==null?sp(r):c!==null?(c.return=s,te=c):sp(r);for(;o!==null;)te=o,Kg(o),o=o.sibling;te=r,Zi=l,st=u}ip(e)}else r.subtreeFlags&8772&&o!==null?(o.return=r,te=o):ip(e)}}function ip(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||Ss(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!st)if(n===null)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Um(t,o,a);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Um(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&ii(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}st||t.flags&512&&Dc(t)}catch(f){Fe(t,t.return,f)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function op(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function sp(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ss(4,t)}catch(c){Fe(t,n,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var r=t.return;try{a.componentDidMount()}catch(c){Fe(t,r,c)}}var o=t.return;try{Dc(t)}catch(c){Fe(t,o,c)}break;case 5:var s=t.return;try{Dc(t)}catch(c){Fe(t,s,c)}}}catch(c){Fe(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var S1=Math.ceil,Yo=Cn.ReactCurrentDispatcher,Ku=Cn.ReactCurrentOwner,Bt=Cn.ReactCurrentBatchConfig,he=0,Xe=null,Ue=null,nt=0,kt=0,Ga=Jn(0),Ye=0,gi=null,ka=0,Cs=0,Yu=0,Gr=null,vt=null,Qu=0,cr=1/0,dn=null,Qo=!1,jc=null,Un=null,Ji=!1,zn=null,Xo=0,qr=0,Oc=null,ko=-1,No=0;function ft(){return he&6?Be():ko!==-1?ko:ko=Be()}function Hn(e){return e.mode&1?he&2&&nt!==0?nt&-nt:l1.transition!==null?(No===0&&(No=Dh()),No):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Ih(e.type)),e):1}function Xt(e,t,n,a){if(50<qr)throw qr=0,Oc=null,Error($(185));Ni(e,n,a),(!(he&2)||e!==Xe)&&(e===Xe&&(!(he&2)&&(Cs|=n),Ye===4&&jn(e,nt)),Et(e,a),n===1&&he===0&&!(t.mode&1)&&(cr=Be()+500,bs&&ea()))}function Et(e,t){var n=e.callbackNode;ly(e,t);var a=Ro(e,e===Xe?nt:0);if(a===0)n!==null&&gm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&gm(n),t===1)e.tag===0?s1(lp.bind(null,e)):rg(lp.bind(null,e)),a1(function(){!(he&6)&&ea()}),n=null;else{switch(Mh(a)){case 1:n=bu;break;case 4:n=Lh;break;case 16:n=Mo;break;case 536870912:n=Ah;break;default:n=Mo}n=n0(n,Yg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yg(e,t){if(ko=-1,No=0,he&6)throw Error($(327));var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var a=Ro(e,e===Xe?nt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Zo(e,a);else{t=a;var r=he;he|=2;var o=Xg();(Xe!==e||nt!==t)&&(dn=null,cr=Be()+500,xa(e,t));do try{_1();break}catch(l){Qg(e,l)}while(1);ju(),Yo.current=o,he=r,Ue!==null?t=0:(Xe=null,nt=0,t=Ye)}if(t!==0){if(t===2&&(r=cc(e),r!==0&&(a=r,t=zc(e,r))),t===1)throw n=gi,xa(e,0),jn(e,a),Et(e,Be()),n;if(t===6)jn(e,a);else{if(r=e.current.alternate,!(a&30)&&!C1(r)&&(t=Zo(e,a),t===2&&(o=cc(e),o!==0&&(a=o,t=zc(e,o))),t===1))throw n=gi,xa(e,0),jn(e,a),Et(e,Be()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error($(345));case 2:ca(e,vt,dn);break;case 3:if(jn(e,a),(a&130023424)===a&&(t=Qu+500-Be(),10<t)){if(Ro(e,0)!==0)break;if(r=e.suspendedLanes,(r&a)!==a){ft(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=vc(ca.bind(null,e,vt,dn),t);break}ca(e,vt,dn);break;case 4:if(jn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,r=-1;0<a;){var s=31-Qt(a);o=1<<s,s=t[s],s>r&&(r=s),a&=~o}if(a=r,a=Be()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*S1(a/1960))-a,10<a){e.timeoutHandle=vc(ca.bind(null,e,vt,dn),a);break}ca(e,vt,dn);break;case 5:ca(e,vt,dn);break;default:throw Error($(329))}}}return Et(e,Be()),e.callbackNode===n?Yg.bind(null,e):null}function zc(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(xa(e,t).flags|=256),e=Zo(e,t),e!==2&&(t=vt,vt=n,t!==null&&Fc(t)),e}function Fc(e){vt===null?vt=e:vt.push.apply(vt,e)}function C1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var r=n[a],o=r.getSnapshot;r=r.value;try{if(!Zt(o(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Yu,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),a=1<<n;e[n]=-1,t&=~a}}function lp(e){if(he&6)throw Error($(327));nr();var t=Ro(e,0);if(!(t&1))return Et(e,Be()),null;var n=Zo(e,t);if(e.tag!==0&&n===2){var a=cc(e);a!==0&&(t=a,n=zc(e,a))}if(n===1)throw n=gi,xa(e,0),jn(e,t),Et(e,Be()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ca(e,vt,dn),Et(e,Be()),null}function Xu(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(cr=Be()+500,bs&&ea())}}function Na(e){zn!==null&&zn.tag===0&&!(he&6)&&nr();var t=he;he|=1;var n=Bt.transition,a=xe;try{if(Bt.transition=null,xe=1,e)return e()}finally{xe=a,Bt.transition=n,he=t,!(he&6)&&ea()}}function Zu(){kt=Ga.current,Se(Ga)}function xa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n1(n)),Ue!==null)for(n=Ue.return;n!==null;){var a=n;switch(Du(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Io();break;case 3:sr(),Se(yt),Se(lt),Bu();break;case 5:Vu(a);break;case 4:sr();break;case 13:Se(Re);break;case 19:Se(Re);break;case 10:Ou(a.type._context);break;case 22:case 23:Zu()}n=n.return}if(Xe=e,Ue=e=Wn(e.current,null),nt=kt=t,Ye=0,gi=null,Yu=Cs=ka=0,vt=Gr=null,ha!==null){for(t=0;t<ha.length;t++)if(n=ha[t],a=n.interleaved,a!==null){n.interleaved=null;var r=a.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,a.next=s}n.pending=a}ha=null}return e}function Qg(e,t){do{var n=Ue;try{if(ju(),wo.current=Ko,qo){for(var a=Oe.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}qo=!1}if(ba=0,Qe=Ke=Oe=null,Hr=!1,pi=0,Ku.current=null,n===null||n.return===null){Ye=1,gi=t,Ue=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Ym(s);if(g!==null){g.flags&=-257,Qm(g,s,l,o,t),g.mode&1&&Km(o,u,t),t=g,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Km(o,u,t),Ju();break e}c=Error($(426))}}else if(Pe&&l.mode&1){var E=Ym(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Qm(E,s,l,o,t),Mu(lr(c,l));break e}}o=c=lr(c,l),Ye!==4&&(Ye=2),Gr===null?Gr=[o]:Gr.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=Mg(o,c,t);$m(o,x);break e;case 1:l=c;var h=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Un===null||!Un.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=Rg(o,l,t);$m(o,b);break e}}o=o.return}while(o!==null)}Jg(n)}catch(k){t=k,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(1)}function Xg(){var e=Yo.current;return Yo.current=Ko,e===null?Ko:e}function Ju(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Xe===null||!(ka&268435455)&&!(Cs&268435455)||jn(Xe,nt)}function Zo(e,t){var n=he;he|=2;var a=Xg();(Xe!==e||nt!==t)&&(dn=null,xa(e,t));do try{P1();break}catch(r){Qg(e,r)}while(1);if(ju(),he=n,Yo.current=a,Ue!==null)throw Error($(261));return Xe=null,nt=0,Ye}function P1(){for(;Ue!==null;)Zg(Ue)}function _1(){for(;Ue!==null&&!Jx();)Zg(Ue)}function Zg(e){var t=t0(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Jg(e):Ue=t,Ku.current=null}function Jg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=E1(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ue=null;return}}else if(n=w1(n,t,kt),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ye===0&&(Ye=5)}function ca(e,t,n){var a=xe,r=Bt.transition;try{Bt.transition=null,xe=1,T1(e,t,n,a)}finally{Bt.transition=r,xe=a}return null}function T1(e,t,n,a){do nr();while(zn!==null);if(he&6)throw Error($(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(cy(e,o),e===Xe&&(Ue=Xe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ji||(Ji=!0,n0(Mo,function(){return nr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bt.transition,Bt.transition=null;var s=xe;xe=1;var l=he;he|=4,Ku.current=null,k1(e,n),qg(n,e),Yy(hc),jo=!!fc,hc=fc=null,e.current=n,N1(n),ey(),he=l,xe=s,Bt.transition=o}else e.current=n;if(Ji&&(Ji=!1,zn=e,Xo=r),o=e.pendingLanes,o===0&&(Un=null),ay(n.stateNode),Et(e,Be()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Qo)throw Qo=!1,e=jc,jc=null,e;return Xo&1&&e.tag!==0&&nr(),o=e.pendingLanes,o&1?e===Oc?qr++:(qr=0,Oc=e):qr=0,ea(),null}function nr(){if(zn!==null){var e=Mh(Xo),t=Bt.transition,n=xe;try{if(Bt.transition=null,xe=16>e?16:e,zn===null)var a=!1;else{if(e=zn,zn=null,Xo=0,he&6)throw Error($(331));var r=he;for(he|=4,te=e.current;te!==null;){var o=te,s=o.child;if(te.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Wr(8,d,o)}var m=d.child;if(m!==null)m.return=d,te=m;else for(;te!==null;){d=te;var f=d.sibling,g=d.return;if(Hg(d),d===u){te=null;break}if(f!==null){f.return=g,te=f;break}te=g}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}te=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,te=s;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wr(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,te=x;break e}te=o.return}}var h=e.current;for(te=h;te!==null;){s=te;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,te=v;else e:for(s=h;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ss(9,l)}}catch(k){Fe(l,l.return,k)}if(l===s){te=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,te=b;break e}te=l.return}}if(he=r,ea(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(vs,e)}catch{}a=!0}return a}finally{xe=n,Bt.transition=t}}return!1}function cp(e,t,n){t=lr(n,t),t=Mg(e,t,1),e=$n(e,t,1),t=ft(),e!==null&&(Ni(e,1,t),Et(e,t))}function Fe(e,t,n){if(e.tag===3)cp(e,e,n);else for(;t!==null;){if(t.tag===3){cp(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Un===null||!Un.has(a))){e=lr(n,e),e=Rg(t,e,1),t=$n(t,e,1),e=ft(),t!==null&&(Ni(t,1,e),Et(t,e));break}}t=t.return}}function L1(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(nt&n)===n&&(Ye===4||Ye===3&&(nt&130023424)===nt&&500>Be()-Qu?xa(e,0):Yu|=n),Et(e,t)}function e0(e,t){t===0&&(e.mode&1?(t=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):t=1);var n=ft();e=bn(e,t),e!==null&&(Ni(e,t,n),Et(e,n))}function A1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e0(e,n)}function D1(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error($(314))}a!==null&&a.delete(t),e0(e,n)}var t0;t0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,y1(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Pe&&t.flags&1048576&&ig(t,$o,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;bo(e,t),e=t.pendingProps;var r=rr(t,lt.current);tr(t,n),r=Uu(null,t,a,e,r,n);var o=Hu();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(a)?(o=!0,Vo(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Fu(t),r.updater=Ns,t.stateNode=r,r._reactInternals=t,Nc(t,a,e,n),t=Pc(null,t,a,!0,o,n)):(t.tag=0,Pe&&o&&Au(t),pt(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(bo(e,t),e=t.pendingProps,r=a._init,a=r(a._payload),t.type=a,r=t.tag=R1(a),e=qt(a,e),r){case 0:t=Cc(null,t,a,e,n);break e;case 1:t=Jm(null,t,a,e,n);break e;case 11:t=Xm(null,t,a,e,n);break e;case 14:t=Zm(null,t,a,qt(a.type,e),n);break e}throw Error($(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:qt(a,r),Cc(e,t,a,r,n);case 1:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:qt(a,r),Jm(e,t,a,r,n);case 3:e:{if(Fg(t),e===null)throw Error($(387));a=t.pendingProps,o=t.memoizedState,r=o.element,dg(e,t),Wo(t,a,null,n);var s=t.memoizedState;if(a=s.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=lr(Error($(423)),t),t=ep(e,t,a,n,r);break e}else if(a!==r){r=lr(Error($(424)),t),t=ep(e,t,a,n,r);break e}else for(Nt=Bn(t.stateNode.containerInfo.firstChild),St=t,Pe=!0,Yt=null,n=cg(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),a===r){t=kn(e,t,n);break e}pt(e,t,a,n)}t=t.child}return t;case 5:return mg(t),e===null&&Ec(t),a=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,s=r.children,gc(a,r)?s=null:o!==null&&gc(a,o)&&(t.flags|=32),zg(e,t),pt(e,t,s,n),t.child;case 6:return e===null&&Ec(t),null;case 13:return Ig(e,t,n);case 4:return Iu(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=or(t,null,a,n):pt(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:qt(a,r),Xm(e,t,a,r,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Ee(Uo,a._currentValue),a._currentValue=s,o!==null)if(Zt(o.value,s)){if(o.children===r.children&&!yt.current){t=kn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(o.tag===1){c=gn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),bc(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error($(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bc(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,tr(t,n),r=$t(r),a=a(r),t.flags|=1,pt(e,t,a,n),t.child;case 14:return a=t.type,r=qt(a,t.pendingProps),r=qt(a.type,r),Zm(e,t,a,r,n);case 15:return jg(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:qt(a,r),bo(e,t),t.tag=1,wt(a)?(e=!0,Vo(t)):e=!1,tr(t,n),Dg(t,a,r),Nc(t,a,r,n),Pc(null,t,a,!0,e,n);case 19:return Vg(e,t,n);case 22:return Og(e,t,n)}throw Error($(156,t.tag))};function n0(e,t){return Th(e,t)}function M1(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,n,a){return new M1(e,t,n,a)}function ed(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R1(e){if(typeof e=="function")return ed(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yu)return 11;if(e===wu)return 14}return 2}function Wn(e,t){var n=e.alternate;return n===null?(n=Vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function So(e,t,n,a,r,o){var s=2;if(a=e,typeof e=="function")ed(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Oa:return ya(n.children,r,o,t);case xu:s=8,r|=8;break;case Kl:return e=Vt(12,n,t,r|2),e.elementType=Kl,e.lanes=o,e;case Yl:return e=Vt(13,n,t,r),e.elementType=Yl,e.lanes=o,e;case Ql:return e=Vt(19,n,t,r),e.elementType=Ql,e.lanes=o,e;case mh:return Ps(n,r,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uh:s=10;break e;case dh:s=9;break e;case yu:s=11;break e;case wu:s=14;break e;case An:s=16,a=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Vt(s,n,t,r),t.elementType=e,t.type=a,t.lanes=o,t}function ya(e,t,n,a){return e=Vt(7,e,a,t),e.lanes=n,e}function Ps(e,t,n,a){return e=Vt(22,e,a,t),e.elementType=mh,e.lanes=n,e.stateNode={isHidden:!1},e}function fl(e,t,n){return e=Vt(6,e,null,t),e.lanes=n,e}function hl(e,t,n){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j1(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ys(0),this.expirationTimes=Ys(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function td(e,t,n,a,r,o,s,l,c){return e=new j1(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Vt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(o),e}function O1(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function a0(e){if(!e)return Yn;e=e._reactInternals;e:{if(Ca(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(wt(n))return ag(e,n,t)}return t}function r0(e,t,n,a,r,o,s,l,c){return e=td(n,a,!0,e,r,o,s,l,c),e.context=a0(null),n=e.current,a=ft(),r=Hn(n),o=gn(a,r),o.callback=t??null,$n(n,o,r),e.current.lanes=r,Ni(e,r,a),Et(e,a),e}function _s(e,t,n,a){var r=t.current,o=ft(),s=Hn(r);return n=a0(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(o,s),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=$n(r,t,s),e!==null&&(Xt(e,r,s,o),yo(e,r,s)),s}function Jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nd(e,t){up(e,t),(e=e.alternate)&&up(e,t)}function z1(){return null}var i0=typeof reportError=="function"?reportError:function(e){console.error(e)};function ad(e){this._internalRoot=e}Ts.prototype.render=ad.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));_s(e,t,null,null)};Ts.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Na(function(){_s(null,e,null,null)}),t[En]=null}};function Ts(e){this._internalRoot=e}Ts.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&Fh(e)}};function rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ls(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dp(){}function F1(e,t,n,a,r){if(r){if(typeof a=="function"){var o=a;a=function(){var u=Jo(s);o.call(u)}}var s=r0(t,a,e,0,null,!1,!1,"",dp);return e._reactRootContainer=s,e[En]=s.current,li(e.nodeType===8?e.parentNode:e),Na(),s}for(;r=e.lastChild;)e.removeChild(r);if(typeof a=="function"){var l=a;a=function(){var u=Jo(c);l.call(u)}}var c=td(e,0,!1,null,null,!1,!1,"",dp);return e._reactRootContainer=c,e[En]=c.current,li(e.nodeType===8?e.parentNode:e),Na(function(){_s(t,c,n,a)}),c}function As(e,t,n,a,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var l=r;r=function(){var c=Jo(s);l.call(c)}}_s(t,s,e,r)}else s=F1(n,t,e,r,a);return Jo(s)}Rh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jr(t.pendingLanes);n!==0&&(ku(t,n|1),Et(t,Be()),!(he&6)&&(cr=Be()+500,ea()))}break;case 13:Na(function(){var a=bn(e,1);if(a!==null){var r=ft();Xt(a,e,1,r)}}),nd(e,1)}};Nu=function(e){if(e.tag===13){var t=bn(e,134217728);if(t!==null){var n=ft();Xt(t,e,134217728,n)}nd(e,134217728)}};jh=function(e){if(e.tag===13){var t=Hn(e),n=bn(e,t);if(n!==null){var a=ft();Xt(n,e,t,a)}nd(e,t)}};Oh=function(){return xe};zh=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};oc=function(e,t,n){switch(t){case"input":if(Jl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=Es(a);if(!r)throw Error($(90));fh(a),Jl(a,r)}}}break;case"textarea":gh(e,n);break;case"select":t=n.value,t!=null&&Xa(e,!!n.multiple,t,!1)}};kh=Xu;Nh=Na;var I1={usingClientEntryPoint:!1,Events:[Ci,Va,Es,Eh,bh,Xu]},Tr={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V1={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ph(e),e===null?null:e.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{vs=eo.inject(V1),on=eo}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I1;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(t))throw Error($(200));return O1(e,t,null,n)};_t.createRoot=function(e,t){if(!rd(e))throw Error($(299));var n=!1,a="",r=i0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=td(e,1,!1,null,null,n,!1,a,r),e[En]=t.current,li(e.nodeType===8?e.parentNode:e),new ad(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Ph(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Na(e)};_t.hydrate=function(e,t,n){if(!Ls(t))throw Error($(200));return As(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!rd(e))throw Error($(405));var a=n!=null&&n.hydratedSources||null,r=!1,o="",s=i0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=r0(t,null,e,1,n??null,r,!1,o,s),e[En]=t.current,li(e),a)for(e=0;e<a.length;e++)n=a[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ts(t)};_t.render=function(e,t,n){if(!Ls(t))throw Error($(200));return As(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!Ls(e))throw Error($(40));return e._reactRootContainer?(Na(function(){As(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};_t.unstable_batchedUpdates=Xu;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Ls(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return As(e,t,n,!1,a)};_t.version="18.3.1-next-f1338f8080-20240426";function o0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o0)}catch(e){console.error(e)}}o0(),oh.exports=_t;var B1=oh.exports,mp=B1;Gl.createRoot=mp.createRoot,Gl.hydrateRoot=mp.hydrateRoot;const $1="modulepreload",U1=function(e){return"/"+e},pp={},H1=function(t,n,a){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=U1(o),o in pp)return;pp[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!a)for(let d=r.length-1;d>=0;d--){const m=r[d];if(m.href===o&&(!s||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":$1,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((d,m)=>{u.addEventListener("load",d),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var fp="popstate";function W1(e={}){function t(a,r){let{pathname:o,search:s,hash:l}=a.location;return Ic("",{pathname:o,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:vi(r)}return q1(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ht(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G1(){return Math.random().toString(36).substring(2,10)}function hp(e,t){return{usr:e.state,key:e.key,idx:t}}function Ic(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gr(t):t,state:n,key:t&&t.key||a||G1()}}function vi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function q1(e,t,n,a={}){let{window:r=document.defaultView,v5Compat:o=!1}=a,s=r.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function m(){l="POP";let E=d(),x=E==null?null:E-u;u=E,c&&c({action:l,location:y.location,delta:x})}function f(E,x){l="PUSH";let h=Ic(y.location,E,x);n&&n(h,E),u=d()+1;let v=hp(h,u),b=y.createHref(h);try{s.pushState(v,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(b)}o&&c&&c({action:l,location:y.location,delta:1})}function g(E,x){l="REPLACE";let h=Ic(y.location,E,x);n&&n(h,E),u=d();let v=hp(h,u),b=y.createHref(h);s.replaceState(v,"",b),o&&c&&c({action:l,location:y.location,delta:0})}function w(E){return K1(E)}let y={get action(){return l},get location(){return e(r,s)},listen(E){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(fp,m),c=E,()=>{r.removeEventListener(fp,m),c=null}},createHref(E){return t(r,E)},createURL:w,encodeLocation(E){let x=w(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(E){return s.go(E)}};return y}function K1(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_e(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:vi(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function s0(e,t,n="/"){return Y1(e,t,n,!1)}function Y1(e,t,n,a){let r=typeof t=="string"?gr(t):t,o=Nn(r.pathname||"/",n);if(o==null)return null;let s=l0(e);Q1(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=sw(o);l=iw(s[c],u,a)}return l}function l0(e,t=[],n=[],a="",r=!1){let o=(s,l,c=r,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(a)&&c)return;_e(d.relativePath.startsWith(a),`Absolute route path "${d.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(a.length)}let m=vn([a,d.relativePath]),f=n.concat(d);s.children&&s.children.length>0&&(_e(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),l0(s.children,t,f,m,c)),!(s.path==null&&!s.index)&&t.push({path:m,score:aw(m,s.index),routesMeta:f})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))o(s,l);else for(let u of c0(s.path))o(s,l,!0,u)}),t}function c0(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return r?[o,""]:[o];let s=c0(a.join("/")),l=[];return l.push(...s.map(c=>c===""?o:[o,c].join("/"))),r&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Q1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rw(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var X1=/^:[\w-]+$/,Z1=3,J1=2,ew=1,tw=10,nw=-2,gp=e=>e==="*";function aw(e,t){let n=e.split("/"),a=n.length;return n.some(gp)&&(a+=nw),t&&(a+=J1),n.filter(r=>!gp(r)).reduce((r,o)=>r+(X1.test(o)?Z1:o===""?ew:tw),a)}function rw(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function iw(e,t,n=!1){let{routesMeta:a}=e,r={},o="/",s=[];for(let l=0;l<a.length;++l){let c=a[l],u=l===a.length-1,d=o==="/"?t:t.slice(o.length)||"/",m=es({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m&&u&&n&&!a[a.length-1].route.index&&(m=es({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(r,m.params),s.push({params:r,pathname:vn([o,m.pathname]),pathnameBase:dw(vn([o,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(o=vn([o,m.pathnameBase]))}return s}function es(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=ow(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:a.reduce((u,{paramName:d,isOptional:m},f)=>{if(d==="*"){let w=l[f]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function ow(e,t=!1,n=!0){Ht(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function sw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ht(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function lw(e,t="/"){let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?gr(e):e;return{pathname:n?n.startsWith("/")?n:cw(n,t):t,search:mw(a),hash:pw(r)}}function cw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function gl(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function id(e){let t=uw(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function od(e,t,n,a=!1){let r;typeof e=="string"?r=gr(e):(r={...e},_e(!r.pathname||!r.pathname.includes("?"),gl("?","pathname","search",r)),_e(!r.pathname||!r.pathname.includes("#"),gl("#","pathname","hash",r)),_e(!r.search||!r.search.includes("#"),gl("#","search","hash",r)));let o=e===""||r.pathname==="",s=o?"/":r.pathname,l;if(s==null)l=n;else{let m=t.length-1;if(!a&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),m-=1;r.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=lw(r,l),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var vn=e=>e.join("/").replace(/\/\/+/g,"/"),dw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var u0=["POST","PUT","PATCH","DELETE"];new Set(u0);var hw=["GET",...u0];new Set(hw);var vr=p.createContext(null);vr.displayName="DataRouter";var Ds=p.createContext(null);Ds.displayName="DataRouterState";p.createContext(!1);var d0=p.createContext({isTransitioning:!1});d0.displayName="ViewTransition";var gw=p.createContext(new Map);gw.displayName="Fetchers";var vw=p.createContext(null);vw.displayName="Await";var Jt=p.createContext(null);Jt.displayName="Navigation";var _i=p.createContext(null);_i.displayName="Location";var en=p.createContext({outlet:null,matches:[],isDataRoute:!1});en.displayName="Route";var sd=p.createContext(null);sd.displayName="RouteError";function xw(e,{relative:t}={}){_e(xr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=p.useContext(Jt),{hash:r,pathname:o,search:s}=Ti(e,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:vn([n,o])),a.createHref({pathname:l,search:s,hash:r})}function xr(){return p.useContext(_i)!=null}function cn(){return _e(xr(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(_i).location}var m0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p0(e){p.useContext(Jt).static||p.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=p.useContext(en);return e?Mw():yw()}function yw(){_e(xr(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(vr),{basename:t,navigator:n}=p.useContext(Jt),{matches:a}=p.useContext(en),{pathname:r}=cn(),o=JSON.stringify(id(a)),s=p.useRef(!1);return p0(()=>{s.current=!0}),p.useCallback((c,u={})=>{if(Ht(s.current,m0),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=od(c,JSON.parse(o),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:vn([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,r,e])}var ww=p.createContext(null);function Ew(e){let t=p.useContext(en).outlet;return t&&p.createElement(ww.Provider,{value:e},t)}function Ti(e,{relative:t}={}){let{matches:n}=p.useContext(en),{pathname:a}=cn(),r=JSON.stringify(id(n));return p.useMemo(()=>od(e,JSON.parse(r),a,t==="path"),[e,r,a,t])}function bw(e,t){return f0(e,t)}function f0(e,t,n,a){var x;_e(xr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=p.useContext(Jt),{matches:o}=p.useContext(en),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let h=d&&d.path||"";h0(c,!d||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let m=cn(),f;if(t){let h=typeof t=="string"?gr(t):t;_e(u==="/"||((x=h.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${h.pathname}" was given in the \`location\` prop.`),f=h}else f=m;let g=f.pathname||"/",w=g;if(u!=="/"){let h=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let y=s0(e,{pathname:w});Ht(d||y!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ht(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Pw(y&&y.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:vn([u,r.encodeLocation?r.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?u:vn([u,r.encodeLocation?r.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),o,n,a);return t&&E?p.createElement(_i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},E):E}function kw(){let e=Dw(),t=fw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:r},n):null,s)}var Nw=p.createElement(kw,null),Sw=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(en.Provider,{value:this.props.routeContext},p.createElement(sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cw({routeContext:e,match:t,children:n}){let a=p.useContext(vr);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(en.Provider,{value:e},n)}function Pw(e,t=[],n=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,o=n==null?void 0:n.errors;if(o!=null){let c=r.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);_e(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:m}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||f){s=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let m,f=!1,g=null,w=null;n&&(m=o&&u.route.id?o[u.route.id]:void 0,g=u.route.errorElement||Nw,s&&(l<0&&d===0?(h0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,w=null):l===d&&(f=!0,w=u.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,d+1)),E=()=>{let x;return m?x=g:f?x=w:u.route.Component?x=p.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,p.createElement(Cw,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?p.createElement(Sw,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:E(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):E()},null)}function ld(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(e){let t=p.useContext(vr);return _e(t,ld(e)),t}function Tw(e){let t=p.useContext(Ds);return _e(t,ld(e)),t}function Lw(e){let t=p.useContext(en);return _e(t,ld(e)),t}function cd(e){let t=Lw(e),n=t.matches[t.matches.length-1];return _e(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Aw(){return cd("useRouteId")}function Dw(){var a;let e=p.useContext(sd),t=Tw("useRouteError"),n=cd("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function Mw(){let{router:e}=_w("useNavigate"),t=cd("useNavigate"),n=p.useRef(!1);return p0(()=>{n.current=!0}),p.useCallback(async(r,o={})=>{Ht(n.current,m0),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))},[e,t])}var vp={};function h0(e,t,n){!t&&!vp[e]&&(vp[e]=!0,Ht(!1,n))}p.memo(Rw);function Rw({routes:e,future:t,state:n}){return f0(e,void 0,n,t)}function ts({to:e,replace:t,state:n,relative:a}){_e(xr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=p.useContext(Jt);Ht(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=p.useContext(en),{pathname:s}=cn(),l=Pn(),c=od(e,id(o),s,a==="path"),u=JSON.stringify(c);return p.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:a})},[l,u,a,t,n]),null}function jw(e){return Ew(e.context)}function De(e){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ow({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:r,static:o=!1}){_e(!xr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:s,navigator:r,static:o,future:{}}),[s,r,o]);typeof n=="string"&&(n=gr(n));let{pathname:c="/",search:u="",hash:d="",state:m=null,key:f="default"}=n,g=p.useMemo(()=>{let w=Nn(c,s);return w==null?null:{location:{pathname:w,search:u,hash:d,state:m,key:f},navigationType:a}},[s,c,u,d,m,f,a]);return Ht(g!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:p.createElement(Jt.Provider,{value:l},p.createElement(_i.Provider,{children:t,value:g}))}function zw({children:e,location:t}){return bw(Vc(e),t)}function Vc(e,t=[]){let n=[];return p.Children.forEach(e,(a,r)=>{if(!p.isValidElement(a))return;let o=[...t,r];if(a.type===p.Fragment){n.push.apply(n,Vc(a.props.children,o));return}_e(a.type===De,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!a.props.index||!a.props.children,"An index route cannot have child routes.");let s={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(s.children=Vc(a.props.children,o)),n.push(s)}),n}var Co="get",Po="application/x-www-form-urlencoded";function Ms(e){return e!=null&&typeof e.tagName=="string"}function Fw(e){return Ms(e)&&e.tagName.toLowerCase()==="button"}function Iw(e){return Ms(e)&&e.tagName.toLowerCase()==="form"}function Vw(e){return Ms(e)&&e.tagName.toLowerCase()==="input"}function Bw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $w(e,t){return e.button===0&&(!t||t==="_self")&&!Bw(e)}function Bc(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function Uw(e,t){let n=Bc(e);return t&&t.forEach((a,r)=>{n.has(r)||t.getAll(r).forEach(o=>{n.append(r,o)})}),n}var to=null;function Hw(){if(to===null)try{new FormData(document.createElement("form"),0),to=!1}catch{to=!0}return to}var Ww=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vl(e){return e!=null&&!Ww.has(e)?(Ht(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):e}function Gw(e,t){let n,a,r,o,s;if(Iw(e)){let l=e.getAttribute("action");a=l?Nn(l,t):null,n=e.getAttribute("method")||Co,r=vl(e.getAttribute("enctype"))||Po,o=new FormData(e)}else if(Fw(e)||Vw(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(a=c?Nn(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Co,r=vl(e.getAttribute("formenctype"))||vl(l.getAttribute("enctype"))||Po,o=new FormData(l,e),!Hw()){let{name:u,type:d,value:m}=e;if(d==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,m)}}else{if(Ms(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Co,a=null,r=Po,s=e}return o&&r==="text/plain"&&(s=o,o=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ud(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qw(e,t,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&Nn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Kw(e,t){if(e.id in t)return t[e.id];try{let n=await H1(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yw(e){return e!=null&&typeof e.page=="string"}function Qw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Xw(e,t,n){let a=await Promise.all(e.map(async r=>{let o=t.routes[r.route.id];if(o){let s=await Kw(o,n);return s.links?s.links():[]}return[]}));return tE(a.flat(1).filter(Qw).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function xp(e,t,n,a,r,o){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):o==="data"?t.filter((c,u)=>{var m;let d=a.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Zw(e,t,{includeHydrateFallback:n}={}){return Jw(e.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function Jw(e){return[...new Set(e)]}function eE(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function tE(e,t){let n=new Set,a=new Set(t);return e.reduce((r,o)=>{if(t&&!Yw(o)&&o.as==="script"&&o.href&&a.has(o.href))return r;let l=JSON.stringify(eE(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function g0(){let e=p.useContext(vr);return ud(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nE(){let e=p.useContext(Ds);return ud(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dd=p.createContext(void 0);dd.displayName="FrameworkContext";function v0(){let e=p.useContext(dd);return ud(e,"You must render this element inside a <HydratedRouter> element"),e}function aE(e,t){let n=p.useContext(dd),[a,r]=p.useState(!1),[o,s]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:m}=t,f=p.useRef(null);p.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=x=>{x.forEach(h=>{s(h.isIntersecting)})},E=new IntersectionObserver(y,{threshold:.5});return f.current&&E.observe(f.current),()=>{E.disconnect()}}},[e]),p.useEffect(()=>{if(a){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[a]);let g=()=>{r(!0)},w=()=>{r(!1),s(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:Lr(l,g),onBlur:Lr(c,w),onMouseEnter:Lr(u,g),onMouseLeave:Lr(d,w),onTouchStart:Lr(m,g)}]:[!1,f,{}]}function Lr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rE({page:e,...t}){let{router:n}=g0(),a=p.useMemo(()=>s0(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?p.createElement(oE,{page:e,matches:a,...t}):null}function iE(e){let{manifest:t,routeModules:n}=v0(),[a,r]=p.useState([]);return p.useEffect(()=>{let o=!1;return Xw(e,t,n).then(s=>{o||r(s)}),()=>{o=!0}},[e,t,n]),a}function oE({page:e,matches:t,...n}){let a=cn(),{manifest:r,routeModules:o}=v0(),{basename:s}=g0(),{loaderData:l,matches:c}=nE(),u=p.useMemo(()=>xp(e,t,c,r,a,"data"),[e,t,c,r,a]),d=p.useMemo(()=>xp(e,t,c,r,a,"assets"),[e,t,c,r,a]),m=p.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let w=new Set,y=!1;if(t.forEach(x=>{var v;let h=r.routes[x.route.id];!h||!h.hasLoader||(!u.some(b=>b.route.id===x.route.id)&&x.route.id in l&&((v=o[x.route.id])!=null&&v.shouldRevalidate)||h.hasClientLoader?y=!0:w.add(x.route.id))}),w.size===0)return[];let E=qw(e,s,"data");return y&&w.size>0&&E.searchParams.set("_routes",t.filter(x=>w.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[s,l,a,r,u,t,e,o]),f=p.useMemo(()=>Zw(d,r),[d,r]),g=iE(d);return p.createElement(p.Fragment,null,m.map(w=>p.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>p.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),g.map(({key:w,link:y})=>p.createElement("link",{key:w,nonce:n.nonce,...y})))}function sE(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x0&&(window.__reactRouterVersion="7.8.1")}catch{}function lE({basename:e,children:t,window:n}){let a=p.useRef();a.current==null&&(a.current=W1({window:n,v5Compat:!0}));let r=a.current,[o,s]=p.useState({action:r.action,location:r.location}),l=p.useCallback(c=>{p.startTransition(()=>s(c))},[s]);return p.useLayoutEffect(()=>r.listen(l),[r,l]),p.createElement(Ow,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rs=p.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:r,reloadDocument:o,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m,...f},g){let{basename:w}=p.useContext(Jt),y=typeof u=="string"&&y0.test(u),E,x=!1;if(typeof u=="string"&&y&&(E=u,x0))try{let z=new URL(window.location.href),D=u.startsWith("//")?new URL(z.protocol+u):new URL(u),C=Nn(D.pathname,w);D.origin===z.origin&&C!=null?u=C+D.search+D.hash:x=!0}catch{Ht(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=xw(u,{relative:r}),[v,b,k]=aE(a,f),T=dE(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:m});function _(z){t&&t(z),z.defaultPrevented||T(z)}let P=p.createElement("a",{...f,...k,href:E||h,onClick:x||o?t:_,ref:sE(g,b),target:c,"data-discover":!y&&n==="render"?"true":void 0});return v&&!y?p.createElement(p.Fragment,null,P,p.createElement(rE,{page:h})):P});Rs.displayName="Link";var md=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:r=!1,style:o,to:s,viewTransition:l,children:c,...u},d){let m=Ti(s,{relative:u.relative}),f=cn(),g=p.useContext(Ds),{navigator:w,basename:y}=p.useContext(Jt),E=g!=null&&vE(m)&&l===!0,x=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,h=f.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(h=h.toLowerCase(),v=v?v.toLowerCase():null,x=x.toLowerCase()),v&&y&&(v=Nn(v,y)||v);const b=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=h===x||!r&&h.startsWith(x)&&h.charAt(b)==="/",T=v!=null&&(v===x||!r&&v.startsWith(x)&&v.charAt(x.length)==="/"),_={isActive:k,isPending:T,isTransitioning:E},P=k?t:void 0,z;typeof a=="function"?z=a(_):z=[a,k?"active":null,T?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(_):o;return p.createElement(Rs,{...u,"aria-current":P,className:z,ref:d,style:D,to:s,viewTransition:l},typeof c=="function"?c(_):c)});md.displayName="NavLink";var cE=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:r,state:o,method:s=Co,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:m,...f},g)=>{let w=hE(),y=gE(l,{relative:u}),E=s.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&y0.test(l),h=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let b=v.nativeEvent.submitter,k=(b==null?void 0:b.getAttribute("formmethod"))||s;w(b||v.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:r,state:o,relative:u,preventScrollReset:d,viewTransition:m})};return p.createElement("form",{ref:g,method:E,action:y,onSubmit:a?c:h,...f,"data-discover":!x&&e==="render"?"true":void 0})});cE.displayName="Form";function uE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w0(e){let t=p.useContext(vr);return _e(t,uE(e)),t}function dE(e,{target:t,replace:n,state:a,preventScrollReset:r,relative:o,viewTransition:s}={}){let l=Pn(),c=cn(),u=Ti(e,{relative:o});return p.useCallback(d=>{if($w(d,t)){d.preventDefault();let m=n!==void 0?n:vi(c)===vi(u);l(e,{replace:m,state:a,preventScrollReset:r,relative:o,viewTransition:s})}},[c,l,u,n,a,t,e,r,o,s])}function mE(e){Ht(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(Bc(e)),n=p.useRef(!1),a=cn(),r=p.useMemo(()=>Uw(a.search,n.current?null:t.current),[a.search]),o=Pn(),s=p.useCallback((l,c)=>{const u=Bc(typeof l=="function"?l(new URLSearchParams(r)):l);n.current=!0,o("?"+u,c)},[o,r]);return[r,s]}var pE=0,fE=()=>`__${String(++pE)}__`;function hE(){let{router:e}=w0("useSubmit"),{basename:t}=p.useContext(Jt),n=Aw();return p.useCallback(async(a,r={})=>{let{action:o,method:s,encType:l,formData:c,body:u}=Gw(a,t);if(r.navigate===!1){let d=r.fetcherKey||fE();await e.fetch(d,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function gE(e,{relative:t}={}){let{basename:n}=p.useContext(Jt),a=p.useContext(en);_e(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),o={...Ti(e||".",{relative:t})},s=cn();if(e==null){o.search=s.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let d=l.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:vn([n,o.pathname])),vi(o)}function vE(e,{relative:t}={}){let n=p.useContext(d0);_e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=w0("useViewTransitionState"),r=Ti(e,{relative:t});if(!n.isTransitioning)return!1;let o=Nn(n.currentLocation.pathname,a)||n.currentLocation.pathname,s=Nn(n.nextLocation.pathname,a)||n.nextLocation.pathname;return es(r.pathname,s)!=null||es(r.pathname,o)!=null}const xE=({open:e})=>i.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",className:`transition ${e?"rotate-180":""}`,fill:"currentColor"},i.createElement("path",{d:"M7 10l5 5 5-5"})),xl=({on:e})=>i.createElement("span",{className:`inline-block h-2 w-2 rounded-full ${e?"bg-emerald-400":"bg-white/40"}`}),yl="app:scope:set",Kr=["sharepoint","onedrive","google","dropbox","box","mega"],Yr=["outlook","gmail","outlook_calendar","google_calendar","teams"],yE=[...Kr,...Yr],wl={all:"Auto",sharepoint:"SharePoint",onedrive:"OneDrive",google:"Google Drive",dropbox:"Dropbox",box:"Box",mega:"MEGA",outlook:"Outlook Mail",gmail:"Gmail",outlook_calendar:"Outlook Calendar",google_calendar:"Google Calendar",teams:"Microsoft Teams"};function wE(e){const t={},n=Array.isArray(e)?e:Array.isArray(e==null?void 0:e.connections)?e.connections:null;if(n){for(const a of n){const r=String(a.provider||a.type||a.name||"").toLowerCase(),o=a.connected??a.is_connected??a.active??(a.status==="connected"||a.status===!0);r&&(t[r]=!!o,r==="google_drive"&&(t.google=t.google||!!o))}("onedrive"in t||"sharepoint"in t)&&(t.microsoft=t.microsoft||t.onedrive||t.sharepoint)}else if(e&&typeof e=="object")for(const a of Object.keys(e))t[a.toLowerCase()]=!!e[a];return t.google_drive&&!t.google&&(t.google=t.google_drive),t.microsoft&&("outlook"in t||(t.outlook=!0),"outlook_calendar"in t||(t.outlook_calendar=!0)),t.google&&("gmail"in t||(t.gmail=!0),"google_calendar"in t||(t.google_calendar=!0)),t}const qe=(e,t)=>{switch(e){case"sharepoint":return!!(t.sharepoint||t.microsoft);case"onedrive":return!!(t.onedrive||t.microsoft);case"google":return!!t.google;case"dropbox":return!!t.dropbox;case"box":return!!t.box;case"mega":return!!t.mega;case"outlook":return!!(t.outlook||t.microsoft);case"outlook_calendar":return!!(t.outlook_calendar||t.outlook||t.microsoft);case"gmail":return!!(t.gmail||t.google);case"google_calendar":return!!(t.google_calendar||t.google);case"teams":return!!t.teams;default:return!0}};function EE(e,t){const n={sp:!1,od:!1,gd:!1,dbx:!1,box:!1,mega:!1,ol:!1,gm:!1,ocal:!1,gcal:!1,teams:!1};if(e==="all"){for(const a of Kr){const r=qe(a,t);a==="sharepoint"&&(n.sp=r),a==="onedrive"&&(n.od=r),a==="google"&&(n.gd=r),a==="dropbox"&&(n.dbx=r),a==="box"&&(n.box=r),a==="mega"&&(n.mega=r)}for(const a of Yr){const r=qe(a,t);a==="outlook"&&(n.ol=r),a==="gmail"&&(n.gm=r),a==="outlook_calendar"&&(n.ocal=r),a==="google_calendar"&&(n.gcal=r),a==="teams"&&(n.teams=r)}}else n.sp=e==="sharepoint"&&qe("sharepoint",t),n.od=e==="onedrive"&&qe("onedrive",t),n.gd=e==="google"&&qe("google",t),n.dbx=e==="dropbox"&&qe("dropbox",t),n.box=e==="box"&&qe("box",t),n.mega=e==="mega"&&qe("mega",t),n.ol=e==="outlook"&&qe("outlook",t),n.gm=e==="gmail"&&qe("gmail",t),n.ocal=e==="outlook_calendar"&&qe("outlook_calendar",t),n.gcal=e==="google_calendar"&&qe("google_calendar",t),n.teams=e==="teams"&&qe("teams",t);sessionStorage.setItem("src_sp",n.sp?"1":"0"),sessionStorage.setItem("src_od",n.od?"1":"0"),sessionStorage.setItem("src_gd",n.gd?"1":"0"),sessionStorage.setItem("src_dbx",n.dbx?"1":"0"),sessionStorage.setItem("src_box",n.box?"1":"0"),sessionStorage.setItem("src_mega",n.mega?"1":"0"),sessionStorage.setItem("src_ol",n.ol?"1":"0"),sessionStorage.setItem("src_gm",n.gm?"1":"0"),sessionStorage.setItem("src_ocal",n.ocal?"1":"0"),sessionStorage.setItem("src_gcal",n.gcal?"1":"0"),sessionStorage.setItem("src_teams",n.teams?"1":"0"),window.dispatchEvent(new CustomEvent("sources:sync",{detail:n}))}function bE({scope:e="all",setScope:t=()=>{},connections:n={},onActiveSourcesChange:a=()=>{}}){const r=p.useMemo(()=>wE(n),[n]),o=p.useMemo(()=>yE.some(f=>qe(f,r)),[r]);p.useEffect(()=>{if(o){if(e==="all"){const f=[...Kr,...Yr].filter(g=>qe(g,r));a(f)}else a([e]);EE(e,r)}},[e,r,o]),p.useEffect(()=>{const f=g=>{var E,x;const w=(E=g==null?void 0:g.detail)==null?void 0:E.scope,y=(x=g==null?void 0:g.detail)==null?void 0:x.source;!w||y==="header"||w!==e&&t(w)};return window.addEventListener(yl,f),()=>window.removeEventListener(yl,f)},[e,t]);const[s,l]=p.useState(!1),c=p.useRef(null);p.useEffect(()=>{const f=w=>{c.current&&(c.current.contains(w.target)||l(!1))},g=w=>{w.key==="Escape"&&l(!1)};return document.addEventListener("mousedown",f),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",g)}},[]);const u=wl[e]||"Auto",d=f=>window.dispatchEvent(new CustomEvent(yl,{detail:{scope:f,source:"header"}})),m=f=>{t(f),d(f),l(!1)};return i.createElement("div",{className:"relative",ref:c},i.createElement("button",{className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-2.5 py-1.5 text-sm text-white hover:bg-white/10",onClick:()=>l(f=>!f),title:"Choose source",type:"button"},i.createElement("span",{className:"opacity-90"},u),i.createElement(xE,{open:s})),s&&i.createElement("div",{className:"absolute left-0 mt-2 z-50 w-[260px] rounded-xl border border-white/10 bg-[#0b1324] shadow-2xl"},i.createElement("div",{className:"p-2",role:"menu","aria-label":"Select source"},i.createElement(El,{title:"Auto",active:e==="all",disabled:Kr.every(f=>!qe(f,r))&&Yr.every(f=>!qe(f,r)),right:i.createElement(xl,{on:!0}),onClick:()=>m("all")}),i.createElement("div",{className:"my-1 h-px bg-white/10"}),Kr.map(f=>{const g=qe(f,r);return i.createElement(El,{key:f,title:wl[f],active:e===f,disabled:!g,right:i.createElement(xl,{on:g}),onClick:()=>g&&m(f)})}),i.createElement("div",{className:"my-2 h-px bg-white/10"}),Yr.map(f=>{const g=qe(f,r);return i.createElement(El,{key:f,title:wl[f],active:e===f,disabled:!g,right:i.createElement(xl,{on:g}),onClick:()=>g&&m(f)})}))))}function El({title:e,right:t,onClick:n,active:a,disabled:r}){return i.createElement("button",{type:"button",disabled:r,onClick:n,className:`w-full text-left rounded-lg px-3 py-2 flex items-center gap-2 ${r?"opacity-50 cursor-not-allowed":a?"bg-white/10 ring-1 ring-white/15":"hover:bg-white/5"}`,role:"menuitemradio","aria-checked":!!a},i.createElement("div",{className:"min-w-0"},i.createElement("div",{className:"text-sm text-white truncate"},e)),i.createElement("div",{className:"ml-auto flex items-center gap-2"},t))}var E0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yp=i.createContext&&i.createContext(E0),kE=["attr","size","title"];function NE(e,t){if(e==null)return{};var n=SE(e,t),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function SE(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ns.apply(this,arguments)}function wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wp(Object(n),!0).forEach(function(a){CE(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function CE(e,t,n){return t=PE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PE(e){var t=_E(e,"string");return typeof t=="symbol"?t:t+""}function _E(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b0(e){return e&&e.map((t,n)=>i.createElement(t.tag,as({key:n},t.attr),b0(t.child)))}function ue(e){return t=>i.createElement(TE,ns({attr:as({},e.attr)},t),b0(e.child))}function TE(e){var t=n=>{var{attr:a,size:r,title:o}=e,s=NE(e,kE),l=r||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),i.createElement("svg",ns({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,s,{className:c,style:as(as({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return yp!==void 0?i.createElement(yp.Consumer,null,n=>t(n)):t(E0)}function LE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 8V4H8"},child:[]},{tag:"rect",attr:{width:"16",height:"12",x:"4",y:"8",rx:"2"},child:[]},{tag:"path",attr:{d:"M2 14h2"},child:[]},{tag:"path",attr:{d:"M20 14h2"},child:[]},{tag:"path",attr:{d:"M15 13v2"},child:[]},{tag:"path",attr:{d:"M9 13v2"},child:[]}]})(e)}function k0(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function rs(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function AE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function N0(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(e)}function Ep(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function DE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function ME(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function RE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function bp(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function kp(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function jE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function OE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function zE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function xi(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function S0(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"},child:[]},{tag:"path",attr:{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(e)}function C0(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(e)}function FE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(e)}function IE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function $c(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function VE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function P0(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function _0(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function BE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function $E(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function UE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function Np(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function HE(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function T0(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Uc(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function WE({type:e="thinking"}){const t={thinking:{label:"Thinking",cls:"bg-[#1a2a52] border-[#25407a]"},"searching-file":{label:"Searching files",cls:"bg-[#1a2a52] border-[#25407a]"},"checking-access":{label:"Checking access",cls:"bg-[#1a2a52] border-[#25407a]"},error:{label:"Error",cls:"bg-[#3b1f1f] border-[#6d2b2b]"}},n=t[e]||t.thinking,a=e!=="error";return i.createElement("span",{role:"status","aria-live":"polite",className:`inline-flex items-center text-xs px-2.5 py-1 rounded-full border mr-2 mb-1 ${n.cls} ${a?"animate-pulse":""}`},i.createElement("span",null,n.label),a&&i.createElement("span",{className:"ml-1 inline-flex items-end gap-[2px]","aria-hidden":"true"},i.createElement("span",{className:"h-1.5 w-1.5 rounded-full bg-white/90 animate-bounce [animation-duration:1.1s]"}),i.createElement("span",{className:"h-1.5 w-1.5 rounded-full bg-white/70 animate-bounce [animation-delay:.15s] [animation-duration:1.1s]"}),i.createElement("span",{className:"h-1.5 w-1.5 rounded-full bg-white/50 animate-bounce [animation-delay:.3s]  [animation-duration:1.1s]"})))}function GE(e){const t=[],n=String(e??""),a=/\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)/g,r=/(https?:\/\/[^\s<>()]+[^\s<>().,;!?"')\]])/g;let o=0;for(;o<n.length;){a.lastIndex=o,r.lastIndex=o;const s=a.exec(n),l=r.exec(n);let c=null,u=null;if(s&&l?c=s.index<=l.index?(u="md",s):(u="url",l):s?c=(u="md",s):l&&(c=(u="url",l)),!c){t.push(n.slice(o));break}if(c.index>o&&t.push(n.slice(o,c.index)),u==="md"){const d=c[1],m=c[2];t.push(i.createElement("a",{key:`md-${c.index}`,href:m,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-300 hover:text-blue-200 break-words"},d)),o=a.lastIndex}else{const d=c[1];t.push(i.createElement("a",{key:`url-${c.index}`,href:d,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-300 hover:text-blue-200 break-words"},d)),o=r.lastIndex}}return t}function qE({sender:e="AI",message:t="",attachments:n=[],isStatus:a=!1,statusType:r="thinking",timestamp:o,userAvatarUrl:s,aiAvatarUrl:l}){const c=String(e).toLowerCase()==="you"||String(e).toLowerCase()==="user",[u,d]=i.useState(!1),[m,f]=i.useState(!1);return i.createElement("div",{className:`flex w-full ${c?"justify-end":"justify-start"} py-1`},i.createElement("div",{className:"relative max-w-[80%]"},i.createElement("div",{className:["rounded-2xl border shadow-md px-4 py-3 whitespace-pre-wrap break-words",c?"bg-[#1a2a52] border-[#25407a] text-white":"bg-[#0f1a33] border-[#1f2b4a] text-white"].join(" ")},a&&i.createElement(WE,{type:r}),i.createElement("div",{className:"text-[1rem]"},GE(t)),Array.isArray(n)&&n.length>0&&i.createElement("div",{className:"mt-2 flex flex-wrap gap-2","aria-label":"Message attachments"},n.map(g=>{const w=g.url||g.previewUrl||(g.serverId?`/uploads/chat/${g.serverId}`:void 0),y=g.id||g.serverId||g.path||g.name||Math.random().toString(36).slice(2),E=g.name||g.filename||"file",h=String(g.mime||"").toLowerCase().startsWith("image/")||/\.(png|jpe?g|gif|bmp|webp|tiff|heic)$/i.test(E);return i.createElement("div",{key:y,className:"rounded-lg border border-white/10 bg-white/5 p-2",title:E},h&&w?i.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"block"},i.createElement("img",{src:g.thumbUrl||w,alt:E,className:"max-w-[240px] rounded-md",loading:"lazy"}),i.createElement("div",{className:"mt-1 text-[11px] text-blue-200 max-w-[240px] truncate"},E)):i.createElement("a",{href:w||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-[12px] text-blue-200 hover:text-white"},i.createElement("span",{className:"inline-block h-4 w-4 rounded bg-white/10 grid place-items-center"},i.createElement($c,{size:12})),i.createElement("span",{className:"max-w-[220px] truncate"},E)))})),!!o&&i.createElement("div",{className:"mt-1 text-[11px] text-white/50"},new Date(o).toLocaleString())),i.createElement("div",{className:["pointer-events-none absolute top-3 h-[2px] rounded-full opacity-80",c?"-right-6 w-6 bg-gradient-to-l from-[#E0C389] to-transparent":"-left-6  w-6 bg-gradient-to-r from-[#E0C389] to-transparent"].join(" ")}),i.createElement("div",{className:["absolute top-1 w-7 h-7 rounded-full overflow-hidden grid place-items-center shadow","border backdrop-blur-sm",c?"-right-8 bg-[#2a3a6b] border-[#3b4f8a] text-white":"-left-8  bg-[#1f2b4a] border-[#2a3b7a] text-white"].join(" "),"aria-hidden":"true",title:c?"You":"AI"},c?s&&!u?i.createElement("img",{src:s,alt:"Your avatar",className:"w-full h-full object-cover",onError:()=>d(!0),loading:"lazy"}):i.createElement(T0,{size:20}):l&&!m?i.createElement("img",{src:l,alt:"AI",className:"w-full h-full object-cover",onError:()=>f(!0),loading:"lazy"}):i.createElement(LE,{size:20}))))}function KE({title:e,titleId:t,...n},a){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const YE=p.forwardRef(KE),QE=YE;function XE({history:e=[],onInsert:t,onSend:n,autoFetch:a=!0,endpoint:r="/askgpt/suggestions",compact:o=!1}){const[s,l]=p.useState(!1),[c,u]=p.useState([]),d=p.useRef(null),m=p.useRef(""),f=p.useMemo(()=>{const g=e.slice(-8);return JSON.stringify({history:g,max:3})},[e]);return p.useEffect(()=>{if(!a)return;const g=setTimeout(()=>{var E;const w=f;if(w===m.current)return;m.current=w,l(!0),(E=d.current)==null||E.abort();const y=new AbortController;d.current=y,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:f,signal:y.signal}).then(x=>x.json()).then(x=>{const v=(Array.isArray(x==null?void 0:x.suggestions)?x.suggestions:[]).filter(b=>typeof b=="string").map(b=>b.trim()).filter(b=>b.length>0).slice(0,3);u(v)}).catch(()=>u([])).finally(()=>l(!1))},400);return()=>{clearTimeout(g)}},[f,r,a]),s||c.length===0?null:i.createElement("div",{className:`w-full ${o?"mt-2":"mt-3"} flex items-start gap-3`,"aria-label":"Ask GPT suggestions"},i.createElement("div",{className:"flex items-center gap-2 text-sm text-zinc-300"},i.createElement(QE,{className:"h-4 w-4"}),i.createElement("span",{className:"opacity-80"},"Ask GPT")),i.createElement("div",{className:"flex-1"},i.createElement("div",{className:"rounded-2xl bg-zinc-800/70 border border-zinc-700 px-4 py-3 shadow-sm"},i.createElement("div",{className:"flex flex-wrap gap-2"},c.map((g,w)=>i.createElement("button",{key:w,onClick:()=>n?n(g):t==null?void 0:t(g),className:"text-zinc-50 text-sm rounded-full border border-zinc-600 px-3 py-1 hover:bg-zinc-700 active:scale-[0.99] transition",title:n?"Send":"Insert into input"},g))))),n&&i.createElement("button",{onClick:()=>n(c[0]||"Yes"),className:"text-sm px-4 py-2 rounded-full bg-zinc-700 hover:bg-zinc-600 border border-zinc-500"},"Yes"))}function ZE({containerSelector:e="#chat-transcript",maxSelection:t=1200,prefillInstruction:n=!1,instructionText:a="Explain this clearly:",label:r="Ask Agent"}){const[o,s]=p.useState(!1),[l,c]=p.useState({x:0,y:0}),u=p.useRef("");if(p.useEffect(()=>{let m=null,f="";const g=E=>{try{const x=document.querySelector(e);if(!x||!E)return!1;const h=E.commonAncestorContainer,v=(h==null?void 0:h.nodeType)===1?h:h==null?void 0:h.parentNode;return x.contains(v)}catch{return!1}},w=()=>{const E=window.getSelection();if(!E||E.rangeCount===0){s(!1),f="";return}const x=(E.toString()||"").trim();if(!x||x.length<2||x.length>t){s(!1),f="";return}const h=E.getRangeAt(0);if(!g(h)){s(!1),f="";return}if(x===f)return;f=x,u.current=x;const v=h.getBoundingClientRect(),b=Math.max(12,Math.min(window.innerWidth-140,v.left+v.width/2-50)),k=Math.max(12,v.top-36);c({x:b,y:Math.max(8,k)}),s(!0)},y=()=>{m&&cancelAnimationFrame(m),m=requestAnimationFrame(w)};return document.addEventListener("selectionchange",y),document.addEventListener("mouseup",y),document.addEventListener("keyup",y),()=>{m&&cancelAnimationFrame(m),document.removeEventListener("selectionchange",y),document.removeEventListener("mouseup",y),document.removeEventListener("keyup",y)}},[e,t]),!o)return null;const d=()=>{var f;const m=u.current||"";if(m){window.dispatchEvent(new CustomEvent("chat:set-quote",{detail:{text:m}})),n&&a&&window.dispatchEvent(new CustomEvent("chat:insert-text",{detail:{text:a}}));try{(f=window.getSelection())==null||f.removeAllRanges()}catch{}s(!1)}};return i.createElement("button",{onClick:d,style:{position:"fixed",left:l.x,top:l.y,zIndex:9999},className:"rounded-full bg-zinc-800/95 text-zinc-100 border border-zinc-700 px-3 py-1 text-xs shadow-lg hover:bg-zinc-700"},r)}const no="file-select:ensure-resumed",JE="chat:insert-text",e2="chat:send-text";async function t2(e){const t=await fetch(e,{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(t.status===402&&window.location.pathname!=="/trial-ended")throw window.location.replace("/trial-ended"),new Error("trial_expired");return t}function n2({onSelectChat:e,onNewChat:t}){const[n,a]=p.useState(!1),[r,o]=p.useState(!1),[s,l]=p.useState([]),c=async()=>{o(!0);try{const d=await(await t2("/api/chats")).json(),m=Array.isArray(d)?d:(d==null?void 0:d.chats)||[];l(m)}catch{}o(!1)};return p.useEffect(()=>{n&&c()},[n]),i.createElement(i.Fragment,null,i.createElement("button",{type:"button",title:"Chats",className:"fixed bottom-24 right-6 z-30 w-12 h-12 rounded-full bg-[#E0C389] text-[#1b1720] shadow-xl grid place-items-center hover:brightness-95",onClick:()=>a(!0)},i.createElement("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M4 4h16v12H7l-3 3V4z"}))),n&&i.createElement(i.Fragment,null,i.createElement("div",{className:"fixed inset-0 bg-black/40 z-30",onClick:()=>a(!1)}),i.createElement("div",{className:"fixed bottom-6 right-6 z-40 w-[380px] max-h-[70vh] overflow-y-auto custom-scrollbar rounded-2xl border border-[#1f2b4a] bg-[#0f1a33] text-white shadow-2xl"},i.createElement("div",{className:"p-4 flex items-center justify-between border-b border-[#1f2b4a]"},i.createElement("h3",{className:"font-semibold"},"Chats"),i.createElement("button",{onClick:()=>a(!1),className:"text-white/70 hover:text-white"},"✕")),i.createElement("div",{className:"p-4"},i.createElement("button",{onClick:()=>{a(!1),t&&t()},className:"w-full rounded-xl bg-[#BD945B] text-black px-3 py-2 font-medium hover:bg-[#a17d4b]"},"+ New chat"),i.createElement("div",{className:"mt-3 space-y-2"},r&&i.createElement("div",{className:"text-sm text-white/70"},"Loading…"),!r&&s.length===0&&i.createElement("div",{className:"text-sm text-white/60"},"No chats yet."),s.map(u=>{const d=u.id||u.chat_id||u._id,m=u.title||u.name||`Chat ${d}`,f=u.updated_at||u.created_at||u.ts||u.time;return i.createElement("button",{key:d,onClick:()=>{a(!1),e&&e(d)},className:"w-full text-left rounded-xl bg-[#182544] border border-[#22345e] hover:bg-[#1d2a51] p-3"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"font-medium"},m),f&&i.createElement("div",{className:"text-xs text-white/60"},new Date(f).toLocaleString())),u.last&&i.createElement("div",{className:"mt-1 text-xs text-white/60 line-clamp-1"},u.last))}))))))}function a2({messages:e,fileOptions:t,allFiles:n,pauseGPT:a,toggleSelectFile:r,selectedFiles:o=[],sendSelectedFiles:s,page:l,totalFiles:c,onPageChange:u,onFilterChange:d,onSkipFileSelection:m,availableFileTypes:f,onSelectChat:g,onNewChat:w,userAvatarUrl:y,summarizeSelectedFiles:E,onUserMessage:x}){const h=p.useRef(null),[v,b]=p.useState(!1);p.useEffect(()=>{var C;(C=h.current)==null||C.scrollIntoView({behavior:"smooth"})},[e,t,a]),p.useEffect(()=>{const C=()=>{a&&typeof m=="function"&&m()};return window.addEventListener(no,C),()=>window.removeEventListener(no,C)},[a,m]);const k=p.useMemo(()=>(e||[]).slice(-8).map(C=>({role:(C==null?void 0:C.sender)==="user"?"user":"assistant",content:(C==null?void 0:C.message)||""})),[e]),T=C=>{window.dispatchEvent(new CustomEvent(JE,{detail:{text:C}}))},_=C=>{window.dispatchEvent(new Event(no)),window.dispatchEvent(new CustomEvent(e2,{detail:{text:C}}))},P=C=>o==null?void 0:o.some(I=>I.id===C),z=async()=>{if(v||!(o!=null&&o.length))return;b(!0);const C="Summarize this file";typeof x=="function"?x(C):window.dispatchEvent(new CustomEvent("chat:append-user",{detail:{text:C}}));try{if(typeof E=="function")await E(o);else{const O=await(await fetch("/api/summarize_selected",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedIds:o.map(G=>G.id),prompt:C})})).json(),j=(O==null?void 0:O.response)||"⚠️ Summarization failed.";window.dispatchEvent(new CustomEvent("chat:append-assistant",{detail:{text:j}}))}}catch(I){console.error("Summarize failed:",I),window.dispatchEvent(new CustomEvent("chat:append-assistant",{detail:{text:"⚠️ Summarization failed."}}))}finally{typeof m=="function"&&m(),window.dispatchEvent(new Event(no)),b(!1)}},D=Math.max(1,Math.ceil((c||0)/5));return i.createElement("div",{className:"w-full max-w-[980px] mx-auto p-4 space-y-4"},i.createElement(n2,{onSelectChat:g,onNewChat:w}),i.createElement("div",{id:"chat-transcript"},e==null?void 0:e.map((C,I)=>i.createElement(qE,{key:I,sender:C.sender,message:C.message,isStatus:C.isStatus,statusType:C.statusType,timestamp:C.timestamp,userAvatarUrl:y,sources:C.sources,attachments:C.attachments||C.files||[]}))),i.createElement("div",{ref:h}),a&&i.createElement("div",{className:"bg-[#171717] p-6 rounded-2xl shadow-md border border-[#22345e] space-y-4 w-full"},i.createElement("h2",{className:"text-white text-xl font-semibold mb-2"},"📂 Files I Found for You"),i.createElement("div",{className:"flex justify-end mb-2"},i.createElement("label",{className:"text-sm text-white mr-2"},"Filter:"),i.createElement("select",{className:"text-sm bg-[#182544] text-white px-2 py-1 rounded border border-[#22345e]",onChange:C=>d==null?void 0:d(C.target.value),defaultValue:""},i.createElement("option",{value:""},"All"),(f||[]).map(C=>i.createElement("option",{key:C,value:C},C.toUpperCase().replace(".",""))))),(t==null?void 0:t.length)>0?i.createElement("div",{className:"space-y-3"},t.map((C,I)=>i.createElement("div",{key:C.id,className:"bg-[#182544] rounded-lg p-4 hover:bg-[#1d2a51] transition-colors cursor-pointer border border-[#22345e]",onClick:()=>r==null?void 0:r(C)},i.createElement("div",{className:"flex justify-between items-center mb-2"},i.createElement("h3",{className:"text-white font-medium text-base"},(l-1)*5+I+1,". ",C.name),i.createElement("input",{type:"checkbox",className:"form-checkbox text-[#BD945B] h-5 w-5 pointer-events-none",checked:P(C.id),readOnly:!0})),i.createElement("div",{className:"flex justify-between items-center text-sm text-blue-300"},C.webUrl?i.createElement("a",{href:C.webUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",onClick:O=>O.stopPropagation()},"🔗 Preview File"):i.createElement("span",{className:"opacity-70"},"No preview"),i.createElement("span",{className:"text-white/70"},"File #",(l-1)*5+I+1))))):i.createElement("p",{className:"text-white text-sm italic"},"⚠️ No files found for this filter."),i.createElement("div",{className:"flex justify-between items-center mt-4"},i.createElement("button",{className:`text-sm font-medium py-2 px-4 rounded-lg transition ${l===1?"bg-[#1d2a51] text-white/50 cursor-not-allowed":"bg-[#BD945B] text-black hover:bg-[#a17d4b]"}`,onClick:()=>u==null?void 0:u(l-1),disabled:l===1},"← Previous"),i.createElement("span",{className:"text-white/80 text-sm"},"Page ",l," of ",D),i.createElement("button",{className:`text-sm font-medium py-2 px-4 rounded-lg transition ${l>=D?"bg-[#1d2a51] text-white/50 cursor-not-allowed":"bg-[#BD945B] text-black hover:bg-[#a17d4b]"}`,onClick:()=>u==null?void 0:u(l+1),disabled:l>=D},"Next →")),i.createElement("button",{className:`w-full mt-4 py-2 px-4 text-white font-semibold rounded-lg shadow-md transition ${o.length>0?"bg-[#BD945B] hover:bg-[#a17d4b] text-black":"bg-[#1d2a51] cursor-not-allowed"}`,onClick:s,disabled:o.length===0},"Send Selected Files"),i.createElement("button",{className:`w-full mt-2 py-2 px-4 text-white font-semibold rounded-lg shadow-md transition ${o.length>0&&!v?"bg-[#25406d] hover:bg-[#2c4a7c]":"bg-[#1d2a51] cursor-not-allowed"}`,onClick:z,disabled:o.length===0||v,title:v?"Summarizing…":"Summarize selected files"},v?"Summarizing…":"Summarize Selected Files"),i.createElement("p",{className:"text-xs text-white/60 text-center mt-2"},"Tip: You can keep chatting below without selecting any files.")),i.createElement(ZE,{containerSelector:"#chat-transcript"}),i.createElement("div",{className:"sticky bottom-0 pt-1 bg-gradient-to-t from-[#0b1022] via-[#0b1022] to-transparent"},i.createElement(XE,{history:k,onInsert:C=>T(C),onSend:C=>_(C),endpoint:"/askgpt/suggestions",compact:!1})))}function r2(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 10l-6 10l-3 -5l6 -10z"},child:[]},{tag:"path",attr:{d:"M9 15h12l-3 5h-12"},child:[]},{tag:"path",attr:{d:"M15 15l-6 -10h6l6 10z"},child:[]}]})(e)}function i2(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.456 10.45a6.45 6.45 0 0 0 -12 -2.151a4.857 4.857 0 0 0 -4.44 5.241a4.856 4.856 0 0 0 5.236 4.444h10.751a3.771 3.771 0 0 0 3.99 -3.54a3.772 3.772 0 0 0 -3.538 -3.992z"},child:[]}]})(e)}function o2(e){return ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6.657 18c-2.572 0 -4.657 -2.007 -4.657 -4.483c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.913 0 3.464 1.56 3.464 3.486c0 1.927 -1.551 3.487 -3.465 3.487h-11.878"},child:[]}]})(e)}function pd(e){return ue({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M.959 5.523c-.54 0-.959.42-.959.899v7.549a4.59 4.59 0 004.613 4.494 4.717 4.717 0 004.135-2.457c.779 1.438 2.337 2.457 4.074 2.457 2.577 0 4.674-2.037 4.674-4.613.06-2.457-2.037-4.495-4.613-4.495-1.738 0-3.295.959-4.074 2.397-.78-1.438-2.338-2.397-4.135-2.397-1.079 0-2.038.36-2.817.899V6.422a.92.92 0 00-.898-.899zM17.602 9.26a.95.95 0 00-.704.158c-.36.3-.479.899-.18 1.318l2.397 3.116-2.396 3.115c-.3.42-.24.96.18 1.26.419.3 1.016.298 1.316-.122l2.039-2.636 2.096 2.697c.3.36.899.419 1.318.12.36-.3.42-.84.121-1.259l-2.338-3.115 2.338-3.057c.3-.419.298-1.018-.121-1.318-.48-.3-1.019-.24-1.318.18l-2.096 2.576-2.04-2.695c-.149-.18-.373-.3-.612-.338zM4.613 11.154c1.558 0 2.817 1.26 2.817 2.758 0 1.558-1.259 2.756-2.817 2.756-1.558 0-2.816-1.198-2.816-2.756 0-1.498 1.258-2.758 2.816-2.758zm8.27 0c1.558 0 2.816 1.26 2.816 2.758-.06 1.558-1.318 2.756-2.816 2.756-1.558 0-2.817-1.198-2.817-2.756 0-1.498 1.259-2.758 2.817-2.758Z"},child:[]}]})(e)}function fd(e){return ue({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 1.807L0 5.629l6 3.822 6.001-3.822L6 1.807zM18 1.807l-6 3.822 6 3.822 6-3.822-6-3.822zM0 13.274l6 3.822 6.001-3.822L6 9.452l-6 3.822zM18 9.452l-6 3.822 6 3.822 6-3.822-6-3.822zM6 18.371l6.001 3.822 6-3.822-6-3.822L6 18.371z"},child:[]}]})(e)}function L0(e){return ue({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.01 1.485c-2.082 0-3.754.02-3.743.047.01.02 1.708 3.001 3.774 6.62l3.76 6.574h3.76c2.081 0 3.753-.02 3.742-.047-.005-.02-1.708-3.001-3.775-6.62l-3.76-6.574zm-4.76 1.73a789.828 789.861 0 0 0-3.63 6.319L0 15.868l1.89 3.298 1.885 3.297 3.62-6.335 3.618-6.33-1.88-3.287C8.1 4.704 7.255 3.22 7.25 3.214zm2.259 12.653-.203.348c-.114.198-.96 1.672-1.88 3.287a423.93 423.948 0 0 1-1.698 2.97c-.01.026 3.24.042 7.222.042h7.244l1.796-3.157c.992-1.734 1.85-3.23 1.906-3.323l.104-.167h-7.249z"},child:[]}]})(e)}function A0(e){return ue({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zm6.23 16.244a.371.371 0 0 1-.373.372H16.29a.371.371 0 0 1-.372-.372v-4.828c0-.04-.046-.06-.08-.033l-3.32 3.32a.742.742 0 0 1-1.043 0l-3.32-3.32c-.027-.027-.08-.007-.08.033v4.828a.371.371 0 0 1-.372.372H6.136a.371.371 0 0 1-.372-.372V7.757c0-.206.166-.372.372-.372h1.076a.75.75 0 0 1 .525.22l4.13 4.13a.18.18 0 0 0 .26 0l4.13-4.13c.14-.14.325-.22.525-.22h1.075c.206 0 .372.166.372.372z"},child:[]}]})(e)}function D0(e){return ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function hd(e){return ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z"},child:[]}]})(e)}function s2(e){return ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"},child:[]}]})(e)}function M0(e){return ue({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M219.26,80h-7.57A31.71,31.71,0,0,0,216,64a32,32,0,0,0-45.88-28.85A40,40,0,0,0,96.81,64H40A16,16,0,0,0,24,80v96a16,16,0,0,0,16,16H76.67a64,64,0,0,0,118.7-.15A40,40,0,0,0,232,152V92.74A12.76,12.76,0,0,0,219.26,80ZM136,32a24,24,0,0,1,15.07,42.68A16,16,0,0,0,136,64H113.38A24,24,0,0,1,136,32ZM88,160a8,8,0,0,1-8-8V112H72a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16H96v40A8,8,0,0,1,88,160Zm96,8a48,48,0,0,1-89.56,24H136a16,16,0,0,0,16-16V96h32Zm0-88H168a39.89,39.89,0,0,0,7.6-29.6A16,16,0,1,1,184,80Zm32,72a24,24,0,0,1-16.36,22.75A62.76,62.76,0,0,0,200,168V96h16Z"},child:[]}]})(e)}const l2=[".pdf",".txt",".md",".doc",".docx",".ppt",".pptx",".xls",".xlsx",".csv",".png",".jpg",".jpeg",".gif",".tiff",".bmp",".heic",".rtf",".yml",".yaml",".json"].join(","),Sp="file-select:ensure-resumed";function c2({onSend:e,disabled:t,userInput:n,setUserInput:a}){const r="#E0C389",o="rgba(255,255,255,0.08)",[s,l]=p.useState(!1),c=p.useRef(null);p.useEffect(()=>{const A=window.SpeechRecognition||window.webkitSpeechRecognition;if(!A)return;const M=new A;M.lang="en-US",M.interimResults=!1,M.maxAlternatives=1,M.onstart=()=>l(!0),M.onend=()=>l(!1),M.onerror=()=>l(!1),M.onresult=L=>{var ae,ce,re;const W=((re=(ce=(ae=L.results)==null?void 0:ae[0])==null?void 0:ce[0])==null?void 0:re.transcript)||"";W&&(a(W),setTimeout(()=>H(W),120))},c.current=M},[a]);const u=()=>{const A=c.current;if(A)try{s?A.stop():A.start()}catch{}},d=p.useRef(null),[m,f]=p.useState("");p.useEffect(()=>{const A=W=>{var ce;const ae=((ce=W==null?void 0:W.detail)==null?void 0:ce.text)||"";ae&&(a(ae),requestAnimationFrame(()=>{var re;return(re=d.current)==null?void 0:re.focus()}))},M=W=>{var ce;const ae=((ce=W==null?void 0:W.detail)==null?void 0:ce.text)||"";ae.trim()&&(window.dispatchEvent(new Event(Sp)),a(ae),H(ae))},L=W=>{var ce;const ae=(((ce=W==null?void 0:W.detail)==null?void 0:ce.text)||"").trim();ae&&(f(ae),requestAnimationFrame(()=>{var re;return(re=d.current)==null?void 0:re.focus()}))};return window.addEventListener("chat:insert-text",A),window.addEventListener("chat:send-text",M),window.addEventListener("chat:set-quote",L),()=>{window.removeEventListener("chat:insert-text",A),window.removeEventListener("chat:send-text",M),window.removeEventListener("chat:set-quote",L)}},[a]);const[g,w]=p.useState(!1);p.useEffect(()=>{t||requestAnimationFrame(()=>{var A;return(A=d.current)==null?void 0:A.focus()})},[t]),p.useEffect(()=>{y()},[n]);const y=()=>{const A=d.current;A&&(A.style.height="0px",A.style.height=Math.min(180,A.scrollHeight)+"px")},[E,x]=p.useState({sharepoint:{connected:!1,account_email:null},onedrive:{connected:!1,account_email:null},google:{connected:!1,account_email:null},dropbox:{connected:!1,account_email:null},box:{connected:!1,account_email:null},mega:{connected:!1,account_email:null},outlook:{connected:!1,account_email:null},gmail:{connected:!1,account_email:null},outlook_calendar:{connected:!1,account_email:null},google_calendar:{connected:!1,account_email:null},teams:{connected:!1,account_email:null}}),h=A=>{const M=(A||"").toLowerCase().replace(/[\s_.-]+/g,""),L={sharepoint:["sharepoint","mssharepoint"],onedrive:["onedrive","msonedrive"],google:["googledrive","google","gdrive","google_drive","googledrivefiles"],dropbox:["dropbox"],box:["box"],mega:["mega","meganz"],outlook:["outlook","msoutlook","o365mail"],outlook_calendar:["outlookcalendar","msoutlookcalendar","outlookcal","o365calendar"],gmail:["gmail"],google_calendar:["googlecalendar","gcalendar","googlecal","google_calendar"],teams:["teams","msteams","microsoftteams","ms_teams","ms-teams"]};for(const[W,ae]of Object.entries(L))if(ae.includes(M))return W;return M.includes("sharepoint")?"sharepoint":M.includes("onedrive")?"onedrive":M.includes("outlook")&&M.includes("calendar")?"outlook_calendar":M.includes("google")&&M.includes("calendar")?"google_calendar":M.includes("outlook")?"outlook":M.includes("gmail")?"gmail":M.includes("google")?"google":M.includes("dropbox")?"dropbox":M.includes("mega")?"mega":M.includes("box")?"box":M.includes("teams")?"teams":null};p.useEffect(()=>{(async()=>{var A,M,L,W,ae,ce,re,Le,dt,ye,et,At,fe,We,yr,wr;try{const na=await(await fetch("/api/connections",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json().catch(()=>({})),ji=Array.isArray(na==null?void 0:na.connections)?na.connections:[],ge={};for(const Ve of ji){const Er=h(Ve.provider||Ve.type||Ve.name),zi=!!(Ve.connected??Ve.is_connected??Ve.active??Ve.status==="connected"??Ve.status===!0);Er&&(ge[Er]={connected:zi,account_email:Ve.account_email||null})}const aa=!!((A=ge.sharepoint)!=null&&A.connected||(M=ge.onedrive)!=null&&M.connected||(L=ge.outlook)!=null&&L.connected||(W=ge.outlook_calendar)!=null&&W.connected||(ae=ge.teams)!=null&&ae.connected),Oi=!!((ce=ge.google)!=null&&ce.connected||(re=ge.gmail)!=null&&re.connected||(Le=ge.google_calendar)!=null&&Le.connected);if(aa){const Ve=((dt=ge.sharepoint)==null?void 0:dt.account_email)||((ye=ge.onedrive)==null?void 0:ye.account_email)||((et=ge.outlook)==null?void 0:et.account_email)||((At=ge.outlook_calendar)==null?void 0:At.account_email)||((fe=ge.teams)==null?void 0:fe.account_email)||null;ge.outlook||(ge.outlook={connected:!!aa,account_email:Ve}),ge.outlook_calendar||(ge.outlook_calendar={connected:!!aa,account_email:Ve}),ge.teams||(ge.teams={connected:!!aa,account_email:Ve})}if(Oi){const Ve=((We=ge.google)==null?void 0:We.account_email)||((yr=ge.gmail)==null?void 0:yr.account_email)||((wr=ge.google_calendar)==null?void 0:wr.account_email)||null;ge.gmail||(ge.gmail={connected:!0,account_email:Ve}),ge.google_calendar||(ge.google_calendar={connected:!0,account_email:Ve})}x(Ve=>({...Ve,...ge}))}catch{}})()},[]);const v=A=>{const M=sessionStorage.getItem(A);return M===null?null:M==="1"},[b,k]=p.useState(v("src_sp")??!0),[T,_]=p.useState(v("src_od")??!0),[P,z]=p.useState(v("src_gd")??!0),[D,C]=p.useState(v("src_dbx")??!0),[I,O]=p.useState(v("src_box")??!0),[j,G]=p.useState(v("src_mega")??!0),[K,oe]=p.useState(v("src_ol")??!0),[S,R]=p.useState(v("src_gm")??!0),[B,U]=p.useState(v("src_ocal")??!0),[X,V]=p.useState(v("src_gcal")??!0),[N,F]=p.useState(v("src_teams")??!0);p.useEffect(()=>{if(!["src_sp","src_od","src_gd","src_dbx","src_box","src_mega","src_ol","src_gm","src_ocal","src_gcal","src_teams"].every(W=>sessionStorage.getItem(W)===null))return;const L={sp:!!E.sharepoint.connected,od:!!E.onedrive.connected,gd:!!E.google.connected,dbx:!!E.dropbox.connected,box:!!E.box.connected,mega:!!E.mega.connected,ol:!!E.outlook.connected||!!E.sharepoint.connected||!!E.onedrive.connected,gm:!!E.gmail.connected||!!E.google.connected,ocal:!!E.outlook_calendar.connected||!!E.sharepoint.connected||!!E.onedrive.connected,gcal:!!E.google_calendar.connected||!!E.google.connected,teams:!!E.teams.connected||!!E.sharepoint.connected||!!E.onedrive.connected};k(L.sp),_(L.od),z(L.gd),C(L.dbx),O(L.box),G(L.mega),oe(L.ol),R(L.gm),U(L.ocal),V(L.gcal),F(L.teams),Object.entries({src_sp:L.sp,src_od:L.od,src_gd:L.gd,src_dbx:L.dbx,src_box:L.box,src_mega:L.mega,src_ol:L.ol,src_gm:L.gm,src_ocal:L.ocal,src_gcal:L.gcal,src_teams:L.teams}).forEach(([W,ae])=>sessionStorage.setItem(W,ae?"1":"0")),window.dispatchEvent(new CustomEvent("sources:sync",{detail:L}))},[E]),p.useEffect(()=>{sessionStorage.setItem("src_sp",b?"1":"0")},[b]),p.useEffect(()=>{sessionStorage.setItem("src_od",T?"1":"0")},[T]),p.useEffect(()=>{sessionStorage.setItem("src_gd",P?"1":"0")},[P]),p.useEffect(()=>{sessionStorage.setItem("src_dbx",D?"1":"0")},[D]),p.useEffect(()=>{sessionStorage.setItem("src_box",I?"1":"0")},[I]),p.useEffect(()=>{sessionStorage.setItem("src_mega",j?"1":"0")},[j]),p.useEffect(()=>{sessionStorage.setItem("src_ol",K?"1":"0")},[K]),p.useEffect(()=>{sessionStorage.setItem("src_gm",S?"1":"0")},[S]),p.useEffect(()=>{sessionStorage.setItem("src_ocal",B?"1":"0")},[B]),p.useEffect(()=>{sessionStorage.setItem("src_gcal",X?"1":"0")},[X]),p.useEffect(()=>{sessionStorage.setItem("src_teams",N?"1":"0")},[N]),p.useEffect(()=>{const A=M=>{const L=M.detail||{};"sp"in L&&k(!!L.sp),"od"in L&&_(!!L.od),"gd"in L&&z(!!L.gd),"dbx"in L&&C(!!L.dbx),"box"in L&&O(!!L.box),"mega"in L&&G(!!L.mega),"ol"in L&&oe(!!L.ol),"gm"in L&&R(!!L.gm),"ocal"in L&&U(!!L.ocal),"gcal"in L&&V(!!L.gcal),"teams"in L&&F(!!L.teams)};return window.addEventListener("sources:sync",A),()=>window.removeEventListener("sources:sync",A)},[]);const[q,ne]=p.useState(!1),ie=p.useRef(null);p.useEffect(()=>{const A=L=>ie.current&&!ie.current.contains(L.target)&&ne(!1),M=L=>L.key==="Escape"&&ne(!1);return document.addEventListener("mousedown",A),document.addEventListener("keydown",M),()=>{document.removeEventListener("mousedown",A),document.removeEventListener("keydown",M)}},[]);const pe=p.useCallback(()=>{const A=[];return E.sharepoint.connected&&b&&A.push("sharepoint"),E.onedrive.connected&&T&&A.push("onedrive"),E.google.connected&&P&&A.push("google"),E.dropbox.connected&&D&&A.push("dropbox"),E.box.connected&&I&&A.push("box"),E.mega.connected&&j&&A.push("mega"),E.outlook.connected&&K&&A.push("outlook"),E.gmail.connected&&S&&A.push("gmail"),E.outlook_calendar.connected&&B&&A.push("outlook_calendar"),E.google_calendar.connected&&X&&A.push("google_calendar"),E.teams.connected&&N&&A.push("teams"),A},[E,b,T,P,D,I,j,K,S,B,X,N]),[me,ke]=p.useState([]),[Te,ct]=p.useState(!1),[le,Ze]=p.useState(!1),ut=p.useRef(null),He=async A=>{const M=Array.from(A||[]).filter(L=>!!L&&!!L.name);if(M.length){ct(!0);try{const L=new FormData;for(const re of M)L.append("files",re);const W=await fetch("/api/uploads/files",{method:"POST",credentials:"include",body:L}),ae=await W.json();if(!W.ok)throw new Error((ae==null?void 0:ae.error)||"Upload failed");const ce=(Array.isArray(ae.files)?ae.files:[]).map(re=>({...re,id:re.id||re.path||Date.now()+"-"+Math.random().toString(36).slice(2)}));ke(re=>[...re,...ce]),window.dispatchEvent(new CustomEvent("uploads:added",{detail:ce}))}catch(L){alert(L.message||"Upload failed")}finally{ct(!1)}}},Ce=async A=>{ke(M=>{const L=M.find(ae=>ae.id===A),W=M.filter(ae=>ae.id!==A);return L!=null&&L.path&&fetch("/api/uploads/files",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:L.path})}).catch(()=>{}),W})},ve=()=>{var A;return(A=ut.current)==null?void 0:A.click()},Je=A=>He(A.target.files),Lt=A=>{var M;A.preventDefault(),A.stopPropagation(),Ze(!1),t||He(((M=A.dataTransfer)==null?void 0:M.files)||[])},Q=A=>{A.preventDefault(),A.stopPropagation(),le||Ze(!0)},J=A=>{A.preventDefault(),A.stopPropagation(),Ze(!1)},H=A=>{const M=(A??n).trim(),W=!!m.trim()?`${M}

"""${m.trim()}"""`:M;if(!W&&me.length===0)return;window.dispatchEvent(new Event(Sp));const ae=me.map(ce=>({...ce}));e(W,null,pe(),{attachments:ae}),a(""),f(""),ke([]),requestAnimationFrame(()=>{var ce;return(ce=d.current)==null?void 0:ce.focus()}),ne(!1)},Y=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),H())};return i.createElement("div",{className:"px-4 pb-5 pt-3",onDrop:Lt,onDragOver:Q,onDragLeave:J},i.createElement("div",{className:"mx-auto max-w-[980px]"},me.length>0&&i.createElement("div",{className:"mb-2 flex flex-wrap gap-2"},me.map(A=>i.createElement("div",{key:A.id,className:"group flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-2 py-1 text-[12px] text-zinc-200"},i.createElement("span",{className:"inline-flex items-center gap-1"},i.createElement("span",{className:"inline-block h-5 w-5 rounded-lg bg-white/10 grid place-items-center"},i.createElement($c,{size:12})),i.createElement("span",{className:"max-w-[220px] truncate"},A.name||"file")),i.createElement("button",{onClick:()=>Ce(A.id),className:"opacity-70 hover:opacity-100",title:"Remove"},i.createElement(Uc,{size:14}))))),i.createElement("div",{className:"relative group"},i.createElement("div",{className:`pointer-events-none absolute -inset-0.5 rounded-[28px] blur transition-opacity duration-300 ${g?"opacity-100":"opacity-60"}`,style:{background:"conic-gradient(from 180deg at 50% 50%, rgba(224,195,137,.65), rgba(124,58,237,.35), rgba(56,189,248,.35), rgba(224,195,137,.65))",boxShadow:g?"0 0 40px rgba(224,195,137,.25)":"none"}}),i.createElement("div",{className:"relative rounded-[26px] p-[2px]",style:{background:o}},i.createElement("div",{className:"relative rounded-[24px] border border-white/10 bg-[#0f152b]/70 px-3 py-2 backdrop-blur-xl shadow-[0_10px_30px_rgba(0,0,0,.5)] flex flex-col gap-2"},m&&i.createElement("div",{className:"w-full rounded-xl border border-white/10 bg-white/[.04] px-3 py-2 text-[13px] text-zinc-200"},i.createElement("div",{className:"flex items-center justify-between gap-2 mb-1"},i.createElement("div",{className:"font-medium text-zinc-100"},"Quoted text"),i.createElement("button",{onClick:()=>f(""),className:"text-zinc-300 hover:text-white",title:"Remove quote"},i.createElement(Uc,{size:16}))),i.createElement("div",{className:"rounded-lg bg-black/30 border border-white/10 px-3 py-2 whitespace-pre-wrap"},m)),i.createElement("div",{className:"flex items-end gap-2"},i.createElement("button",{type:"button",onClick:()=>window.location.href="/dashboard",className:"group rounded-full p-2 text-zinc-300 hover:text-white hover:bg-white/5",title:"Connectors",disabled:t},i.createElement(VE,{size:18})),i.createElement(u2,{open:q,setOpen:ne,refEl:ie,connections:E,useSharePoint:b,setUseSharePoint:k,useOneDrive:T,setUseOneDrive:_,useGoogle:P,setUseGoogle:z,useDropbox:D,setUseDropbox:C,useBox:I,setUseBox:O,useMega:j,setUseMega:G,useOutlook:K,setUseOutlook:oe,useGmail:S,setUseGmail:R,useOutlookCal:B,setUseOutlookCal:U,useGoogleCal:X,setUseGoogleCal:V,useTeams:N,setUseTeams:F,activeCount:pe().length}),i.createElement("textarea",{ref:d,autoFocus:!0,rows:1,className:"flex-1 resize-none bg-transparent px-2 pb-1 pt-1 text-[15px] text-white placeholder:zinc-400 outline-none",placeholder:Te?"Uploading…":"Type your prompt here…",value:n,onChange:A=>a(A.target.value),onKeyDown:Y,onFocus:()=>w(!0),onBlur:()=>w(!1),disabled:t}),i.createElement("input",{ref:ut,type:"file",multiple:!0,accept:l2,onChange:Je,className:"hidden"}),i.createElement("button",{type:"button",onClick:ve,className:"relative grid place-items-center rounded-full p-2 text-zinc-300 hover:text-white hover:bg-white/5 disabled:opacity-50",title:"Add photos & files",disabled:t},i.createElement($c,{size:18})),i.createElement("button",{type:"button",onClick:u,className:"relative grid place-items-center rounded-full p-2 text-zinc-300 hover:text-white hover:bg-white/5 disabled:opacity-50",title:s?"Stop voice input":"Voice input",disabled:t},s&&i.createElement("span",{className:"absolute inset-0 -m-1 animate-ping rounded-full",style:{backgroundColor:r,opacity:.25}}),s?i.createElement(S0,{size:18}):i.createElement(C0,{size:18})),i.createElement("button",{type:"button",onClick:()=>H(),className:"grid place-items-center rounded-full p-2 text-[#1b1720] shadow-lg disabled:opacity-50",title:"Send",disabled:t||Te,style:{background:"linear-gradient(180deg, #F1DFB1 0%, #E0C389 50%, #CBA360 100%)"}},i.createElement(_0,{size:18})))),le&&i.createElement("div",{className:"absolute inset-0 rounded-[24px] border-2 border-dashed border-white/20 bg-white/5 grid place-items-center pointer-events-none"},i.createElement("div",{className:"rounded-xl bg-black/50 px-4 py-2 text-sm text-zinc-200"},"Drop files to upload")))),i.createElement("div",{className:"mt-2 flex items-center justify-between text-[11px] text-zinc-400"},i.createElement("span",null,"Enter to send • Shift+Enter for newline"),i.createElement("span",{className:"hidden sm:inline"},Te?"Uploading…":"Icon pills expand on hover/click"))))}function u2(e){const{open:t,setOpen:n,refEl:a,connections:r,activeCount:o,useSharePoint:s,setUseSharePoint:l,useOneDrive:c,setUseOneDrive:u,useGoogle:d,setUseGoogle:m,useDropbox:f,setUseDropbox:g,useBox:w,setUseBox:y,useMega:E,setUseMega:x,useOutlook:h,setUseOutlook:v,useGmail:b,setUseGmail:k,useOutlookCal:T,setUseOutlookCal:_,useGoogleCal:P,setUseGoogleCal:z,useTeams:D,setUseTeams:C}=e;return i.createElement("div",{className:"relative",ref:a},i.createElement("button",{type:"button",onClick:()=>n(I=>!I),className:"relative flex items-center gap-1 rounded-full p-2 text-zinc-300 hover:text-white hover:bg-white/5",title:"Choose Sources"},i.createElement("span",{className:"relative inline-flex -space-x-1"},i.createElement("i",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400 inline-block"}),i.createElement("i",{className:"h-2.5 w-2.5 rounded-full bg-sky-400 inline-block"}),i.createElement("i",{className:"h-2.5 w-2.5 rounded-full bg-blue-500 inline-block"})),i.createElement(AE,{size:16,className:"opacity-70"}),o>0&&i.createElement("span",{className:"ml-1 rounded-full bg-white/10 px-1.5 py-0.5 text-[10px] text-zinc-200"},o)),t&&i.createElement("div",{className:"absolute left-0 bottom-11 w=[360px] md:w-[360px] w-[320px] rounded-2xl border border-white/10 bg-[#0b1124]/95 backdrop-blur-xl shadow-2xl"},i.createElement("div",{className:"px-3 py-2 text-xs font-semibold text-zinc-300 border-b border-white/10"},"Search connected sources"),i.createElement("div",{className:"p-2"},i.createElement(Gt,{icon:i.createElement(r2,{size:18,className:"text-emerald-400"}),title:"Google Drive",subtitle:r.google.connected?"Connected":"Not connected",checked:r.google.connected&&d,disabled:!r.google.connected,onChange:m}),i.createElement(Gt,{icon:i.createElement(i2,{size:18,className:"text-sky-400"}),title:"OneDrive",subtitle:r.onedrive.connected?"Connected":"Not connected",checked:r.onedrive.connected&&c,disabled:!r.onedrive.connected,onChange:u}),i.createElement(Gt,{icon:i.createElement(hd,{size:16,className:"text-teal-400"}),title:"SharePoint",subtitle:r.sharepoint.connected?"Connected":"Not connected",checked:r.sharepoint.connected&&s,disabled:!r.sharepoint.connected,onChange:l}),i.createElement(Gt,{icon:i.createElement(fd,{size:18,className:"text-sky-500"}),title:"Dropbox",subtitle:r.dropbox.connected?"Connected":"Not connected",checked:r.dropbox.connected&&f,disabled:!r.dropbox.connected,onChange:g}),i.createElement(Gt,{icon:i.createElement(pd,{size:18,className:"text-blue-500"}),title:"Box",subtitle:r.box.connected?"Connected":"Not connected",checked:r.box.connected&&w,disabled:!r.box.connected,onChange:y}),i.createElement(Gt,{icon:i.createElement(o2,{size:18,className:"text-rose-400"}),title:"MEGA",subtitle:r.mega.connected?"Connected":"Not connected",checked:r.mega.connected&&E,disabled:!r.mega.connected,onChange:x}),i.createElement("div",{className:"mt-3 mb-1 px-1 text-[11px] uppercase tracking-wide text-white/40"},"Mail • Calendars • Teams"),i.createElement(Gt,{icon:i.createElement(xi,{size:16,className:"text-sky-300"}),title:"Outlook Mail",subtitle:r.outlook.connected?"Connected":"Not connected",checked:r.outlook.connected&&h,disabled:!r.outlook.connected,onChange:v}),i.createElement(Gt,{icon:i.createElement(xi,{size:16,className:"text-emerald-300"}),title:"Gmail",subtitle:r.gmail.connected?"Connected":"Not connected",checked:r.gmail.connected&&b,disabled:!r.gmail.connected,onChange:k}),i.createElement(Gt,{icon:i.createElement(rs,{size:16,className:"text-sky-300"}),title:"Outlook Calendar",subtitle:r.outlook_calendar.connected?"Connected":"Not connected",checked:r.outlook_calendar.connected&&T,disabled:!r.outlook_calendar.connected,onChange:_}),i.createElement(Gt,{icon:i.createElement(rs,{size:16,className:"text-emerald-300"}),title:"Google Calendar",subtitle:r.google_calendar.connected?"Connected":"Not connected",checked:r.google_calendar.connected&&P,disabled:!r.google_calendar.connected,onChange:z}),i.createElement(Gt,{icon:i.createElement(M0,{size:17,className:"text-indigo-300"}),title:"Microsoft Teams",subtitle:r.teams.connected?"Connected":"Not connected",checked:r.teams.connected&&D,disabled:!r.teams.connected,onChange:C}),i.createElement("div",{className:"mt-2 rounded-lg bg-white/[.04] px-3 py-2 text-[11px] leading-snug text-zinc-300"},"Toggle which connected sources should be searched for this prompt."))))}function Gt({icon:e,title:t,subtitle:n,checked:a,onChange:r,disabled:o}){return i.createElement("div",{className:"flex items-center justify-between rounded-xl px-2 py-2 hover:bg-white/[.04]"},i.createElement("div",{className:"flex items-center gap-3"},i.createElement("span",{className:"w-6 flex justify-center"},e),i.createElement("div",null,i.createElement("div",{className:"text-sm text-white"},t),i.createElement("div",{className:"text-[11px] text-zinc-400"},n))),i.createElement("label",{className:`relative inline-flex cursor-pointer items-center ${o?"opacity-30 cursor-not-allowed":""}`},i.createElement("input",{type:"checkbox",className:"peer sr-only",checked:!!a,onChange:s=>!o&&r(s.target.checked),disabled:o}),i.createElement("div",{className:"peer h-5 w-9 rounded-full bg-white/20 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:bg-white after:transition-all peer-checked:bg-emerald-500 peer-checked:after:translate-x-4"})))}function d2({userInput:e,setUserInput:t,onSend:n,onNewChat:a}){const r=p.useRef(null),[o,s]=p.useState(!1),l=p.useRef(null);p.useEffect(()=>{var d;(d=r.current)==null||d.focus()},[]),p.useEffect(()=>{const d=window.SpeechRecognition||window.webkitSpeechRecognition;if(!d)return;const m=new d;m.lang="en-US",m.interimResults=!1,m.maxAlternatives=1,m.onstart=()=>s(!0),m.onend=()=>s(!1),m.onerror=()=>s(!1),m.onresult=f=>{var w,y,E;const g=((E=(y=(w=f.results)==null?void 0:w[0])==null?void 0:y[0])==null?void 0:E.transcript)||"";g&&(t(g),setTimeout(()=>n(g),150))},l.current=m},[n,t]);const c=()=>{const d=l.current;if(d)try{o?d.stop():d.start()}catch{}},u=({text:d})=>i.createElement("button",{onClick:()=>n(d),className:"px-4 py-2 rounded-full text-sm border border-[#22345e] bg-[#182544] text-white hover:bg-[#1d2a51] transition"},d);return i.createElement("section",{className:"flex min-h-screen items-center justify-center bg-[#0b1324] text-white px-4"},i.createElement("div",{className:"w-full max-w-[980px] text-center"},i.createElement("h1",{className:"font-bold text-[clamp(32px,4.8vw,56px)] mb-6"},"Ready to dive in?"),i.createElement("div",{className:"mx-auto flex items-center gap-2 rounded-[22px] border border-[#1f2b4a] bg-gradient-to-b from-[#0f1a33] to-[#0d162b] px-3 py-2 shadow-[0_10px_30px_rgba(0,0,0,0.35)]"},i.createElement("input",{ref:r,type:"text",placeholder:"Type here...",value:e,onChange:d=>t(d.target.value),onKeyDown:d=>d.key==="Enter"&&n(e),className:"flex-1 bg-transparent outline-none placeholder:text-[#9aa4bf] text-[18px] py-2 px-2"}),i.createElement("button",{onClick:c,title:o?"Stop voice input":"Start voice input",className:`grid place-items-center w-10 h-10 rounded-full border border-[#24355f] bg-[#132042] ${o?"text-[#BD945B] animate-pulse":"text-white"}`},o?i.createElement(S0,{size:18}):i.createElement(C0,{size:18})),i.createElement("button",{onClick:()=>n(e),title:"Send",className:"grid place-items-center w-10 h-10 rounded-full bg-[#E0C389] text-[#1b1720]"},i.createElement(_0,{size:18}))),i.createElement("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-2"},i.createElement(u,{text:"Find the 2025 Pike valuation file"}),i.createElement(u,{text:"Search SharePoint for quarterly financials"}),i.createElement(u,{text:"List recent files I worked on in OneDrive"}),i.createElement(u,{text:"Send me the latest HR policy PDF"})),i.createElement("div",{className:"mt-6 text-xs text-zinc-400"},i.createElement("button",{onClick:a,className:"underline underline-offset-4"},"Start a fresh chat"))))}var R0={exports:{}},m2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",p2=m2,f2=p2;function j0(){}function O0(){}O0.resetWarningCache=j0;var h2=function(){function e(a,r,o,s,l,c){if(c!==f2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:O0,resetWarningCache:j0};return n.PropTypes=n,n};R0.exports=h2();var g2=R0.exports;const we=Qf(g2);function Pa(e,t,n,a){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(d){try{u(a.next(d))}catch(m){s(m)}}function c(d){try{u(a.throw(d))}catch(m){s(m)}}function u(d){d.done?o(d.value):r(d.value).then(l,c)}u((a=a.apply(e,t||[])).next())})}const v2=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ur(e,t,n){const a=x2(e),{webkitRelativePath:r}=e,o=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof a.path!="string"&&Cp(a,"path",o),n!==void 0&&Object.defineProperty(a,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Cp(a,"relativePath",o),a}function x2(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const a=t.split(".").pop().toLowerCase(),r=v2.get(a);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function Cp(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const y2=[".DS_Store","Thumbs.db"];function w2(e){return Pa(this,void 0,void 0,function*(){return is(e)&&E2(e.dataTransfer)?S2(e.dataTransfer,e.type):b2(e)?k2(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?N2(e):[]})}function E2(e){return is(e)}function b2(e){return is(e)&&is(e.target)}function is(e){return typeof e=="object"&&e!==null}function k2(e){return Hc(e.target.files).map(t=>ur(t))}function N2(e){return Pa(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>ur(n))})}function S2(e,t){return Pa(this,void 0,void 0,function*(){if(e.items){const n=Hc(e.items).filter(r=>r.kind==="file");if(t!=="drop")return n;const a=yield Promise.all(n.map(C2));return Pp(z0(a))}return Pp(Hc(e.files).map(n=>ur(n)))})}function Pp(e){return e.filter(t=>y2.indexOf(t.name)===-1)}function Hc(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const a=e[n];t.push(a)}return t}function C2(e){if(typeof e.webkitGetAsEntry!="function")return _p(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?F0(t):_p(e,t)}function z0(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?z0(n):[n]],[])}function _p(e,t){return Pa(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,ur(s)}}const a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return ur(a,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function P2(e){return Pa(this,void 0,void 0,function*(){return e.isDirectory?F0(e):_2(e)})}function F0(e){const t=e.createReader();return new Promise((n,a)=>{const r=[];function o(){t.readEntries(s=>Pa(this,void 0,void 0,function*(){if(s.length){const l=Promise.all(s.map(P2));r.push(l),o()}else try{const l=yield Promise.all(r);n(l)}catch(l){a(l)}}),s=>{a(s)})}o()})}function _2(e){return Pa(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(a=>{const r=ur(a,e.fullPath);t(r)},a=>{n(a)})})})}var bl=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var a=e.name||"",r=(e.type||"").toLowerCase(),o=r.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?a.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):r===l})}return!0};function Tp(e){return A2(e)||L2(e)||V0(e)||T2()}function T2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A2(e){if(Array.isArray(e))return Wc(e)}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lp(Object(n),!0).forEach(function(a){I0(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function I0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e,t){return R2(e)||M2(e,t)||V0(e,t)||D2()}function D2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0(e,t){if(e){if(typeof e=="string")return Wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wc(e,t)}}function Wc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function M2(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],r=!0,o=!1,s,l;try{for(n=n.call(e);!(r=(s=n.next()).done)&&(a.push(s.value),!(t&&a.length===t));r=!0);}catch(c){o=!0,l=c}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw l}}return a}}function R2(e){if(Array.isArray(e))return e}var j2=typeof bl=="function"?bl:bl.default,O2="file-invalid-type",z2="file-too-large",F2="file-too-small",I2="too-many-files",V2=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),a=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:O2,message:"File type must be ".concat(a)}},Dp=function(t){return{code:z2,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Mp=function(t){return{code:F2,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},B2={code:I2,message:"Too many files"};function B0(e,t){var n=e.type==="application/x-moz-file"||j2(e,t);return[n,n?null:V2(t)]}function $0(e,t,n){if(pa(e.size))if(pa(t)&&pa(n)){if(e.size>n)return[!1,Dp(n)];if(e.size<t)return[!1,Mp(t)]}else{if(pa(t)&&e.size<t)return[!1,Mp(t)];if(pa(n)&&e.size>n)return[!1,Dp(n)]}return[!0,null]}function pa(e){return e!=null}function $2(e){var t=e.files,n=e.accept,a=e.minSize,r=e.maxSize,o=e.multiple,s=e.maxFiles,l=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(c){var u=B0(c,n),d=yi(u,1),m=d[0],f=$0(c,a,r),g=yi(f,1),w=g[0],y=l?l(c):null;return m&&w&&!y})}function os(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ao(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Rp(e){e.preventDefault()}function U2(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function H2(e){return e.indexOf("Edge/")!==-1}function W2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return U2(e)||H2(e)}function nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return t.some(function(l){return!os(a)&&l&&l.apply(void 0,[a].concat(o)),os(a)})}}function G2(){return"showOpenFilePicker"in window}function q2(e){if(pa(e)){var t=Object.entries(e).filter(function(n){var a=yi(n,2),r=a[0],o=a[1],s=!0;return U0(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(H0))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,a){var r=yi(a,2),o=r[0],s=r[1];return Ap(Ap({},n),{},I0({},o,s))},{});return[{description:"Files",accept:t}]}return e}function K2(e){if(pa(e))return Object.entries(e).reduce(function(t,n){var a=yi(n,2),r=a[0],o=a[1];return[].concat(Tp(t),[r],Tp(o))},[]).filter(function(t){return U0(t)||H0(t)}).join(",")}function Y2(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Q2(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function U0(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function H0(e){return/^.*\.[\w]+$/.test(e)}var X2=["children"],Z2=["open"],J2=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],eb=["refKey","onChange","onClick"];function tb(e){return rb(e)||ab(e)||W0(e)||nb()}function nb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ab(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rb(e){if(Array.isArray(e))return Gc(e)}function kl(e,t){return sb(e)||ob(e,t)||W0(e,t)||ib()}function ib(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W0(e,t){if(e){if(typeof e=="string")return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gc(e,t)}}function Gc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ob(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],r=!0,o=!1,s,l;try{for(n=n.call(e);!(r=(s=n.next()).done)&&(a.push(s.value),!(t&&a.length===t));r=!0);}catch(c){o=!0,l=c}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw l}}return a}}function sb(e){if(Array.isArray(e))return e}function jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jp(Object(n),!0).forEach(function(a){qc(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e,t){if(e==null)return{};var n=lb(e,t),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function lb(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,o;for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var gd=p.forwardRef(function(e,t){var n=e.children,a=ss(e,X2),r=q0(a),o=r.open,s=ss(r,Z2);return p.useImperativeHandle(t,function(){return{open:o}},[o]),i.createElement(p.Fragment,null,n(Me(Me({},s),{},{open:o})))});gd.displayName="Dropzone";var G0={disabled:!1,getFilesFromEvent:w2,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};gd.defaultProps=G0;gd.propTypes={children:we.func,accept:we.objectOf(we.arrayOf(we.string)),multiple:we.bool,preventDropOnDocument:we.bool,noClick:we.bool,noKeyboard:we.bool,noDrag:we.bool,noDragEventsBubbling:we.bool,minSize:we.number,maxSize:we.number,maxFiles:we.number,disabled:we.bool,getFilesFromEvent:we.func,onFileDialogCancel:we.func,onFileDialogOpen:we.func,useFsAccessApi:we.bool,autoFocus:we.bool,onDragEnter:we.func,onDragLeave:we.func,onDragOver:we.func,onDrop:we.func,onDropAccepted:we.func,onDropRejected:we.func,onError:we.func,validator:we.func};var Kc={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function q0(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Me(Me({},G0),e),n=t.accept,a=t.disabled,r=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,m=t.onDragOver,f=t.onDrop,g=t.onDropAccepted,w=t.onDropRejected,y=t.onFileDialogCancel,E=t.onFileDialogOpen,x=t.useFsAccessApi,h=t.autoFocus,v=t.preventDropOnDocument,b=t.noClick,k=t.noKeyboard,T=t.noDrag,_=t.noDragEventsBubbling,P=t.onError,z=t.validator,D=p.useMemo(function(){return K2(n)},[n]),C=p.useMemo(function(){return q2(n)},[n]),I=p.useMemo(function(){return typeof E=="function"?E:Op},[E]),O=p.useMemo(function(){return typeof y=="function"?y:Op},[y]),j=p.useRef(null),G=p.useRef(null),K=p.useReducer(cb,Kc),oe=kl(K,2),S=oe[0],R=oe[1],B=S.isFocused,U=S.isFileDialogActive,X=p.useRef(typeof window<"u"&&window.isSecureContext&&x&&G2()),V=function(){!X.current&&U&&setTimeout(function(){if(G.current){var Y=G.current.files;Y.length||(R({type:"closeDialog"}),O())}},300)};p.useEffect(function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}},[G,U,O,X]);var N=p.useRef([]),F=function(Y){j.current&&j.current.contains(Y.target)||(Y.preventDefault(),N.current=[])};p.useEffect(function(){return v&&(document.addEventListener("dragover",Rp,!1),document.addEventListener("drop",F,!1)),function(){v&&(document.removeEventListener("dragover",Rp),document.removeEventListener("drop",F))}},[j,v]),p.useEffect(function(){return!a&&h&&j.current&&j.current.focus(),function(){}},[j,h,a]);var q=p.useCallback(function(H){P?P(H):console.error(H)},[P]),ne=p.useCallback(function(H){H.preventDefault(),H.persist(),Je(H),N.current=[].concat(tb(N.current),[H.target]),ao(H)&&Promise.resolve(r(H)).then(function(Y){if(!(os(H)&&!_)){var A=Y.length,M=A>0&&$2({files:Y,accept:D,minSize:s,maxSize:o,multiple:l,maxFiles:c,validator:z}),L=A>0&&!M;R({isDragAccept:M,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),u&&u(H)}}).catch(function(Y){return q(Y)})},[r,u,q,_,D,s,o,l,c,z]),ie=p.useCallback(function(H){H.preventDefault(),H.persist(),Je(H);var Y=ao(H);if(Y&&H.dataTransfer)try{H.dataTransfer.dropEffect="copy"}catch{}return Y&&m&&m(H),!1},[m,_]),pe=p.useCallback(function(H){H.preventDefault(),H.persist(),Je(H);var Y=N.current.filter(function(M){return j.current&&j.current.contains(M)}),A=Y.indexOf(H.target);A!==-1&&Y.splice(A,1),N.current=Y,!(Y.length>0)&&(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ao(H)&&d&&d(H))},[j,d,_]),me=p.useCallback(function(H,Y){var A=[],M=[];H.forEach(function(L){var W=B0(L,D),ae=kl(W,2),ce=ae[0],re=ae[1],Le=$0(L,s,o),dt=kl(Le,2),ye=dt[0],et=dt[1],At=z?z(L):null;if(ce&&ye&&!At)A.push(L);else{var fe=[re,et];At&&(fe=fe.concat(At)),M.push({file:L,errors:fe.filter(function(We){return We})})}}),(!l&&A.length>1||l&&c>=1&&A.length>c)&&(A.forEach(function(L){M.push({file:L,errors:[B2]})}),A.splice(0)),R({acceptedFiles:A,fileRejections:M,isDragReject:M.length>0,type:"setFiles"}),f&&f(A,M,Y),M.length>0&&w&&w(M,Y),A.length>0&&g&&g(A,Y)},[R,l,D,s,o,c,f,g,w,z]),ke=p.useCallback(function(H){H.preventDefault(),H.persist(),Je(H),N.current=[],ao(H)&&Promise.resolve(r(H)).then(function(Y){os(H)&&!_||me(Y,H)}).catch(function(Y){return q(Y)}),R({type:"reset"})},[r,me,q,_]),Te=p.useCallback(function(){if(X.current){R({type:"openDialog"}),I();var H={multiple:l,types:C};window.showOpenFilePicker(H).then(function(Y){return r(Y)}).then(function(Y){me(Y,null),R({type:"closeDialog"})}).catch(function(Y){Y2(Y)?(O(Y),R({type:"closeDialog"})):Q2(Y)?(X.current=!1,G.current?(G.current.value=null,G.current.click()):q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):q(Y)});return}G.current&&(R({type:"openDialog"}),I(),G.current.value=null,G.current.click())},[R,I,O,x,me,q,C,l]),ct=p.useCallback(function(H){!j.current||!j.current.isEqualNode(H.target)||(H.key===" "||H.key==="Enter"||H.keyCode===32||H.keyCode===13)&&(H.preventDefault(),Te())},[j,Te]),le=p.useCallback(function(){R({type:"focus"})},[]),Ze=p.useCallback(function(){R({type:"blur"})},[]),ut=p.useCallback(function(){b||(W2()?setTimeout(Te,0):Te())},[b,Te]),He=function(Y){return a?null:Y},Ce=function(Y){return k?null:He(Y)},ve=function(Y){return T?null:He(Y)},Je=function(Y){_&&Y.stopPropagation()},Lt=p.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=H.refKey,A=Y===void 0?"ref":Y,M=H.role,L=H.onKeyDown,W=H.onFocus,ae=H.onBlur,ce=H.onClick,re=H.onDragEnter,Le=H.onDragOver,dt=H.onDragLeave,ye=H.onDrop,et=ss(H,J2);return Me(Me(qc({onKeyDown:Ce(nn(L,ct)),onFocus:Ce(nn(W,le)),onBlur:Ce(nn(ae,Ze)),onClick:He(nn(ce,ut)),onDragEnter:ve(nn(re,ne)),onDragOver:ve(nn(Le,ie)),onDragLeave:ve(nn(dt,pe)),onDrop:ve(nn(ye,ke)),role:typeof M=="string"&&M!==""?M:"presentation"},A,j),!a&&!k?{tabIndex:0}:{}),et)}},[j,ct,le,Ze,ut,ne,ie,pe,ke,k,T,a]),Q=p.useCallback(function(H){H.stopPropagation()},[]),J=p.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=H.refKey,A=Y===void 0?"ref":Y,M=H.onChange,L=H.onClick,W=ss(H,eb),ae=qc({accept:D,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:He(nn(M,ke)),onClick:He(nn(L,Q)),tabIndex:-1},A,G);return Me(Me({},ae),W)}},[G,n,l,ke,a]);return Me(Me({},S),{},{isFocused:B&&!a,getRootProps:Lt,getInputProps:J,rootRef:j,inputRef:G,open:He(Te)})}function cb(e,t){switch(t.type){case"focus":return Me(Me({},e),{},{isFocused:!0});case"blur":return Me(Me({},e),{},{isFocused:!1});case"openDialog":return Me(Me({},Kc),{},{isFileDialogActive:!0});case"closeDialog":return Me(Me({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Me(Me({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Me(Me({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Me({},Kc);default:return e}}function Op(){}const K0=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),js=p.createContext({}),Os=p.createContext(null),zs=typeof document<"u",vd=zs?p.useLayoutEffect:p.useEffect,Y0=p.createContext({strict:!1}),xd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ub="framerAppearId",Q0="data-"+xd(ub);function db(e,t,n,a){const{visualElement:r}=p.useContext(js),o=p.useContext(Y0),s=p.useContext(Os),l=p.useContext(K0).reducedMotion,c=p.useRef();a=a||o.renderer,!c.current&&a&&(c.current=a(e,{visualState:t,parent:r,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;p.useInsertionEffect(()=>{u&&u.update(n,s)});const d=p.useRef(!!(n[Q0]&&!window.HandoffComplete));return vd(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function qa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mb(e,t,n){return p.useCallback(a=>{a&&e.mount&&e.mount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):qa(n)&&(n.current=a))},[t])}function wi(e){return typeof e=="string"||Array.isArray(e)}function Fs(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const yd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wd=["initial",...yd];function Is(e){return Fs(e.animate)||wd.some(t=>wi(e[t]))}function X0(e){return!!(Is(e)||e.variants)}function pb(e,t){if(Is(e)){const{initial:n,animate:a}=e;return{initial:n===!1||wi(n)?n:void 0,animate:wi(a)?a:void 0}}return e.inherit!==!1?t:{}}function fb(e){const{initial:t,animate:n}=pb(e,p.useContext(js));return p.useMemo(()=>({initial:t,animate:n}),[zp(t),zp(n)])}function zp(e){return Array.isArray(e)?e.join(" "):e}const Fp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ei={};for(const e in Fp)Ei[e]={isEnabled:t=>Fp[e].some(n=>!!t[n])};function hb(e){for(const t in e)Ei[t]={...Ei[t],...e[t]}}const Ed=p.createContext({}),Z0=p.createContext({}),gb=Symbol.for("motionComponentSymbol");function vb({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:a,Component:r}){e&&hb(e);function o(l,c){let u;const d={...p.useContext(K0),...l,layoutId:xb(l)},{isStatic:m}=d,f=fb(l),g=a(l,m);if(!m&&zs){f.visualElement=db(r,g,d,t);const w=p.useContext(Z0),y=p.useContext(Y0).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,y,e,w))}return p.createElement(js.Provider,{value:f},u&&f.visualElement?p.createElement(u,{visualElement:f.visualElement,...d}):null,n(r,l,mb(g,f.visualElement,c),g,m,f.visualElement))}const s=p.forwardRef(o);return s[gb]=r,s}function xb({layoutId:e}){const t=p.useContext(Ed).id;return t&&e!==void 0?t+"-"+e:e}function yb(e){function t(a,r={}){return vb(e(a,r))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(a,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const wb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bd(e){return typeof e!="string"||e.includes("-")?!1:!!(wb.indexOf(e)>-1||/[A-Z]/.test(e))}const ls={};function Eb(e){Object.assign(ls,e)}const Li=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_a=new Set(Li);function J0(e,{layout:t,layoutId:n}){return _a.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ls[e]||e==="opacity")}const bt=e=>!!(e&&e.getVelocity),bb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kb=Li.length;function Nb(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},a,r){let o="";for(let s=0;s<kb;s++){const l=Li[s];if(e[l]!==void 0){const c=bb[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(e,a?"":o):n&&a&&(o="none"),o}const ev=e=>t=>typeof t=="string"&&t.startsWith(e),tv=ev("--"),Yc=ev("var(--"),Sb=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Cb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qn=(e,t,n)=>Math.min(Math.max(n,e),t),Ta={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qr={...Ta,transform:e=>Qn(0,1,e)},ro={...Ta,default:1},Xr=e=>Math.round(e*1e5)/1e5,Vs=/(-)?([\d]*\.?[\d])+/g,nv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Pb=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ai(e){return typeof e=="string"}const Di=e=>({test:t=>Ai(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ln=Di("deg"),ln=Di("%"),se=Di("px"),_b=Di("vh"),Tb=Di("vw"),Ip={...ln,parse:e=>ln.parse(e)/100,transform:e=>ln.transform(e*100)},Vp={...Ta,transform:Math.round},av={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,size:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,rotate:Ln,rotateX:Ln,rotateY:Ln,rotateZ:Ln,scale:ro,scaleX:ro,scaleY:ro,scaleZ:ro,skew:Ln,skewX:Ln,skewY:Ln,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Qr,originX:Ip,originY:Ip,originZ:se,zIndex:Vp,fillOpacity:Qr,strokeOpacity:Qr,numOctaves:Vp};function kd(e,t,n,a){const{style:r,vars:o,transform:s,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const m in t){const f=t[m];if(tv(m)){o[m]=f;continue}const g=av[m],w=Cb(f,g);if(_a.has(m)){if(c=!0,s[m]=w,!d)continue;f!==(g.default||0)&&(d=!1)}else m.startsWith("origin")?(u=!0,l[m]=w):r[m]=w}if(t.transform||(c||a?r.transform=Nb(e.transform,n,d,a):r.transform&&(r.transform="none")),u){const{originX:m="50%",originY:f="50%",originZ:g=0}=l;r.transformOrigin=`${m} ${f} ${g}`}}const Nd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rv(e,t,n){for(const a in t)!bt(t[a])&&!J0(a,n)&&(e[a]=t[a])}function Lb({transformTemplate:e},t,n){return p.useMemo(()=>{const a=Nd();return kd(a,t,{enableHardwareAcceleration:!n},e),Object.assign({},a.vars,a.style)},[t])}function Ab(e,t,n){const a=e.style||{},r={};return rv(r,a,e),Object.assign(r,Lb(e,t,n)),e.transformValues?e.transformValues(r):r}function Db(e,t,n){const a={},r=Ab(e,t,n);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=r,a}const Mb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cs(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Mb.has(e)}let iv=e=>!cs(e);function Rb(e){e&&(iv=t=>t.startsWith("on")?!cs(t):e(t))}try{Rb(require("@emotion/is-prop-valid").default)}catch{}function jb(e,t,n){const a={};for(const r in e)r==="values"&&typeof e.values=="object"||(iv(r)||n===!0&&cs(r)||!t&&!cs(r)||e.draggable&&r.startsWith("onDrag"))&&(a[r]=e[r]);return a}function Bp(e,t,n){return typeof e=="string"?e:se.transform(t+n*e)}function Ob(e,t,n){const a=Bp(t,e.x,e.width),r=Bp(n,e.y,e.height);return`${a} ${r}`}const zb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fb={offset:"strokeDashoffset",array:"strokeDasharray"};function Ib(e,t,n=1,a=0,r=!0){e.pathLength=1;const o=r?zb:Fb;e[o.offset]=se.transform(-a);const s=se.transform(t),l=se.transform(n);e[o.array]=`${s} ${l}`}function Sd(e,{attrX:t,attrY:n,attrScale:a,originX:r,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...u},d,m,f){if(kd(e,u,d,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:w,dimensions:y}=e;g.transform&&(y&&(w.transform=g.transform),delete g.transform),y&&(r!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=Ob(y,r!==void 0?r:.5,o!==void 0?o:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),a!==void 0&&(g.scale=a),s!==void 0&&Ib(g,s,l,c,!1)}const ov=()=>({...Nd(),attrs:{}}),Cd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Vb(e,t,n,a){const r=p.useMemo(()=>{const o=ov();return Sd(o,t,{enableHardwareAcceleration:!1},Cd(a),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};rv(o,e.style,e),r.style={...o,...r.style}}return r}function Bb(e=!1){return(n,a,r,{latestValues:o},s)=>{const c=(bd(n)?Vb:Db)(a,o,s,n),d={...jb(a,typeof n=="string",e),...c,ref:r},{children:m}=a,f=p.useMemo(()=>bt(m)?m.get():m,[m]);return p.createElement(n,{...d,children:f})}}function sv(e,{style:t,vars:n},a,r){Object.assign(e.style,t,r&&r.getProjectionStyles(a));for(const o in n)e.style.setProperty(o,n[o])}const lv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cv(e,t,n,a){sv(e,t,void 0,a);for(const r in t.attrs)e.setAttribute(lv.has(r)?r:xd(r),t.attrs[r])}function Pd(e,t){const{style:n}=e,a={};for(const r in n)(bt(n[r])||t.style&&bt(t.style[r])||J0(r,e))&&(a[r]=n[r]);return a}function uv(e,t){const n=Pd(e,t);for(const a in e)if(bt(e[a])||bt(t[a])){const r=Li.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[r]=e[a]}return n}function _d(e,t,n,a={},r={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,a,r)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,a,r)),t}function dv(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const us=e=>Array.isArray(e),$b=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ub=e=>us(e)?e[e.length-1]||0:e;function _o(e){const t=bt(e)?e.get():e;return $b(t)?t.toValue():t}function Hb({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},a,r,o){const s={latestValues:Wb(a,r,o,e),renderState:t()};return n&&(s.mount=l=>n(a,l,s)),s}const mv=e=>(t,n)=>{const a=p.useContext(js),r=p.useContext(Os),o=()=>Hb(e,t,a,r);return n?o():dv(o)};function Wb(e,t,n,a){const r={},o=a(e,{});for(const f in o)r[f]=_o(o[f]);let{initial:s,animate:l}=e;const c=Is(e),u=X0(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const m=d?l:s;return m&&typeof m!="boolean"&&!Fs(m)&&(Array.isArray(m)?m:[m]).forEach(g=>{const w=_d(e,g);if(!w)return;const{transitionEnd:y,transition:E,...x}=w;for(const h in x){let v=x[h];if(Array.isArray(v)){const b=d?v.length-1:0;v=v[b]}v!==null&&(r[h]=v)}for(const h in y)r[h]=y[h]}),r}const Ie=e=>e;class $p{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Gb(e){let t=new $p,n=new $p,a=0,r=!1,o=!1;const s=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const m=d&&r,f=m?t:n;return u&&s.add(c),f.add(c)&&m&&r&&(a=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(r){o=!0;return}if(r=!0,[t,n]=[n,t],n.clear(),a=t.order.length,a)for(let u=0;u<a;u++){const d=t.order[u];d(c),s.has(d)&&(l.schedule(d),e())}r=!1,o&&(o=!1,l.process(c))}};return l}const io=["prepare","read","update","preRender","render","postRender"],qb=40;function Kb(e,t){let n=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=io.reduce((m,f)=>(m[f]=Gb(()=>n=!0),m),{}),s=m=>o[m].process(r),l=()=>{const m=performance.now();n=!1,r.delta=a?1e3/60:Math.max(Math.min(m-r.timestamp,qb),1),r.timestamp=m,r.isProcessing=!0,io.forEach(s),r.isProcessing=!1,n&&t&&(a=!1,e(l))},c=()=>{n=!0,a=!0,r.isProcessing||e(l)};return{schedule:io.reduce((m,f)=>{const g=o[f];return m[f]=(w,y=!1,E=!1)=>(n||c(),g.schedule(w,y,E)),m},{}),cancel:m=>io.forEach(f=>o[f].cancel(m)),state:r,steps:o}}const{schedule:be,cancel:Sn,state:ot,steps:Nl}=Kb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ie,!0),Yb={useVisualState:mv({scrapeMotionValuesFromProps:uv,createRenderState:ov,onMount:(e,t,{renderState:n,latestValues:a})=>{be.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{Sd(n,a,{enableHardwareAcceleration:!1},Cd(t.tagName),e.transformTemplate),cv(t,n)})}})},Qb={useVisualState:mv({scrapeMotionValuesFromProps:Pd,createRenderState:Nd})};function Xb(e,{forwardMotionProps:t=!1},n,a){return{...bd(e)?Yb:Qb,preloadedFeatures:n,useRender:Bb(t),createVisualElement:a,Component:e}}function hn(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}const pv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Bs(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Zb=e=>t=>pv(t)&&e(t,Bs(t));function xn(e,t,n,a){return hn(e,t,Zb(n),a)}const Jb=(e,t)=>n=>t(e(n)),Gn=(...e)=>e.reduce(Jb);function fv(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Up=fv("dragHorizontal"),Hp=fv("dragVertical");function hv(e){let t=!1;if(e==="y")t=Hp();else if(e==="x")t=Up();else{const n=Up(),a=Hp();n&&a?t=()=>{n(),a()}:(n&&n(),a&&a())}return t}function gv(){const e=hv(!0);return e?(e(),!1):!0}let ta=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function Wp(e,t){const n="pointer"+(t?"enter":"leave"),a="onHover"+(t?"Start":"End"),r=(o,s)=>{if(o.pointerType==="touch"||gv())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[a]&&be.update(()=>l[a](o,s))};return xn(e.current,n,r,{passive:!e.getProps()[a]})}class ek extends ta{mount(){this.unmount=Gn(Wp(this.node,!0),Wp(this.node,!1))}unmount(){}}class tk extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gn(hn(this.node.current,"focus",()=>this.onFocus()),hn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const vv=(e,t)=>t?e===t?!0:vv(e,t.parentElement):!1;function Sl(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Bs(n))}class nk extends ta{constructor(){super(...arguments),this.removeStartListeners=Ie,this.removeEndListeners=Ie,this.removeAccessibleListeners=Ie,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),o=xn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:m}=this.node.getProps();be.update(()=>{!m&&!vv(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(a.onTap||a.onPointerUp)}),s=xn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=Gn(o,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=l=>{l.key!=="Enter"||!this.checkPressEnd()||Sl("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&be.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=hn(this.node.current,"keyup",s),Sl("down",(l,c)=>{this.startPress(l,c)})},n=hn(this.node.current,"keydown",t),a=()=>{this.isPressing&&Sl("cancel",(o,s)=>this.cancelPress(o,s))},r=hn(this.node.current,"blur",a);this.removeAccessibleListeners=Gn(n,r)}}startPress(t,n){this.isPressing=!0;const{onTapStart:a,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&be.update(()=>a(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!gv()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&be.update(()=>a(t,n))}mount(){const t=this.node.getProps(),n=xn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),a=hn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Gn(n,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qc=new WeakMap,Cl=new WeakMap,ak=e=>{const t=Qc.get(e.target);t&&t(e)},rk=e=>{e.forEach(ak)};function ik({root:e,...t}){const n=e||document;Cl.has(n)||Cl.set(n,{});const a=Cl.get(n),r=JSON.stringify(t);return a[r]||(a[r]=new IntersectionObserver(rk,{root:e,...t})),a[r]}function ok(e,t,n){const a=ik(t);return Qc.set(e,n),a.observe(e),()=>{Qc.delete(e),a.unobserve(e)}}const sk={some:0,all:1};class lk extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:r="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:sk[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),f=u?d:m;f&&f(c)};return ok(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ck(t,n))&&this.startObserver()}unmount(){}}function ck({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const uk={inView:{Feature:lk},tap:{Feature:nk},focus:{Feature:tk},hover:{Feature:ek}};function xv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}function dk(e){const t={};return e.values.forEach((n,a)=>t[a]=n.get()),t}function mk(e){const t={};return e.values.forEach((n,a)=>t[a]=n.getVelocity()),t}function $s(e,t,n){const a=e.getProps();return _d(a,t,n!==void 0?n:a.custom,dk(e),mk(e))}let pk=Ie,Td=Ie;const qn=e=>e*1e3,yn=e=>e/1e3,fk={current:!1},yv=e=>Array.isArray(e)&&typeof e[0]=="number";function wv(e){return!!(!e||typeof e=="string"&&Ev[e]||yv(e)||Array.isArray(e)&&e.every(wv))}const zr=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,Ev={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zr([0,.65,.55,1]),circOut:zr([.55,0,1,.45]),backIn:zr([.31,.01,.66,-.59]),backOut:zr([.33,1.53,.69,.99])};function bv(e){if(e)return yv(e)?zr(e):Array.isArray(e)?e.map(bv):Ev[e]}function hk(e,t,n,{delay:a=0,duration:r,repeat:o=0,repeatType:s="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=bv(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:a,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function gk(e,{repeat:t,repeatType:n="loop"}){const a=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[a]}const kv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vk=1e-7,xk=12;function yk(e,t,n,a,r){let o,s,l=0;do s=t+(n-t)/2,o=kv(s,a,r)-e,o>0?n=s:t=s;while(Math.abs(o)>vk&&++l<xk);return s}function Mi(e,t,n,a){if(e===t&&n===a)return Ie;const r=o=>yk(o,0,1,e,n);return o=>o===0||o===1?o:kv(r(o),t,a)}const wk=Mi(.42,0,1,1),Ek=Mi(0,0,.58,1),Nv=Mi(.42,0,.58,1),bk=e=>Array.isArray(e)&&typeof e[0]!="number",Sv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Cv=e=>t=>1-e(1-t),Ld=e=>1-Math.sin(Math.acos(e)),Pv=Cv(Ld),kk=Sv(Ld),_v=Mi(.33,1.53,.69,.99),Ad=Cv(_v),Nk=Sv(Ad),Sk=e=>(e*=2)<1?.5*Ad(e):.5*(2-Math.pow(2,-10*(e-1))),Ck={linear:Ie,easeIn:wk,easeInOut:Nv,easeOut:Ek,circIn:Ld,circInOut:kk,circOut:Pv,backIn:Ad,backInOut:Nk,backOut:_v,anticipate:Sk},Gp=e=>{if(Array.isArray(e)){Td(e.length===4);const[t,n,a,r]=e;return Mi(t,n,a,r)}else if(typeof e=="string")return Ck[e];return e},Dd=(e,t)=>n=>!!(Ai(n)&&Pb.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Tv=(e,t,n)=>a=>{if(!Ai(a))return a;const[r,o,s,l]=a.match(Vs);return{[e]:parseFloat(r),[t]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},Pk=e=>Qn(0,255,e),Pl={...Ta,transform:e=>Math.round(Pk(e))},va={test:Dd("rgb","red"),parse:Tv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+Pl.transform(e)+", "+Pl.transform(t)+", "+Pl.transform(n)+", "+Xr(Qr.transform(a))+")"};function _k(e){let t="",n="",a="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,a+=a,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const Xc={test:Dd("#"),parse:_k,transform:va.transform},Ka={test:Dd("hsl","hue"),parse:Tv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+ln.transform(Xr(t))+", "+ln.transform(Xr(n))+", "+Xr(Qr.transform(a))+")"},mt={test:e=>va.test(e)||Xc.test(e)||Ka.test(e),parse:e=>va.test(e)?va.parse(e):Ka.test(e)?Ka.parse(e):Xc.parse(e),transform:e=>Ai(e)?e:e.hasOwnProperty("red")?va.transform(e):Ka.transform(e)},je=(e,t,n)=>-n*e+n*t+e;function _l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Tk({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let r=0,o=0,s=0;if(!t)r=o=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=_l(c,l,e+1/3),o=_l(c,l,e),s=_l(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:a}}const Tl=(e,t,n)=>{const a=e*e;return Math.sqrt(Math.max(0,n*(t*t-a)+a))},Lk=[Xc,va,Ka],Ak=e=>Lk.find(t=>t.test(e));function qp(e){const t=Ak(e);let n=t.parse(e);return t===Ka&&(n=Tk(n)),n}const Lv=(e,t)=>{const n=qp(e),a=qp(t),r={...n};return o=>(r.red=Tl(n.red,a.red,o),r.green=Tl(n.green,a.green,o),r.blue=Tl(n.blue,a.blue,o),r.alpha=je(n.alpha,a.alpha,o),va.transform(r))};function Dk(e){var t,n;return isNaN(e)&&Ai(e)&&(((t=e.match(Vs))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(nv))===null||n===void 0?void 0:n.length)||0)>0}const Av={regex:Sb,countKey:"Vars",token:"${v}",parse:Ie},Dv={regex:nv,countKey:"Colors",token:"${c}",parse:mt.parse},Mv={regex:Vs,countKey:"Numbers",token:"${n}",parse:Ta.parse};function Ll(e,{regex:t,countKey:n,token:a,parse:r}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,a),e.values.push(...o.map(r)))}function ds(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ll(n,Av),Ll(n,Dv),Ll(n,Mv),n}function Rv(e){return ds(e).values}function jv(e){const{values:t,numColors:n,numVars:a,tokenised:r}=ds(e),o=t.length;return s=>{let l=r;for(let c=0;c<o;c++)c<a?l=l.replace(Av.token,s[c]):c<a+n?l=l.replace(Dv.token,mt.transform(s[c])):l=l.replace(Mv.token,Xr(s[c]));return l}}const Mk=e=>typeof e=="number"?0:e;function Rk(e){const t=Rv(e);return jv(e)(t.map(Mk))}const Xn={test:Dk,parse:Rv,createTransformer:jv,getAnimatableNone:Rk},Ov=(e,t)=>n=>`${n>0?t:e}`;function zv(e,t){return typeof e=="number"?n=>je(e,t,n):mt.test(e)?Lv(e,t):e.startsWith("var(")?Ov(e,t):Iv(e,t)}const Fv=(e,t)=>{const n=[...e],a=n.length,r=e.map((o,s)=>zv(o,t[s]));return o=>{for(let s=0;s<a;s++)n[s]=r[s](o);return n}},jk=(e,t)=>{const n={...e,...t},a={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(a[r]=zv(e[r],t[r]));return r=>{for(const o in a)n[o]=a[o](r);return n}},Iv=(e,t)=>{const n=Xn.createTransformer(t),a=ds(e),r=ds(t);return a.numVars===r.numVars&&a.numColors===r.numColors&&a.numNumbers>=r.numNumbers?Gn(Fv(a.values,r.values),n):Ov(e,t)},bi=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a},Kp=(e,t)=>n=>je(e,t,n);function Ok(e){return typeof e=="number"?Kp:typeof e=="string"?mt.test(e)?Lv:Iv:Array.isArray(e)?Fv:typeof e=="object"?jk:Kp}function zk(e,t,n){const a=[],r=n||Ok(e[0]),o=e.length-1;for(let s=0;s<o;s++){let l=r(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Ie:t;l=Gn(c,l)}a.push(l)}return a}function Vv(e,t,{clamp:n=!0,ease:a,mixer:r}={}){const o=e.length;if(Td(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=zk(t,a,r),l=s.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const m=bi(e[d],e[d+1],u);return s[d](m)};return n?u=>c(Qn(e[0],e[o-1],u)):c}function Fk(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const r=bi(0,t,a);e.push(je(n,1,r))}}function Ik(e){const t=[0];return Fk(t,e.length-1),t}function Vk(e,t){return e.map(n=>n*t)}function Bk(e,t){return e.map(()=>t||Nv).splice(0,e.length-1)}function ms({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const r=bk(a)?a.map(Gp):Gp(a),o={done:!1,value:t[0]},s=Vk(n&&n.length===t.length?n:Ik(t),e),l=Vv(s,t,{ease:Array.isArray(r)?r:Bk(t,r)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function Bv(e,t){return t?e*(1e3/t):0}const $k=5;function $v(e,t,n){const a=Math.max(t-$k,0);return Bv(n-e(a),t-a)}const Al=.001,Uk=.01,Yp=10,Hk=.05,Wk=1;function Gk({duration:e=800,bounce:t=.25,velocity:n=0,mass:a=1}){let r,o;pk(e<=qn(Yp));let s=1-t;s=Qn(Hk,Wk,s),e=Qn(Uk,Yp,yn(e)),s<1?(r=u=>{const d=u*s,m=d*e,f=d-n,g=Zc(u,s),w=Math.exp(-m);return Al-f/g*w},o=u=>{const m=u*s*e,f=m*n+n,g=Math.pow(s,2)*Math.pow(u,2)*e,w=Math.exp(-m),y=Zc(Math.pow(u,2),s);return(-r(u)+Al>0?-1:1)*((f-g)*w)/y}):(r=u=>{const d=Math.exp(-u*e),m=(u-n)*e+1;return-Al+d*m},o=u=>{const d=Math.exp(-u*e),m=(n-u)*(e*e);return d*m});const l=5/e,c=Kk(r,o,l);if(e=qn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*a;return{stiffness:u,damping:s*2*Math.sqrt(a*u),duration:e}}}const qk=12;function Kk(e,t,n){let a=n;for(let r=1;r<qk;r++)a=a-e(a)/t(a);return a}function Zc(e,t){return e*Math.sqrt(1-t*t)}const Yk=["duration","bounce"],Qk=["stiffness","damping","mass"];function Qp(e,t){return t.some(n=>e[n]!==void 0)}function Xk(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Qp(e,Qk)&&Qp(e,Yk)){const n=Gk(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Uv({keyframes:e,restDelta:t,restSpeed:n,...a}){const r=e[0],o=e[e.length-1],s={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:d,velocity:m,isResolvedFromDuration:f}=Xk({...a,velocity:-yn(a.velocity||0)}),g=m||0,w=c/(2*Math.sqrt(l*u)),y=o-r,E=yn(Math.sqrt(l/u)),x=Math.abs(y)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let h;if(w<1){const v=Zc(E,w);h=b=>{const k=Math.exp(-w*E*b);return o-k*((g+w*E*y)/v*Math.sin(v*b)+y*Math.cos(v*b))}}else if(w===1)h=v=>o-Math.exp(-E*v)*(y+(g+E*y)*v);else{const v=E*Math.sqrt(w*w-1);h=b=>{const k=Math.exp(-w*E*b),T=Math.min(v*b,300);return o-k*((g+w*E*y)*Math.sinh(T)+v*y*Math.cosh(T))/v}}return{calculatedDuration:f&&d||null,next:v=>{const b=h(v);if(f)s.done=v>=d;else{let k=g;v!==0&&(w<1?k=$v(h,v,b):k=0);const T=Math.abs(k)<=n,_=Math.abs(o-b)<=t;s.done=T&&_}return s.value=s.done?o:b,s}}}function Xp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}){const m=e[0],f={done:!1,value:m},g=P=>l!==void 0&&P<l||c!==void 0&&P>c,w=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let y=n*t;const E=m+y,x=s===void 0?E:s(E);x!==E&&(y=x-m);const h=P=>-y*Math.exp(-P/a),v=P=>x+h(P),b=P=>{const z=h(P),D=v(P);f.done=Math.abs(z)<=u,f.value=f.done?x:D};let k,T;const _=P=>{g(f.value)&&(k=P,T=Uv({keyframes:[f.value,w(f.value)],velocity:$v(v,P,f.value),damping:r,stiffness:o,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:P=>{let z=!1;return!T&&k===void 0&&(z=!0,b(P),_(P)),k!==void 0&&P>k?T.next(P-k):(!z&&b(P),f)}}}const Zk=e=>{const t=({timestamp:n})=>e(n);return{start:()=>be.update(t,!0),stop:()=>Sn(t),now:()=>ot.isProcessing?ot.timestamp:performance.now()}},Zp=2e4;function Jp(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<Zp;)t+=n,a=e.next(t);return t>=Zp?1/0:t}const Jk={decay:Xp,inertia:Xp,tween:ms,keyframes:ms,spring:Uv};function ps({autoplay:e=!0,delay:t=0,driver:n=Zk,keyframes:a,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:m,...f}){let g=1,w=!1,y,E;const x=()=>{E=new Promise(U=>{y=U})};x();let h;const v=Jk[r]||ms;let b;v!==ms&&typeof a[0]!="number"&&(b=Vv([0,100],a,{clamp:!1}),a=[0,100]);const k=v({...f,keyframes:a});let T;l==="mirror"&&(T=v({...f,keyframes:[...a].reverse(),velocity:-(f.velocity||0)}));let _="idle",P=null,z=null,D=null;k.calculatedDuration===null&&o&&(k.calculatedDuration=Jp(k));const{calculatedDuration:C}=k;let I=1/0,O=1/0;C!==null&&(I=C+s,O=I*(o+1)-s);let j=0;const G=U=>{if(z===null)return;g>0&&(z=Math.min(z,U)),g<0&&(z=Math.min(U-O/g,z)),P!==null?j=P:j=Math.round(U-z)*g;const X=j-t*(g>=0?1:-1),V=g>=0?X<0:X>O;j=Math.max(X,0),_==="finished"&&P===null&&(j=O);let N=j,F=k;if(o){const pe=Math.min(j,O)/I;let me=Math.floor(pe),ke=pe%1;!ke&&pe>=1&&(ke=1),ke===1&&me--,me=Math.min(me,o+1),!!(me%2)&&(l==="reverse"?(ke=1-ke,s&&(ke-=s/I)):l==="mirror"&&(F=T)),N=Qn(0,1,ke)*I}const q=V?{done:!1,value:a[0]}:F.next(N);b&&(q.value=b(q.value));let{done:ne}=q;!V&&C!==null&&(ne=g>=0?j>=O:j<=0);const ie=P===null&&(_==="finished"||_==="running"&&ne);return m&&m(q.value),ie&&S(),q},K=()=>{h&&h.stop(),h=void 0},oe=()=>{_="idle",K(),y(),x(),z=D=null},S=()=>{_="finished",d&&d(),K(),y()},R=()=>{if(w)return;h||(h=n(G));const U=h.now();c&&c(),P!==null?z=U-P:(!z||_==="finished")&&(z=U),_==="finished"&&x(),D=z,P=null,_="running",h.start()};e&&R();const B={then(U,X){return E.then(U,X)},get time(){return yn(j)},set time(U){U=qn(U),j=U,P!==null||!h||g===0?P=U:z=h.now()-U/g},get duration(){const U=k.calculatedDuration===null?Jp(k):k.calculatedDuration;return yn(U)},get speed(){return g},set speed(U){U===g||!h||(g=U,B.time=yn(j))},get state(){return _},play:R,pause:()=>{_="paused",P=j},stop:()=>{w=!0,_!=="idle"&&(_="idle",u&&u(),oe())},cancel:()=>{D!==null&&G(D),oe()},complete:()=>{_="finished"},sample:U=>(z=0,G(U))};return B}function e3(e){let t;return()=>(t===void 0&&(t=e()),t)}const t3=e3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),n3=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),oo=10,a3=2e4,r3=(e,t)=>t.type==="spring"||e==="backgroundColor"||!wv(t.ease);function i3(e,t,{onUpdate:n,onComplete:a,...r}){if(!(t3()&&n3.has(t)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let s=!1,l,c,u=!1;const d=()=>{c=new Promise(v=>{l=v})};d();let{keyframes:m,duration:f=300,ease:g,times:w}=r;if(r3(t,r)){const v=ps({...r,repeat:0,delay:0});let b={done:!1,value:m[0]};const k=[];let T=0;for(;!b.done&&T<a3;)b=v.sample(T),k.push(b.value),T+=oo;w=void 0,m=k,f=T-oo,g="linear"}const y=hk(e.owner.current,t,m,{...r,duration:f,ease:g,times:w}),E=()=>{u=!1,y.cancel()},x=()=>{u=!0,be.update(E),l(),d()};return y.onfinish=()=>{u||(e.set(gk(m,r)),a&&a(),x())},{then(v,b){return c.then(v,b)},attachTimeline(v){return y.timeline=v,y.onfinish=null,Ie},get time(){return yn(y.currentTime||0)},set time(v){y.currentTime=qn(v)},get speed(){return y.playbackRate},set speed(v){y.playbackRate=v},get duration(){return yn(f)},play:()=>{s||(y.play(),Sn(E))},pause:()=>y.pause(),stop:()=>{if(s=!0,y.playState==="idle")return;const{currentTime:v}=y;if(v){const b=ps({...r,autoplay:!1});e.setWithVelocity(b.sample(v-oo).value,b.sample(v).value,oo)}x()},complete:()=>{u||y.finish()},cancel:x}}function o3({keyframes:e,delay:t,onUpdate:n,onComplete:a}){const r=()=>(n&&n(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:Ie,pause:Ie,stop:Ie,then:o=>(o(),Promise.resolve()),cancel:Ie,complete:Ie});return t?ps({keyframes:[0,1],duration:0,delay:t,onComplete:r}):r()}const s3={type:"spring",stiffness:500,damping:25,restSpeed:10},l3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),c3={type:"keyframes",duration:.8},u3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d3=(e,{keyframes:t})=>t.length>2?c3:_a.has(e)?e.startsWith("scale")?l3(t[1]):s3:u3,Jc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xn.test(t)||t==="0")&&!t.startsWith("url(")),m3=new Set(["brightness","contrast","saturate","opacity"]);function p3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(Vs)||[];if(!a)return e;const r=n.replace(a,"");let o=m3.has(t)?1:0;return a!==n&&(o*=100),t+"("+o+r+")"}const f3=/([a-z-]*)\(.*?\)/g,eu={...Xn,getAnimatableNone:e=>{const t=e.match(f3);return t?t.map(p3).join(" "):e}},h3={...av,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:eu,WebkitFilter:eu},Md=e=>h3[e];function Hv(e,t){let n=Md(e);return n!==eu&&(n=Xn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Wv=e=>/^0[^.\s]+$/.test(e);function g3(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Wv(e)}function v3(e,t,n,a){const r=Jc(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=a.from!==void 0?a.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),g3(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(r&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=Hv(t,l)}return o}function x3({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:r,repeat:o,repeatType:s,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Rd(e,t){return e[t]||e.default||e}const y3={skipAnimations:!1},jd=(e,t,n,a={})=>r=>{const o=Rd(a,e)||{},s=o.delay||a.delay||0;let{elapsed:l=0}=a;l=l-qn(s);const c=v3(t,e,n,o),u=c[0],d=c[c.length-1],m=Jc(e,u),f=Jc(e,d);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:w=>{t.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{r(),o.onComplete&&o.onComplete()}};if(x3(o)||(g={...g,...d3(e,g)}),g.duration&&(g.duration=qn(g.duration)),g.repeatDelay&&(g.repeatDelay=qn(g.repeatDelay)),!m||!f||fk.current||o.type===!1||y3.skipAnimations)return o3(g);if(!a.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=i3(t,e,g);if(w)return w}return ps(g)};function fs(e){return!!(bt(e)&&e.add)}const Gv=e=>/^\-?\d*\.?\d+$/.test(e);function Od(e,t){e.indexOf(t)===-1&&e.push(t)}function zd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Fd{constructor(){this.subscriptions=[]}add(t){return Od(this.subscriptions,t),()=>zd(this.subscriptions,t)}notify(t,n,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,a);else for(let o=0;o<r;o++){const s=this.subscriptions[o];s&&s(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const w3=e=>!isNaN(parseFloat(e));class E3{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,r=!0)=>{this.prev=this.current,this.current=a;const{delta:o,timestamp:s}=ot;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,be.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>be.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=w3(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Fd);const a=this.events[t].add(n);return t==="change"?()=>{a(),be.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,a){this.set(n),this.prev=t,this.timeDelta=a}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Bv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dr(e,t){return new E3(e,t)}const qv=e=>t=>t.test(e),b3={test:e=>e==="auto",parse:e=>e},Kv=[Ta,se,ln,Ln,Tb,_b,b3],Ar=e=>Kv.find(qv(e)),k3=[...Kv,mt,Xn],N3=e=>k3.find(qv(e));function S3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,dr(n))}function C3(e,t){const n=$s(e,t);let{transitionEnd:a={},transition:r={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...a};for(const s in o){const l=Ub(o[s]);S3(e,s,l)}}function P3(e,t,n){var a,r;const o=Object.keys(t).filter(l=>!e.hasValue(l)),s=o.length;if(s)for(let l=0;l<s;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(a=n[c])!==null&&a!==void 0?a:e.readValue(c))!==null&&r!==void 0?r:t[c]),d!=null&&(typeof d=="string"&&(Gv(d)||Wv(d))?d=parseFloat(d):!N3(d)&&Xn.test(u)&&(d=Hv(c,u)),e.addValue(c,dr(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function _3(e,t){return t?(t[e]||t.default||t).from:void 0}function T3(e,t,n){const a={};for(const r in e){const o=_3(r,t);if(o!==void 0)a[r]=o;else{const s=n.getValue(r);s&&(a[r]=s.get())}}return a}function L3({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function A3(e,t){const n=e.get();if(Array.isArray(t)){for(let a=0;a<t.length;a++)if(t[a]!==n)return!0}else return n!==t}function Yv(e,t,{delay:n=0,transitionOverride:a,type:r}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");a&&(o=a);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const m in l){const f=e.getValue(m),g=l[m];if(!f||g===void 0||d&&L3(d,m))continue;const w={delay:n,elapsed:0,...Rd(o||{},m)};if(window.HandoffAppearAnimations){const x=e.getProps()[Q0];if(x){const h=window.HandoffAppearAnimations(x,m,f,be);h!==null&&(w.elapsed=h,w.isHandoff=!0)}}let y=!w.isHandoff&&!A3(f,g);if(w.type==="spring"&&(f.getVelocity()||w.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(jd(m,f,g,e.shouldReduceMotion&&_a.has(m)?{type:!1}:w));const E=f.animation;fs(c)&&(c.add(m),E.then(()=>c.remove(m))),u.push(E)}return s&&Promise.all(u).then(()=>{s&&C3(e,s)}),u}function tu(e,t,n={}){const a=$s(e,t,n.custom);let{transition:r=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(r=n.transitionOverride);const o=a?()=>Promise.all(Yv(e,a,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:m}=r;return D3(e,t,u+c,d,m,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[o,s]:[s,o];return c().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function D3(e,t,n=0,a=0,r=1,o){const s=[],l=(e.variantChildren.size-1)*a,c=r===1?(u=0)=>u*a:(u=0)=>l-u*a;return Array.from(e.variantChildren).sort(M3).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(tu(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function M3(e,t){return e.sortNodePosition(t)}function R3(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const r=t.map(o=>tu(e,o,n));a=Promise.all(r)}else if(typeof t=="string")a=tu(e,t,n);else{const r=typeof t=="function"?$s(e,t,n.custom):t;a=Promise.all(Yv(e,r,n))}return a.then(()=>e.notify("AnimationComplete",t))}const j3=[...yd].reverse(),O3=yd.length;function z3(e){return t=>Promise.all(t.map(({animation:n,options:a})=>R3(e,n,a)))}function F3(e){let t=z3(e);const n=V3();let a=!0;const r=(c,u)=>{const d=$s(e,u);if(d){const{transition:m,transitionEnd:f,...g}=d;c={...c,...g,...f}}return c};function o(c){t=c(e)}function s(c,u){const d=e.getProps(),m=e.getVariantContext(!0)||{},f=[],g=new Set;let w={},y=1/0;for(let x=0;x<O3;x++){const h=j3[x],v=n[h],b=d[h]!==void 0?d[h]:m[h],k=wi(b),T=h===u?v.isActive:null;T===!1&&(y=x);let _=b===m[h]&&b!==d[h]&&k;if(_&&a&&e.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...w},!v.isActive&&T===null||!b&&!v.prevProp||Fs(b)||typeof b=="boolean")continue;let z=I3(v.prevProp,b)||h===u&&v.isActive&&!_&&k||x>y&&k,D=!1;const C=Array.isArray(b)?b:[b];let I=C.reduce(r,{});T===!1&&(I={});const{prevResolvedValues:O={}}=v,j={...O,...I},G=K=>{z=!0,g.has(K)&&(D=!0,g.delete(K)),v.needsAnimating[K]=!0};for(const K in j){const oe=I[K],S=O[K];if(w.hasOwnProperty(K))continue;let R=!1;us(oe)&&us(S)?R=!xv(oe,S):R=oe!==S,R?oe!==void 0?G(K):g.add(K):oe!==void 0&&g.has(K)?G(K):v.protectedKeys[K]=!0}v.prevProp=b,v.prevResolvedValues=I,v.isActive&&(w={...w,...I}),a&&e.blockInitialAnimation&&(z=!1),z&&(!_||D)&&f.push(...C.map(K=>({animation:K,options:{type:h,...c}})))}if(g.size){const x={};g.forEach(h=>{const v=e.getBaseTarget(h);v!==void 0&&(x[h]=v)}),f.push({animation:x})}let E=!!f.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(E=!1),a=!1,E?t(f):Promise.resolve()}function l(c,u,d){var m;if(n[c].isActive===u)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const f=s(d,c);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n}}function I3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xv(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V3(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class B3 extends ta{constructor(t){super(t),t.animationState||(t.animationState=F3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Fs(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let $3=0;class U3 extends ta{constructor(){super(...arguments),this.id=$3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t,{custom:a??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const H3={animation:{Feature:B3},exit:{Feature:U3}},ef=(e,t)=>Math.abs(e-t);function W3(e,t){const n=ef(e.x,t.x),a=ef(e.y,t.y);return Math.sqrt(n**2+a**2)}class Qv{constructor(t,n,{transformPagePoint:a,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ml(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=W3(m.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:w}=m,{timestamp:y}=ot;this.history.push({...w,timestamp:y});const{onStart:E,onMove:x}=this.handlers;f||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Dl(f,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Ml(m.type==="pointercancel"?this.lastMoveEventInfo:Dl(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,E),w&&w(m,E)},!pv(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=a,this.contextWindow=r||window;const s=Bs(t),l=Dl(s,this.transformPagePoint),{point:c}=l,{timestamp:u}=ot;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Ml(l,this.history)),this.removeListeners=Gn(xn(this.contextWindow,"pointermove",this.handlePointerMove),xn(this.contextWindow,"pointerup",this.handlePointerUp),xn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Sn(this.updatePoint)}}function Dl(e,t){return t?{point:t(e.point)}:e}function tf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ml({point:e},t){return{point:e,delta:tf(e,Xv(t)),offset:tf(e,G3(t)),velocity:q3(t,.1)}}function G3(e){return e[0]}function Xv(e){return e[e.length-1]}function q3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const r=Xv(e);for(;n>=0&&(a=e[n],!(r.timestamp-a.timestamp>qn(t)));)n--;if(!a)return{x:0,y:0};const o=yn(r.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const s={x:(r.x-a.x)/o,y:(r.y-a.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Pt(e){return e.max-e.min}function nu(e,t=0,n=.01){return Math.abs(e-t)<=n}function nf(e,t,n,a=.5){e.origin=a,e.originPoint=je(t.min,t.max,e.origin),e.scale=Pt(n)/Pt(t),(nu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=je(n.min,n.max,e.origin)-e.originPoint,(nu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Zr(e,t,n,a){nf(e.x,t.x,n.x,a?a.originX:void 0),nf(e.y,t.y,n.y,a?a.originY:void 0)}function af(e,t,n){e.min=n.min+t.min,e.max=e.min+Pt(t)}function K3(e,t,n){af(e.x,t.x,n.x),af(e.y,t.y,n.y)}function rf(e,t,n){e.min=t.min-n.min,e.max=e.min+Pt(t)}function Jr(e,t,n){rf(e.x,t.x,n.x),rf(e.y,t.y,n.y)}function Y3(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?je(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?je(n,e,a.max):Math.min(e,n)),e}function of(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Q3(e,{top:t,left:n,bottom:a,right:r}){return{x:of(e.x,n,r),y:of(e.y,t,a)}}function sf(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function X3(e,t){return{x:sf(e.x,t.x),y:sf(e.y,t.y)}}function Z3(e,t){let n=.5;const a=Pt(e),r=Pt(t);return r>a?n=bi(t.min,t.max-a,e.min):a>r&&(n=bi(e.min,e.max-r,t.min)),Qn(0,1,n)}function J3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const au=.35;function eN(e=au){return e===!1?e=0:e===!0&&(e=au),{x:lf(e,"left","right"),y:lf(e,"top","bottom")}}function lf(e,t,n){return{min:cf(e,t),max:cf(e,n)}}function cf(e,t){return typeof e=="number"?e:e[t]||0}const uf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ya=()=>({x:uf(),y:uf()}),df=()=>({min:0,max:0}),$e=()=>({x:df(),y:df()});function zt(e){return[e("x"),e("y")]}function Zv({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function tN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function Rl(e){return e===void 0||e===1}function ru({scale:e,scaleX:t,scaleY:n}){return!Rl(e)||!Rl(t)||!Rl(n)}function ua(e){return ru(e)||Jv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Jv(e){return mf(e.x)||mf(e.y)}function mf(e){return e&&e!=="0%"}function hs(e,t,n){const a=e-n,r=t*a;return n+r}function pf(e,t,n,a,r){return r!==void 0&&(e=hs(e,r,a)),hs(e,n,a)+t}function iu(e,t=0,n=1,a,r){e.min=pf(e.min,t,n,a,r),e.max=pf(e.max,t,n,a,r)}function ex(e,{x:t,y:n}){iu(e.x,t.translate,t.scale,t.originPoint),iu(e.y,n.translate,n.scale,n.originPoint)}function aN(e,t,n,a=!1){const r=n.length;if(!r)return;t.x=t.y=1;let o,s;for(let l=0;l<r;l++){o=n[l],s=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qa(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,ex(e,s)),a&&ua(o.latestValues)&&Qa(e,o.latestValues))}t.x=ff(t.x),t.y=ff(t.y)}function ff(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Mn(e,t){e.min=e.min+t,e.max=e.max+t}function hf(e,t,[n,a,r]){const o=t[r]!==void 0?t[r]:.5,s=je(e.min,e.max,o);iu(e,t[n],t[a],s,t.scale)}const rN=["x","scaleX","originX"],iN=["y","scaleY","originY"];function Qa(e,t){hf(e.x,t,rN),hf(e.y,t,iN)}function tx(e,t){return Zv(nN(e.getBoundingClientRect(),t))}function oN(e,t,n){const a=tx(e,n),{scroll:r}=t;return r&&(Mn(a.x,r.offset.x),Mn(a.y,r.offset.y)),a}const nx=({current:e})=>e?e.ownerDocument.defaultView:null,sN=new WeakMap;class lN{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bs(d,"page").point)},o=(d,m)=>{const{drag:f,dragPropagation:g,onDragStart:w}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hv(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(E=>{let x=this.getAxisMotionValue(E).get()||0;if(ln.test(x)){const{projection:h}=this.visualElement;if(h&&h.layout){const v=h.layout.layoutBox[E];v&&(x=Pt(v)*(parseFloat(x)/100))}}this.originPoint[E]=x}),w&&be.update(()=>w(d,m),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(d,m)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:w,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:E}=m;if(g&&this.currentDirection===null){this.currentDirection=cN(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",m.point,E),this.updateAxis("y",m.point,E),this.visualElement.render(),y&&y(d,m)},l=(d,m)=>this.stop(d,m),c=()=>zt(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Qv(t,{onSessionStart:r,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:nx(this.visualElement)})}stop(t,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&be.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:r}=this.getProps();if(!a||!so(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(s=Y3(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&qa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=Q3(r.layoutBox,n):this.constraints=!1,this.elastic=eN(a),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=J3(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!qa(t))return!1;const a=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=oN(a,r.root,this.visualElement.getTransformPagePoint());let s=X3(r.layout.layoutBox,o);if(n){const l=n(tN(s));this.hasMutatedConstraints=!!l,l&&(s=Zv(l))}return s}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:r,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=zt(d=>{if(!so(d,n,this.currentDirection))return;let m=c&&c[d]||{};s&&(m={min:0,max:0});const f=r?200:1e6,g=r?40:1e7,w={type:"inertia",velocity:a?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return a.start(jd(t,a,0,n))}stopAnimation(){zt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),a=this.visualElement.getProps(),r=a[n];return r||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){zt(n=>{const{drag:a}=this.getProps();if(!so(n,a,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[n];o.set(t[n]-je(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!qa(n)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};zt(s=>{const l=this.getAxisMotionValue(s);if(l){const c=l.get();r[s]=Z3({min:c,max:c},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),zt(s=>{if(!so(s,t,null))return;const l=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];l.set(je(c,u,r[s]))})}addListeners(){if(!this.visualElement.current)return;sN.set(this.visualElement,this);const t=this.visualElement.current,n=xn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();qa(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),a();const s=hn(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(zt(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:s=au,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:r,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function so(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function cN(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class uN extends ta{constructor(t){super(t),this.removeGroupControls=Ie,this.removeListeners=Ie,this.controls=new lN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ie}unmount(){this.removeGroupControls(),this.removeListeners()}}const gf=e=>(t,n)=>{e&&be.update(()=>e(t,n))};class dN extends ta{constructor(){super(...arguments),this.removePointerDownListener=Ie}onPointerDown(t){this.session=new Qv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:gf(t),onStart:gf(n),onMove:a,onEnd:(o,s)=>{delete this.session,r&&be.update(()=>r(o,s))}}}mount(){this.removePointerDownListener=xn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function mN(){const e=p.useContext(Os);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:a}=e,r=p.useId();return p.useEffect(()=>a(r),[]),!t&&n?[!1,()=>n&&n(r)]:[!0]}const To={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(se.test(e))e=parseFloat(e);else return e;const n=vf(e,t.target.x),a=vf(e,t.target.y);return`${n}% ${a}%`}},pN={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,r=Xn.parse(e);if(r.length>5)return a;const o=Xn.createTransformer(e),s=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+s]/=l,r[1+s]/=c;const u=je(l,c,.5);return typeof r[2+s]=="number"&&(r[2+s]/=u),typeof r[3+s]=="number"&&(r[3+s]/=u),o(r)}};class fN extends i.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:r}=this.props,{projection:o}=t;Eb(hN),o&&(n.group&&n.group.add(o),a&&a.register&&r&&a.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),To.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:r,isPresent:o}=this.props,s=a.projection;return s&&(s.isPresent=o,r||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||be.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ax(e){const[t,n]=mN(),a=p.useContext(Ed);return i.createElement(fN,{...e,layoutGroup:a,switchLayoutGroup:p.useContext(Z0),isPresent:t,safeToRemove:n})}const hN={borderRadius:{...Dr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dr,borderTopRightRadius:Dr,borderBottomLeftRadius:Dr,borderBottomRightRadius:Dr,boxShadow:pN},rx=["TopLeft","TopRight","BottomLeft","BottomRight"],gN=rx.length,xf=e=>typeof e=="string"?parseFloat(e):e,yf=e=>typeof e=="number"||se.test(e);function vN(e,t,n,a,r,o){r?(e.opacity=je(0,n.opacity!==void 0?n.opacity:1,xN(a)),e.opacityExit=je(t.opacity!==void 0?t.opacity:1,0,yN(a))):o&&(e.opacity=je(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,a));for(let s=0;s<gN;s++){const l=`border${rx[s]}Radius`;let c=wf(t,l),u=wf(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||yf(c)===yf(u)?(e[l]=Math.max(je(xf(c),xf(u),a),0),(ln.test(u)||ln.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=je(t.rotate||0,n.rotate||0,a))}function wf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xN=ix(0,.5,Pv),yN=ix(.5,.95,Ie);function ix(e,t,n){return a=>a<e?0:a>t?1:n(bi(e,t,a))}function Ef(e,t){e.min=t.min,e.max=t.max}function Mt(e,t){Ef(e.x,t.x),Ef(e.y,t.y)}function bf(e,t,n,a,r){return e-=t,e=hs(e,1/n,a),r!==void 0&&(e=hs(e,1/r,a)),e}function wN(e,t=0,n=1,a=.5,r,o=e,s=e){if(ln.test(t)&&(t=parseFloat(t),t=je(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=je(o.min,o.max,a);e===o&&(l-=t),e.min=bf(e.min,t,n,l,r),e.max=bf(e.max,t,n,l,r)}function kf(e,t,[n,a,r],o,s){wN(e,t[n],t[a],t[r],t.scale,o,s)}const EN=["x","scaleX","originX"],bN=["y","scaleY","originY"];function Nf(e,t,n,a){kf(e.x,t,EN,n?n.x:void 0,a?a.x:void 0),kf(e.y,t,bN,n?n.y:void 0,a?a.y:void 0)}function Sf(e){return e.translate===0&&e.scale===1}function ox(e){return Sf(e.x)&&Sf(e.y)}function kN(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function sx(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Cf(e){return Pt(e.x)/Pt(e.y)}class NN{constructor(){this.members=[]}add(t){Od(this.members,t),t.scheduleRender()}remove(t){if(zd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let a;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pf(e,t,n){let a="";const r=e.x.translate/t.x,o=e.y.translate/t.y;if((r||o)&&(a=`translate3d(${r}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(a+=`rotate(${c}deg) `),u&&(a+=`rotateX(${u}deg) `),d&&(a+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(a+=`scale(${s}, ${l})`),a||"none"}const SN=(e,t)=>e.depth-t.depth;class CN{constructor(){this.children=[],this.isDirty=!1}add(t){Od(this.children,t),this.isDirty=!0}remove(t){zd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SN),this.isDirty=!1,this.children.forEach(t)}}function PN(e,t){const n=performance.now(),a=({timestamp:r})=>{const o=r-n;o>=t&&(Sn(a),e(o-t))};return be.read(a,!0),()=>Sn(a)}function _N(e){window.MotionDebug&&window.MotionDebug.record(e)}function TN(e){return e instanceof SVGElement&&e.tagName!=="svg"}function LN(e,t,n){const a=bt(e)?e:dr(e);return a.start(jd("",a,t,n)),a.animation}const _f=["","X","Y","Z"],AN={visibility:"hidden"},Tf=1e3;let DN=0;const da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function lx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(s={},l=t==null?void 0:t()){this.id=DN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,da.totalNodes=da.resolvedTargetDeltas=da.recalculatedProjection=0,this.nodes.forEach(jN),this.nodes.forEach(VN),this.nodes.forEach(BN),this.nodes.forEach(ON),_N(da)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new CN)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Fd),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TN(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let m;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=PN(f,250),To.hasAnimatedSinceResize&&(To.hasAnimatedSinceResize=!1,this.nodes.forEach(Af))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||GN,{onLayoutAnimationStart:E,onLayoutAnimationComplete:x}=d.getProps(),h=!this.targetLayout||!sx(this.targetLayout,w)||g,v=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(h||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,v);const b={...Rd(y,"layout"),onPlay:E,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Af(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($N),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lf);return}this.isUpdating||this.nodes.forEach(FN),this.isUpdating=!1,this.nodes.forEach(IN),this.nodes.forEach(MN),this.nodes.forEach(RN),this.clearAllSnapshots();const l=performance.now();ot.delta=Qn(0,1e3/60,l-ot.timestamp),ot.timestamp=l,ot.isProcessing=!0,Nl.update.process(ot),Nl.preRender.process(ot),Nl.render.process(ot),ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zN),this.sharedNodes.forEach(UN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:a(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!ox(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(l||ua(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),qN(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return $e();const l=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Mn(l.x,c.offset.x),Mn(l.y,c.offset.y)),l}removeElementScroll(s){const l=$e();Mt(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:m}=u;if(u!==this.root&&d&&m.layoutScroll){if(d.isRoot){Mt(l,s);const{scroll:f}=this.root;f&&(Mn(l.x,-f.offset.x),Mn(l.y,-f.offset.y))}Mn(l.x,d.offset.x),Mn(l.y,d.offset.y)}}return l}applyTransform(s,l=!1){const c=$e();Mt(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qa(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ua(d.latestValues)&&Qa(c,d.latestValues)}return ua(this.latestValues)&&Qa(c,this.latestValues),c}removeTransform(s){const l=$e();Mt(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ua(u.latestValues))continue;ru(u.latestValues)&&u.updateSnapshot();const d=$e(),m=u.measurePageBox();Mt(d,m),Nf(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ua(this.latestValues)&&Nf(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=ot.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Jr(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),K3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mt(this.target,this.layout.layoutBox),ex(this.target,this.targetDelta)):Mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Jr(this.relativeTargetOrigin,this.target,g.target),Mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ru(this.parent.latestValues)||Jv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ot.timestamp&&(u=!1),u)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Mt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;aN(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=Ya(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ya(),this.projectionDeltaWithTransform=Ya());const y=this.projectionTransform;Zr(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Pf(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},m=Ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=$e(),g=c?c.source:void 0,w=this.layout?this.layout.source:void 0,y=g!==w,E=this.getStack(),x=!E||E.members.length<=1,h=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(WN));this.animationProgress=0;let v;this.mixTargetDelta=b=>{const k=b/1e3;Df(m.x,s.x,k),Df(m.y,s.y,k),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jr(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HN(this.relativeTarget,this.relativeTargetOrigin,f,k),v&&kN(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=$e()),Mt(v,this.relativeTarget)),y&&(this.animationValues=d,vN(d,u,this.latestValues,k,h,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{To.hasAnimatedSinceResize=!0,this.currentAnimation=LN(0,Tf,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=s;if(!(!l||!c||!u)){if(this!==s&&this.layout&&u&&cx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||$e();const m=Pt(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+m;const f=Pt(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+f}Mt(l,c),Qa(l,d),Zr(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new NN),this.sharedNodes.get(s).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<_f.length;d++){const m="rotate"+_f[d];c[m]&&(u[m]=c[m],s.setStaticValue(m,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AN;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_o(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=_o(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=Pf(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y:w}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,m.animationValues?u.opacity=m===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=m===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ls){if(f[y]===void 0)continue;const{correct:E,applyTo:x}=ls[y],h=u.transform==="none"?f[y]:E(f[y],m);if(x){const v=x.length;for(let b=0;b<v;b++)u[x[b]]=h}else u[y]=h}return this.options.layoutId&&(u.pointerEvents=m===this?_o(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Lf),this.root.sharedNodes.clear()}}}function MN(e){e.updateLayout()}function RN(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?zt(m=>{const f=s?n.measuredBox[m]:n.layoutBox[m],g=Pt(f);f.min=a[m].min,f.max=f.min+g}):cx(o,n.layoutBox,a)&&zt(m=>{const f=s?n.measuredBox[m]:n.layoutBox[m],g=Pt(a[m]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+g)});const l=Ya();Zr(l,a,n.layoutBox);const c=Ya();s?Zr(c,e.applyTransform(r,!0),n.measuredBox):Zr(c,a,n.layoutBox);const u=!ox(l);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:g}=m;if(f&&g){const w=$e();Jr(w,n.layoutBox,f.layoutBox);const y=$e();Jr(y,a,g.layoutBox),sx(w,y)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function jN(e){da.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ON(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zN(e){e.clearSnapshot()}function Lf(e){e.clearMeasurements()}function FN(e){e.isLayoutDirty=!1}function IN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Af(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VN(e){e.resolveTargetDelta()}function BN(e){e.calcProjection()}function $N(e){e.resetRotation()}function UN(e){e.removeLeadSnapshot()}function Df(e,t,n){e.translate=je(t.translate,0,n),e.scale=je(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Mf(e,t,n,a){e.min=je(t.min,n.min,a),e.max=je(t.max,n.max,a)}function HN(e,t,n,a){Mf(e.x,t.x,n.x,a),Mf(e.y,t.y,n.y,a)}function WN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const GN={duration:.45,ease:[.4,0,.1,1]},Rf=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),jf=Rf("applewebkit/")&&!Rf("chrome/")?Math.round:Ie;function Of(e){e.min=jf(e.min),e.max=jf(e.max)}function qN(e){Of(e.x),Of(e.y)}function cx(e,t,n){return e==="position"||e==="preserve-aspect"&&!nu(Cf(t),Cf(n),.2)}const KN=lx({attachResizeListener:(e,t)=>hn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jl={current:void 0},ux=lx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jl.current){const e=new KN({});e.mount(window),e.setOptions({layoutScroll:!0}),jl.current=e}return jl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),YN={pan:{Feature:dN},drag:{Feature:uN,ProjectionNode:ux,MeasureLayout:ax}},QN=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function XN(e){const t=QN.exec(e);if(!t)return[,];const[,n,a]=t;return[n,a]}function ou(e,t,n=1){const[a,r]=XN(e);if(!a)return;const o=window.getComputedStyle(t).getPropertyValue(a);if(o){const s=o.trim();return Gv(s)?parseFloat(s):s}else return Yc(r)?ou(r,t,n+1):r}function ZN(e,{...t},n){const a=e.current;if(!(a instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(r=>{const o=r.get();if(!Yc(o))return;const s=ou(o,a);s&&r.set(s)});for(const r in t){const o=t[r];if(!Yc(o))continue;const s=ou(o,a);s&&(t[r]=s,n||(n={}),n[r]===void 0&&(n[r]=o))}return{target:t,transitionEnd:n}}const JN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),dx=e=>JN.has(e),e4=e=>Object.keys(e).some(dx),zf=e=>e===Ta||e===se,Ff=(e,t)=>parseFloat(e.split(", ")[t]),If=(e,t)=>(n,{transform:a})=>{if(a==="none"||!a)return 0;const r=a.match(/^matrix3d\((.+)\)$/);if(r)return Ff(r[1],t);{const o=a.match(/^matrix\((.+)\)$/);return o?Ff(o[1],e):0}},t4=new Set(["x","y","z"]),n4=Li.filter(e=>!t4.has(e));function a4(e){const t=[];return n4.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const mr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:If(4,13),y:If(5,14)};mr.translateX=mr.x;mr.translateY=mr.y;const r4=(e,t,n)=>{const a=t.measureViewportBox(),r=t.current,o=getComputedStyle(r),{display:s}=o,l={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=mr[u](a,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=mr[u](c,o)}),e},i4=(e,t,n={},a={})=>{t={...t},a={...a};const r=Object.keys(t).filter(dx);let o=[],s=!1;const l=[];if(r.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],m=Ar(d);const f=t[c];let g;if(us(f)){const w=f.length,y=f[0]===null?1:0;d=f[y],m=Ar(d);for(let E=y;E<w&&f[E]!==null;E++)g?Td(Ar(f[E])===g):g=Ar(f[E])}else g=Ar(f);if(m!==g)if(zf(m)&&zf(g)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&g===se&&(t[c]=f.map(parseFloat))}else m!=null&&m.transform&&(g!=null&&g.transform)&&(d===0||f===0)?d===0?u.set(g.transform(d)):t[c]=m.transform(f):(s||(o=a4(e),s=!0),l.push(c),a[c]=a[c]!==void 0?a[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=r4(t,e,l);return o.length&&o.forEach(([d,m])=>{e.getValue(d).set(m)}),e.render(),zs&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:a}}else return{target:t,transitionEnd:a}};function o4(e,t,n,a){return e4(t)?i4(e,t,n,a):{target:t,transitionEnd:a}}const s4=(e,t,n,a)=>{const r=ZN(e,t,a);return t=r.target,a=r.transitionEnd,o4(e,t,n,a)},su={current:null},mx={current:!1};function l4(){if(mx.current=!0,!!zs)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>su.current=e.matches;e.addListener(t),t()}else su.current=!1}function c4(e,t,n){const{willChange:a}=t;for(const r in t){const o=t[r],s=n[r];if(bt(o))e.addValue(r,o),fs(a)&&a.add(r);else if(bt(s))e.addValue(r,dr(o,{owner:e})),fs(a)&&a.remove(r);else if(s!==o)if(e.hasValue(r)){const l=e.getValue(r);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(r);e.addValue(r,dr(l!==void 0?l:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Vf=new WeakMap,px=Object.keys(Ei),u4=px.length,Bf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],d4=wd.length;class m4{constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:r,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=Is(n),this.isVariantNode=X0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const m in d){const f=d[m];l[m]!==void 0&&bt(f)&&(f.set(l[m],!1),fs(u)&&u.add(m))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Vf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),mx.current||l4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:su.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vf.delete(this.current),this.projection&&this.projection.unmount(),Sn(this.notifyUpdate),Sn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const a=_a.has(t),r=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&be.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},a,r,o){let s,l;for(let c=0;c<u4;c++){const u=px[c],{isEnabled:d,Feature:m,ProjectionNode:f,MeasureLayout:g}=Ei[u];f&&(s=f),d(n)&&(!this.features[u]&&m&&(this.features[u]=new m(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:m,layoutScroll:f,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||m&&qa(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<Bf.length;a++){const r=Bf[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o=t["on"+r];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=c4(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const n={};for(let a=0;a<d4;a++){const r=wd[a],o=this.props[r];(wi(o)||o===!1)&&(n[r]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=dr(n,{owner:this}),this.addValue(t,a)),a}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:a}=this.props,r=typeof a=="string"||typeof a=="object"?(n=_d(this.props,a))===null||n===void 0?void 0:n[t]:void 0;if(a&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!bt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Fd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class fx extends m4{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...a},{transformValues:r},o){let s=T3(a,t||{},this);if(r&&(n&&(n=r(n)),a&&(a=r(a)),s&&(s=r(s))),o){P3(this,a,s);const l=s4(this,a,s,n);n=l.transitionEnd,a=l.target}return{transition:t,transitionEnd:n,...a}}}function p4(e){return window.getComputedStyle(e)}class f4 extends fx{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(_a.has(n)){const a=Md(n);return a&&a.default||0}else{const a=p4(t),r=(tv(n)?a.getPropertyValue(n):a[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return tx(t,n)}build(t,n,a,r){kd(t,n,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Pd(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;bt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,a,r){sv(t,n,a,r)}}class h4 extends fx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_a.has(n)){const a=Md(n);return a&&a.default||0}return n=lv.has(n)?n:xd(n),t.getAttribute(n)}measureInstanceViewportBox(){return $e()}scrapeMotionValuesFromProps(t,n){return uv(t,n)}build(t,n,a,r){Sd(t,n,a,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,a,r){cv(t,n,a,r)}mount(t){this.isSVGTag=Cd(t.tagName),super.mount(t)}}const g4=(e,t)=>bd(e)?new h4(t,{enableHardwareAcceleration:!1}):new f4(t,{enableHardwareAcceleration:!0}),v4={layout:{ProjectionNode:ux,MeasureLayout:ax}},x4={...H3,...uk,...YN,...v4},gs=yb((e,t)=>Xb(e,t,x4,g4));function hx(){const e=p.useRef(!1);return vd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function y4(){const e=hx(),[t,n]=p.useState(0),a=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>be.postRender(a),[a]),t]}class w4 extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function E4({children:e,isPresent:t}){const n=p.useId(),a=p.useRef(null),r=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:o,height:s,top:l,left:c}=r.current;if(t||!a.current||!o||!s)return;a.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),p.createElement(w4,{isPresent:t,childRef:a,sizeRef:r},p.cloneElement(e,{ref:a}))}const Ol=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:r,presenceAffectsLayout:o,mode:s})=>{const l=dv(b4),c=p.useId(),u=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:r,onExitComplete:d=>{l.set(d,!0);for(const m of l.values())if(!m)return;a&&a()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return p.useMemo(()=>{l.forEach((d,m)=>l.set(m,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&a&&a()},[n]),s==="popLayout"&&(e=p.createElement(E4,{isPresent:n},e)),p.createElement(Os.Provider,{value:u},e)};function b4(){return new Map}function k4(e){return p.useEffect(()=>()=>e(),[])}const ma=e=>e.key||"";function N4(e,t){e.forEach(n=>{const a=ma(n);t.set(a,n)})}function S4(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const C4=({children:e,custom:t,initial:n=!0,onExitComplete:a,exitBeforeEnter:r,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const l=p.useContext(Ed).forceRender||y4()[0],c=hx(),u=S4(e);let d=u;const m=p.useRef(new Map).current,f=p.useRef(d),g=p.useRef(new Map).current,w=p.useRef(!0);if(vd(()=>{w.current=!1,N4(u,g),f.current=d}),k4(()=>{w.current=!0,g.clear(),m.clear()}),w.current)return p.createElement(p.Fragment,null,d.map(h=>p.createElement(Ol,{key:ma(h),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},h)));d=[...d];const y=f.current.map(ma),E=u.map(ma),x=y.length;for(let h=0;h<x;h++){const v=y[h];E.indexOf(v)===-1&&!m.has(v)&&m.set(v,void 0)}return s==="wait"&&m.size&&(d=[]),m.forEach((h,v)=>{if(E.indexOf(v)!==-1)return;const b=g.get(v);if(!b)return;const k=y.indexOf(v);let T=h;if(!T){const _=()=>{m.delete(v);const P=Array.from(g.keys()).filter(z=>!E.includes(z));if(P.forEach(z=>g.delete(z)),f.current=u.filter(z=>{const D=ma(z);return D===v||P.includes(D)}),!m.size){if(c.current===!1)return;l(),a&&a()}};T=p.createElement(Ol,{key:ma(b),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:o,mode:s},b),m.set(v,T)}d.splice(k,0,T)}),d=d.map(h=>{const v=h.key;return m.has(v)?h:p.createElement(Ol,{key:ma(h),isPresent:!0,presenceAffectsLayout:o,mode:s},h)}),p.createElement(p.Fragment,null,m.size?d:d.map(h=>p.cloneElement(h)))};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),$f=e=>{const t=_4(e);return t.charAt(0).toUpperCase()+t.slice(1)},gx=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),T4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:o,iconNode:s,...l},c)=>p.createElement("svg",{ref:c,...L4,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:gx("lucide",r),...!o&&!T4(l)&&{"aria-hidden":"true"},...l},[...s.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=(e,t)=>{const n=p.forwardRef(({className:a,...r},o)=>p.createElement(A4,{ref:o,iconNode:t,className:gx(`lucide-${P4($f(e))}`,`lucide-${e}`,a),...r}));return n.displayName=$f(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],M4=Ri("circle-x",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lu=Ri("eye-off",R4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cu=Ri("eye",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],uu=Ri("lock",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vx=Ri("mail",z4);function F4({isOpen:e,onClose:t,onConfirm:n,fileName:a}){return i.createElement(C4,null,e&&i.createElement(gs.div,{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},i.createElement(gs.div,{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:20}},i.createElement("div",{className:"flex flex-col items-center text-center"},i.createElement(M4,{className:"text-red-500 w-16 h-16 mb-3",strokeWidth:1.5}),i.createElement("h2",{className:"text-xl font-semibold text-gray-800 mb-2"},"Are you sure?"),i.createElement("p",{className:"text-sm text-gray-600 mb-4"},"Do you really want to delete"," ",i.createElement("span",{className:"font-medium text-black"},a||"this file"),"?",i.createElement("br",null),"This action cannot be undone.")),i.createElement("div",{className:"flex justify-center gap-4 mt-6"},i.createElement("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-100 transition"},"Cancel"),i.createElement("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition"},"Delete")))))}function I4(){const[e,t]=p.useState([]),[n,a]=p.useState(""),[r,o]=p.useState(null),[s,l]=p.useState([]),[c,u]=p.useState(!1),[d,m]=p.useState(!1),[f,g]=p.useState(null);p.useEffect(()=>{fetch("/check_login",{credentials:"include"}).then(k=>k.json()).then(k=>o(k.user_email||""))},[]),p.useEffect(()=>{fetch("/admin_emails").then(k=>k.json()).then(k=>l(k.admin_emails||[]))},[]);const w=p.useCallback(()=>{fetch("/api/hr_documents",{credentials:"include"}).then(k=>k.json()).then(k=>t(k.files||[])).catch(()=>t([]))},[]);p.useEffect(()=>{r&&s.includes(r.toLowerCase())&&w()},[r,s,w]);const y=async k=>{if(k.length===0)return;const T=k[0],_=new FormData;_.append("file",T);try{u(!0);const z=await(await fetch("/upload_hr_doc",{method:"POST",credentials:"include",body:_})).json();a(z.message||z.error||"Upload failed."),u(!1),w()}catch(P){console.error("Upload failed:",P),a("❌ Upload failed."),u(!1)}},E=async()=>{if(f)try{const T=await(await fetch("/api/hr_documents",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:f})})).json();a(T.message||T.error||"Delete failed."),w()}catch(k){console.error("Delete failed:",k),a("❌ Delete failed.")}finally{m(!1),g(null)}},{getRootProps:x,getInputProps:h,isDragActive:v}=q0({onDrop:y,accept:{"application/pdf":[],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[],"text/plain":[]},multiple:!1}),b=k=>k.endsWith(".pdf")?"📕":k.endsWith(".docx")?"📘":k.endsWith(".txt")?"📄":"📁";return r&&!s.includes(r.toLowerCase())?i.createElement("div",{className:"p-6 text-center text-red-600"},"🚫 You are not authorized to access this page."):i.createElement("div",{className:"min-h-screen w-[100%] bg-gray-50 p-10"},i.createElement("div",{className:"max-w-6xl mx-auto bg-white p-6 rounded-md shadow"},i.createElement("h1",{className:"text-2xl text-black font-semibold mb-6"},"📂 HR Knowledge Base"),i.createElement("div",{...x(),className:`border-2 border-dashed rounded-md p-8 text-center mb-6 cursor-pointer transition ${v?"border-purple-600 bg-purple-50":"border-purple-400"}`},i.createElement("input",{...h()}),i.createElement("p",{className:"text-sm text-gray-500 mb-2"},v?"📥 Drop the file here...":"Click or drag a PDF, DOCX, or TXT file to upload."),i.createElement("button",{type:"button",disabled:c,className:"bg-[#BD945B] hover:bg-[#d4a665] disabled:opacity-50 text-black px-4 py-2 rounded"},c?"Uploading...":"Select File"),n&&i.createElement("p",{className:"mt-2 text-sm text-green-600"},n)),i.createElement("div",{className:"overflow-x-auto"},i.createElement("table",{className:"min-w-full bg-white border border-gray-200 rounded-md"},i.createElement("thead",{className:"bg-gray-100 text-sm"},i.createElement("tr",null,i.createElement("th",{className:"p-3 text-left text-black font-medium"},"📄 File"),i.createElement("th",{className:"p-3 text-left text-black font-medium"},"📦 Size (KB)"),i.createElement("th",{className:"p-3 text-left text-black font-medium"},"📅 Indexed"),i.createElement("th",{className:"p-3 text-left text-black font-medium"},"👤 Uploaded By"),i.createElement("th",{className:"p-3 text-right text-black font-medium"},"🗑️ Action"))),i.createElement("tbody",null,e.length>0?e.map((k,T)=>i.createElement("tr",{key:T,className:"border-t text-black text-sm hover:bg-gray-50"},i.createElement("td",{className:"p-3"},b(k.name)," ",k.name),i.createElement("td",{className:"p-3"},k.size_kb),i.createElement("td",{className:"p-3"},k.updated),i.createElement("td",{className:"p-3"},k.uploader||"-"),i.createElement("td",{className:"p-3 text-right"},i.createElement("button",{onClick:()=>{g(k.name),m(!0)},className:"text-red-600 hover:underline text-xs"},"Delete")))):i.createElement("tr",null,i.createElement("td",{colSpan:"5",className:"p-4 text-center text-gray-500 italic"},"No indexed documents found.")))))),i.createElement(F4,{isOpen:d,onClose:()=>m(!1),onConfirm:E,fileName:f}))}function V4(){const e=Pn();return i.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-100"},i.createElement("div",{className:"bg-white shadow-lg rounded-xl p-10 max-w-md text-center"},i.createElement("div",{className:"text-5xl text-red-500 mb-4"},"❌"),i.createElement("h1",{className:"text-2xl font-bold text-gray-800 mb-2"},"Unauthorized Domain"),i.createElement("p",{className:"text-gray-600 mb-6"},"You do not have access to this application with your current email domain."),i.createElement("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-700 transition"},"Go Back Home")))}const Aa={new:i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),chat:i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M4 4h16v12H5.17L4 17.17V4zm0-2a2 2 0 00-2 2v20l4-4h14a2 2 0 002-2V4a2 2 0 00-2-2H4z"})),search:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79L20 21.5 21.5 20 15.5 14zM9.5 14a4.5 4.5 0 110-9 4.5 4.5 0 010 9z"})),close:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M18.3 5.71L12 12m0 0L5.7 5.7M12 12l6.3 6.3M12 12L5.7 18.3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}))};function zl(e){if(!e)return"";const t=new Date(e),n=new Date;return t.toDateString()===n.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString()}function B4({isOpen:e,onClose:t,onSelectChat:n,onNewChat:a}){const[r,o]=p.useState(""),[s,l]=p.useState([]),[c,u]=p.useState({section:"special",index:0}),d=p.useRef(null);p.useEffect(()=>{e&&(async()=>{try{const E=await(await fetch("/api/chats",{credentials:"include",cache:"no-store"})).json(),x=Array.isArray(E)?E:(E==null?void 0:E.chats)||[];l(x)}catch{l([])}})()},[e]),p.useEffect(()=>{if(!e)return;const y=setTimeout(()=>{var x;return(x=d.current)==null?void 0:x.focus()},0),E=x=>{x.key==="Escape"&&t(),x.key==="ArrowDown"&&(x.preventDefault(),g(1)),x.key==="ArrowUp"&&(x.preventDefault(),g(-1)),x.key==="Enter"&&(x.preventDefault(),w())};return window.addEventListener("keydown",E),()=>{clearTimeout(y),window.removeEventListener("keydown",E)}},[e,c,s,r]);const m=p.useMemo(()=>{const y=r.trim().toLowerCase(),E=y?s.filter(k=>String(k.title||k.name||k.id).toLowerCase().includes(y)):s,x=Date.now(),h=7*24*60*60*1e3,v=30*24*60*60*1e3,b={last7:[],last30:[],older:[]};for(const k of E){const T=new Date(k.updated_at||k.created_at||0).getTime(),_=x-T;_<=h?b.last7.push(k):_<=v?b.last30.push(k):b.older.push(k)}return b},[s,r]),f=p.useMemo(()=>{const y=[];y.push({section:"special",index:0});for(const E of["last7","last30","older"]){const x=m[E];for(let h=0;h<x.length;h++)y.push({section:E,index:h})}return y},[m]);function g(y){const E=f.findIndex(h=>h.section===c.section&&h.index===c.index),x=Math.max(0,Math.min(f.length-1,E+y));u(f[x])}function w(){const{section:y,index:E}=c;if(y==="special"){t(),a==null||a();return}const x=y==="last7"?m.last7[E]:y==="last30"?m.last30[E]:m.older[E];if(x){t();const h=x.id||x.chat_id||x._id;n==null||n(h)}}return e?i.createElement("div",{className:"fixed inset-0 z-[100] flex items-start justify-center p-4"},i.createElement("div",{className:"absolute inset-0 bg-black/50",onClick:t}),i.createElement("div",{className:"relative mt-16 w-full max-w-2xl rounded-2xl bg-[#111827] shadow-2xl border border-white/10 overflow-hidden"},i.createElement("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-white/10"},i.createElement("span",{className:"text-white/70"},Aa.search),i.createElement("input",{ref:d,value:r,onChange:y=>o(y.target.value),placeholder:"Search chats...",className:"flex-1 bg-transparent text-white outline-none placeholder-white/50"}),i.createElement("button",{onClick:t,className:"text-white/60 hover:text-white"},Aa.close)),i.createElement("div",{className:"max-h-[60vh] overflow-y-auto p-1"},i.createElement(lo,{active:c.section==="special",icon:Aa.new,title:"New chat",onClick:()=>{t(),a==null||a()}}),i.createElement(Fl,{title:"Previous 7 Days",show:m.last7.length>0}),m.last7.map((y,E)=>i.createElement(lo,{key:(y.id||y._id||y.chat_id)+"-7",active:c.section==="last7"&&c.index===E,icon:Aa.chat,title:y.title||y.name||`Chat ${y.id||y._id||y.chat_id}`,meta:zl(y.updated_at||y.created_at),onClick:()=>{t(),n==null||n(y.id||y._id||y.chat_id)}})),i.createElement(Fl,{title:"Previous 30 Days",show:m.last30.length>0}),m.last30.map((y,E)=>i.createElement(lo,{key:(y.id||y._id||y.chat_id)+"-30",active:c.section==="last30"&&c.index===E,icon:Aa.chat,title:y.title||y.name||`Chat ${y.id||y._id||y.chat_id}`,meta:zl(y.updated_at||y.created_at),onClick:()=>{t(),n==null||n(y.id||y._id||y.chat_id)}})),i.createElement(Fl,{title:"Older",show:m.older.length>0}),m.older.map((y,E)=>i.createElement(lo,{key:(y.id||y._id||y.chat_id)+"-o",active:c.section==="older"&&c.index===E,icon:Aa.chat,title:y.title||y.name||`Chat ${y.id||y._id||y.chat_id}`,meta:zl(y.updated_at||y.created_at),onClick:()=>{t(),n==null||n(y.id||y._id||y.chat_id)}})),m.last7.length+m.last30.length+m.older.length===0&&i.createElement("div",{className:"px-4 py-6 text-sm text-white/60"},"No chats found.")))):null}function Fl({title:e,show:t}){return t?i.createElement("div",{className:"px-4 pt-3 pb-1 text-[11px] uppercase tracking-wide text-white/40"},e):null}function lo({active:e,icon:t,title:n,meta:a,onClick:r}){return i.createElement("button",{onClick:r,className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left transition
        ${e?"bg-white/10 text-white":"text-white/90 hover:bg-white/5"}`},i.createElement("span",{className:"text-white/80"},t),i.createElement("div",{className:"flex-1 min-w-0"},i.createElement("div",{className:"truncate"},n),a&&i.createElement("div",{className:"truncate text-xs text-white/60"},a)))}const Il="app:scope:set",Da=()=>{},$4=(e,t)=>e.length===t.length&&e.every((n,a)=>n===t[a]),U4=(e,t)=>{const n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every(r=>e[r]===t[r])};function H4(e){if(!e)return"";const t=new Date(e),n=new Date;return t.toDateString()===n.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString()}const Ge={compose:i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",className:"icon","aria-hidden":"true"},i.createElement("path",{d:"M2.67 11.333V8.667c0-.923 0-1.655.049-2.244.049-.597.15-1.106.387-1.572l.154-.275A3.33 3.33 0 0 1 5.03 3.02c.418-.179.872-.263 1.395-.305C7.013 2.668 7.745 2.667 8.667 2.667h.5c.367 0 .665.298.665.666s-.298.665-.665.665h-.5c-.944 0-1.612 0-2.135.042-.386.032-.659.085-.876.162l-.2.086a2 2 0 0 0-.864.982l-.103.184c-.126.247-.206.561-.248 1.075-.043.522-.043 1.191-.043 2.135v2.666c0 .944 0 1.613.042 2.135.042.515.122.83.248 1.077l.103.184c.257.418.624.758 1.064.982l.2.086c.217.077.49.13.876.162.523.042 1.191.043 2.135.043h2.667c.944 0 1.612 0 2.135-.043.514-.042.829-.122 1.076-.248l.184-.103c.418-.257.759-.624.982-1.064l.086-.2c.077-.217.13-.49.162-.876.043-.522.043-1.191.043-2.135v-.5c0-.367.298-.665.666-.665.367 0 .665.298.665.665v.5c0 .923 0 1.655-.048 2.244-.043.522-.126.976-.306 1.394l-.083.177a3.33 3.33 0 0 1-1.472 1.593l-.275.154c-.466.237-.975.339-1.572.387-.589.049-1.322.049-2.244.049H8.667c-.922 0-1.655 0-2.244-.049a5.35 5.35 0 0 1-1.394-.306l-.177-.083A3.33 3.33 0 0 1 3.26 15.424l-.154-.275c-.237-.466-.339-.975-.387-1.572-.049-.589-.049-1.322-.049-2.244ZM13.465 3.113c.956-.78 2.365-.724 3.255.166l.167.184c.728.892.728 2.179 0 3.07l-.167.185-5.047 5.048a3 3 0 0 1-1.944.73l-.317.058-1.818.259a.667.667 0 0 1-.564-.188.667.667 0 0 1-.17-.564l.259-1.817.058-.318a3 3 0 0 1 .9-1.943l5.047-5.048.185-.167c.33-.404.33-.988 0-1.392l-.085-.082ZM15.78 4.221c-.404-.404-1.043-.43-1.476-.076l-.084.076-5.047 5.048c-.357.357-.605.807-.716 1.297l-.039.212-.135.938.939-.134.212-.04a2 2 0 0 0 1.298-.716l5.047-5.048.076-.084c.33-.404.33-.988 0-1.392l-.077-.084Z"})),search:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16a6.47 6.47 0 0 0 4.23-1.57l.27.28v.79L20 21.5 21.5 20 15.5 14zm-6 0a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9z"})),auto:i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",className:"icon","aria-hidden":"true"},i.createElement("path",{d:"M7.916 11c1.52 0 2.789 1.072 3.095 2.5h5.655c.302.062.53.33.53.651s-.228.589-.53.651H11.01c-.305 1.429-1.575 2.5-3.095 2.5-1.52-.002-2.79-1.073-3.095-2.5H3.333a.667.667 0 1 1 0-1.334h1.488c.305-1.428 1.575-2.499 3.095-2.499Zm0 1.33c-1.013.002-1.835.824-1.835 1.667 0 1.014.822 1.835 1.835 1.835 1.014 0 1.836-.821 1.836-1.835 0-1.013-.822-1.835-1.836-1.835Zm4.167-8.333c1.52 0 2.79 1.072 3.095 2.5h1.488a.667.667 0 0 1 0 1.334H15.18c-.305 1.428-1.575 2.5-3.095 2.5-1.52 0-2.79-1.072-3.095-2.5H3.333a.667.667 0 1 1 0-1.334h4.655c.305-1.428 1.575-2.5 3.095-2.5Zm0 1.33c-1.013 0-1.835.822-1.835 1.666 0 1.014.822 1.836 1.835 1.836 1.014 0 1.836-.822 1.836-1.836 0-.844-.822-1.666-1.836-1.666Z"})),user:i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0 2c-4 0-8 2-8 6v2h16v-2c0-4-4-6-8-6z"})),check:i.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M9 16.2 5.5 12.7 4 14.2 9 19l11-11-1.5-1.5z"})),msCloud:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M7 18h10a4 4 0 0 0 0-8h-.2A6 6 0 0 0 5 9.5 3.5 3.5 0 0 0 7 18z"})),gDrive:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M7 4h5l5 8-5 8H7l5-8-5-8z"})),dropbox:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M7 3l5 3-5 3-5-3 5-3zm10 0l5 3-5 3-5-3 5-3zM2 13l5 3 5-3-5-3-5 3zm20 0l-5 3-5-3 5-3 5 3zM7 17l5 3 5-3-5-3-5 3z"})),box:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M3 7l9-5 9 5-9 5-9-5zm0 4l9 5 9-5v7l-9 5-9-5v-7z"})),mega:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.createElement("path",{d:"M7 15V9h2l3 3 3-3h2v6h-2v-3.5l-3 3-3-3V15H7z",fill:"#0b1324"})),mail:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M4 6h16a2 2 0 0 1 2 2v.2l-10 5.6L2 8.2V8a2 2 0 0 1 2-2zm0 4.4 8 4.5 8-4.5V16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-5.6z"})),calendar:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M7 2h2v2h6V2h2v2h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h3V2zm13 8H4v10h16V10z"})),teams:i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 48 48",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M20 14a6 6 0 1 1 0 12h-2v10c0 2.2 1.8 4 4 4h14a6 6 0 0 0 6-6V20h-6a6 6 0 0 1-6-6v-6H22a2 2 0 0 0-2 2v4h0Z",opacity:".2"}),i.createElement("rect",{x:"10",y:"14",width:"14",height:"20",rx:"3"}),i.createElement("circle",{cx:"36",cy:"12",r:"6"}),i.createElement("path",{d:"M14 18h10v4h-3v12h-4V22h-3v-4Z",fill:"#0b1324"})),sparkle:i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M12 2l2.5 6.5L21 11l-6.5 2.5L12 20l-2.5-6.5L3 11l6.5-2.5L12 2zM5 20l1.5-3.5L10 15l-3.5-1.5L5 10l-1.5 3.5L0 15l3.5 1.5L5 20zM24 9l-1-2.5L20.5 5 19 2l-1.5 3L14 5l3.5 1.5L19 10l1.5-3L24 9z"})),workspace:i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"}))},Rt=({on:e})=>i.createElement("span",{className:`inline-block h-2 w-2 rounded-full ${e?"bg-emerald-400":"bg-white/40"}`});function Uf({onNewChat:e=Da,onSelectChat:t=Da,activeChatId:n,refreshFlag:a,onOpenProfile:r=Da,onLogout:o=Da,onScopeChange:s=Da,onActiveSourcesChange:l=Da,selectedScope:c}){const[u,d]=p.useState(null),[m,f]=p.useState([]),[g,w]=p.useState({}),[y,E]=p.useState(""),[x,h]=p.useState(!1),v=p.useRef(null),[b,k]=p.useState(!1),[T,_]=p.useState("all"),P=c||T,z=()=>{window.location.href="/pricing"},D=()=>{window.location.href="/workspace"};p.useEffect(()=>{(async()=>{try{const V=await fetch("/api/profile",{credentials:"include",cache:"no-store"});d(await V.json())}catch{}})()},[]),p.useEffect(()=>{(async()=>{try{const N=await(await fetch("/api/chats",{credentials:"include",cache:"no-store"})).json();f(Array.isArray(N)?N:(N==null?void 0:N.chats)||[])}catch{f([])}})()},[a]),p.useEffect(()=>{(async()=>{try{const N=await(await fetch("/api/connections",{credentials:"include",cache:"no-store"})).json();w(I(N))}catch{w({})}})()},[]),p.useEffect(()=>{(async()=>{var V;try{const N=await fetch("/api/workspaces/me",{credentials:"include",cache:"no-store"});if(N.ok){const F=await N.json();E(((V=F==null?void 0:F.workspace)==null?void 0:V.name)||"")}else E("")}catch{E("")}})()},[]),p.useEffect(()=>{if(!x)return;const V=N=>{v.current&&(v.current.contains(N.target)||h(!1))};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[x]);function C(V){const N=String(V||"").toLowerCase().trim(),F=N.replace(/[\s_.-]+/g,"");return{microsoft:"microsoft",ms:"microsoft",sharepoint:"sharepoint",mssharepoint:"sharepoint",onedrive:"onedrive",msonedrive:"onedrive",google:"google",googledrive:"google",gdrive:"google",googledrivefiles:"google",google_drive:"google",dropbox:"dropbox",box:"box",mega:"mega",outlook:"outlook",outlookcalendar:"outlook_calendar",gmail:"gmail",googlecalendar:"google_calendar",teams:"teams"}[F]||N}function I(V){const N={},F=Array.isArray(V)?V:Array.isArray(V==null?void 0:V.connections)?V.connections:null;if(F){for(const q of F){const ne=C(q.provider||q.type||q.name),ie=q.connected??q.is_connected??q.active??(q.status==="connected"||q.status===!0);ne&&(N[ne]=!!ie)}return("onedrive"in N||"sharepoint"in N)&&(N.microsoft=N.microsoft||N.onedrive||N.sharepoint),N.microsoft&&("outlook"in N||(N.outlook=!0),"outlook_calendar"in N||(N.outlook_calendar=!0),!("teams"in N)&&(N.sharepoint||N.onedrive)&&(N.teams=!0)),N.google&&("gmail"in N||(N.gmail=!0),"google_calendar"in N||(N.google_calendar=!0)),N}if(V&&typeof V=="object")for(const q of Object.keys(V))N[C(q)]=!!V[q];return N}const O=(V,N=g)=>{switch(V){case"sharepoint":return!!(N.sharepoint||N.microsoft);case"onedrive":return!!(N.onedrive||N.microsoft);case"google":return!!N.google;case"dropbox":return!!N.dropbox;case"box":return!!N.box;case"mega":return!!N.mega;case"outlook":return!!(N.outlook||N.microsoft||N.sharepoint||N.onedrive);case"outlook_calendar":return!!(N.outlook_calendar||N.outlook||N.microsoft);case"gmail":return!!(N.gmail||N.google);case"google_calendar":return!!(N.google_calendar||N.google);case"teams":return!!(N.teams||N.microsoft||N.sharepoint||N.onedrive);default:return!0}},j=["sharepoint","onedrive","google","dropbox","box","mega"],G=(V,N)=>V!=="all"?[V]:j.filter(F=>O(F,N)),K=(V,N)=>{const F={sp:!1,od:!1,gd:!1,dbx:!1,box:!1,mega:!1,ol:!1,ocal:!1,gm:!1,gcal:!1,teams:!1},q=ne=>{const ie=O(ne,N);ne==="sharepoint"&&(F.sp=ie),ne==="onedrive"&&(F.od=ie),ne==="google"&&(F.gd=ie),ne==="dropbox"&&(F.dbx=ie),ne==="box"&&(F.box=ie),ne==="mega"&&(F.mega=ie),ne==="outlook"&&(F.ol=ie),ne==="outlook_calendar"&&(F.ocal=ie),ne==="gmail"&&(F.gm=ie),ne==="google_calendar"&&(F.gcal=ie),ne==="teams"&&(F.teams=ie)};return V==="all"?j.forEach(q):q(V),F},oe=p.useRef(P),S=p.useRef(G(P,g)),R=p.useRef(K(P,g));p.useEffect(()=>{const V=G(P,g),N=K(P,g),F=oe.current!==P,q=!$4(S.current,V),ne=!U4(R.current,N);F&&s(P),q&&l(V),ne&&(sessionStorage.setItem("src_sp",N.sp?"1":"0"),sessionStorage.setItem("src_od",N.od?"1":"0"),sessionStorage.setItem("src_gd",N.gd?"1":"0"),sessionStorage.setItem("src_dbx",N.dbx?"1":"0"),sessionStorage.setItem("src_box",N.box?"1":"0"),sessionStorage.setItem("src_mega",N.mega?"1":"0"),sessionStorage.setItem("src_ol",N.ol?"1":"0"),sessionStorage.setItem("src_ocal",N.ocal?"1":"0"),sessionStorage.setItem("src_gm",N.gm?"1":"0"),sessionStorage.setItem("src_gcal",N.gcal?"1":"0"),sessionStorage.setItem("src_teams",N.teams?"1":"0"),window.dispatchEvent(new CustomEvent("sources:sync",{detail:N}))),oe.current=P,S.current=V,R.current=N},[P,g]);const B=V=>{window.dispatchEvent(new CustomEvent(Il,{detail:{scope:V,source:"sidebar"}}))};p.useEffect(()=>{const V=N=>{var ne,ie;const F=(ne=N==null?void 0:N.detail)==null?void 0:ne.scope,q=(ie=N==null?void 0:N.detail)==null?void 0:ie.source;!F||q==="sidebar"||F!==P&&(c||_(F))};return window.addEventListener(Il,V),()=>window.removeEventListener(Il,V)},[P,c]);const U=V=>{c||_(V),B(V)},X=({icon:V,children:N,active:F,onClick:q,right:ne,disabled:ie})=>i.createElement("div",{role:"button",tabIndex:ie?-1:0,onClick:()=>{!ie&&typeof q=="function"&&q()},onKeyDown:pe=>{!ie&&(pe.key==="Enter"||pe.key===" ")&&(q==null||q())},className:`w-full flex items-center justify-between gap-3 rounded-lg px-3 py-2 text-sm transition
        ${ie?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        ${F?"bg-white/10 text-white ring-1 ring-white/20":ie?"text-white/60":"text-white/90 hover:bg-white/5"}
      `},i.createElement("span",{className:"opacity-90"},V),i.createElement("span",{className:"truncate"},N),i.createElement("span",{className:"ml-auto flex items-center gap-2"},ne));return i.createElement("aside",{id:"sidebar-root",className:"flex h-full w-[300px] flex-col bg-[#0b1324] text-white text-sm overflow-hidden"},i.createElement("div",{className:"px-2 pt-2 pb-2 border-b border-white/10"},i.createElement(X,{icon:Ge.compose,onClick:e},"New chat"),i.createElement(X,{icon:Ge.search,onClick:()=>k(!0)},"Search chats"),i.createElement("div",{className:"mt-2 mb-1 text-[11px] uppercase tracking-wide text-white/40 px-3"},"Connectors"),i.createElement("div",{className:"space-y-1"},i.createElement(X,{icon:Ge.auto,active:P==="all",onClick:()=>U("all"),right:i.createElement(Rt,{on:!0}),disabled:["sharepoint","onedrive","google","dropbox","box","mega"].every(V=>!O(V))},"Auto"),i.createElement(X,{icon:Ge.msCloud,active:P==="sharepoint",onClick:()=>U("sharepoint"),right:i.createElement(Rt,{on:O("sharepoint")}),disabled:!O("sharepoint")},"SharePoint"),i.createElement(X,{icon:Ge.msCloud,active:P==="onedrive",onClick:()=>U("onedrive"),right:i.createElement(Rt,{on:O("onedrive")}),disabled:!O("onedrive")},"OneDrive"),i.createElement(X,{icon:Ge.gDrive,active:P==="google",onClick:()=>U("google"),right:i.createElement(Rt,{on:O("google")}),disabled:!O("google")},"Google Drive"),i.createElement(X,{icon:Ge.dropbox,active:P==="dropbox",onClick:()=>U("dropbox"),right:i.createElement(Rt,{on:O("dropbox")}),disabled:!O("dropbox")},"Dropbox"),i.createElement(X,{icon:Ge.box,active:P==="box",onClick:()=>U("box"),right:i.createElement(Rt,{on:O("box")}),disabled:!O("box")},"Box"),i.createElement(X,{icon:Ge.mega,active:P==="mega",onClick:()=>U("mega"),right:i.createElement(Rt,{on:O("mega")}),disabled:!O("mega")},"MEGA"),i.createElement("div",{className:"mt-3 mb-1 text-[11px] uppercase tracking-wide text-white/40 px-3"},"Collaboration"),i.createElement(X,{icon:Ge.teams,active:P==="teams",onClick:()=>U("teams"),right:i.createElement(Rt,{on:O("teams")}),disabled:!O("teams")},"Microsoft Teams"),i.createElement("div",{className:"mt-3 mb-1 text-[11px] uppercase tracking-wide text-white/40 px-3"},"Mail & Calendars"),i.createElement(X,{icon:Ge.mail,active:P==="outlook",onClick:()=>U("outlook"),right:i.createElement(Rt,{on:O("outlook")}),disabled:!O("outlook")},"Outlook Mail"),i.createElement(X,{icon:Ge.mail,active:P==="gmail",onClick:()=>U("gmail"),right:i.createElement(Rt,{on:O("gmail")}),disabled:!O("gmail")},"Gmail"),i.createElement(X,{icon:Ge.calendar,active:P==="outlook_calendar",onClick:()=>U("outlook_calendar"),right:i.createElement(Rt,{on:O("outlook_calendar")}),disabled:!O("outlook_calendar")},"Outlook Calendar"),i.createElement(X,{icon:Ge.calendar,active:P==="google_calendar",onClick:()=>U("google_calendar"),right:i.createElement(Rt,{on:O("google_calendar")}),disabled:!O("google_calendar")},"Google Calendar"))),i.createElement("div",{className:"px-2"},i.createElement("div",{className:"text-[11px] uppercase tracking-wide text-white/40 px-3 pt-3"},"Chats")),b&&i.createElement(B4,{isOpen:b,onClose:()=>k(!1),onSelectChat:t,onNewChat:e}),i.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1"},m.map(V=>{const N=V.id||V.chat_id||V._id,F=V.title||V.name||`Chat ${N}`,q=V.updated_at||V.created_at||V.ts||V.time,ne=N===n;return i.createElement("button",{key:N,type:"button",onClick:()=>t(N),className:`w-full rounded-lg px-3 py-2 text-left transition border ${ne?"bg-white text-black border-white/10":"bg-white/5 text-white border-white/10 hover:bg-white/10"}`,"aria-current":ne?"true":"false"},i.createElement("div",{className:"flex items-center justify-between gap-2"},i.createElement("div",{className:"truncate text-sm font-medium"},F),i.createElement("div",{className:`shrink-0 text-[10px] ${ne?"text-black/70":"text-white/60"}`},H4(q))),V.last&&i.createElement("div",{className:`mt-0.5 truncate text-[11px] ${ne?"text-black/70":"text-white/60"}`},V.last))}),m.length===0&&i.createElement("div",{className:"px-2 py-3 text-xs text-white/60"},"No chats yet.")),i.createElement("div",{className:"relative border-t border-white/10 p-3",ref:v},i.createElement("button",{type:"button",onClick:()=>h(V=>!V),className:"flex w-full items-center gap-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-left hover:bg-white/10",title:"Account"},i.createElement("div",{className:"grid h-8 w-8 place-items-center overflow-hidden rounded-full bg-white/10"},u!=null&&u.avatar_url?i.createElement("img",{src:u.avatar_url,alt:"avatar",className:"h-full w-full object-cover"}):i.createElement("span",{className:"text-sm font-semibold text-white/80"},((u==null?void 0:u.name)||(u==null?void 0:u.email)||"U").charAt(0).toUpperCase())),i.createElement("div",{className:"min-w-0"},i.createElement("div",{className:"truncate text-sm text-white"},(u==null?void 0:u.name)||"Your profile"),i.createElement("div",{className:"truncate text-[11px] text-white/60"},(u==null?void 0:u.email)||"Personal account")),i.createElement("div",{className:"ml-auto opacity-60"},i.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M7 10l5 5 5-5"})))),x&&i.createElement("div",{className:"absolute bottom-14 left-3 right-3 z-50 rounded-xl border border-white/10 bg-[#111827] shadow-xl overflow-hidden"},i.createElement("div",{className:"px-3 py-2 text-[11px] uppercase tracking-wide text-white/40"},"Account"),i.createElement("button",{type:"button",onClick:()=>{h(!1),z()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-white/90 hover:bg-white/5"},i.createElement("span",{className:"grid place-items-center h-7 w-7 rounded-full bg-white/10"},Ge.sparkle),i.createElement("div",{className:"min-w-0 text-left"},i.createElement("div",{className:"truncate"},"Upgrade plan"),i.createElement("div",{className:"text-[11px] text-white/60 truncate"},"View pricing & manage billing"))),i.createElement("button",{type:"button",onClick:()=>{h(!1),D()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-white/90 hover:bg-white/5"},i.createElement("span",{className:"grid place-items-center h-7 w-7 rounded-full bg-white/10"},Ge.workspace),i.createElement("div",{className:"min-w-0 text-left"},i.createElement("div",{className:"truncate"},y||"Workspace"),i.createElement("div",{className:"text-[11px] text-white/60 truncate"},y?"Manage members & seats":"Team workspace"))),i.createElement("button",{type:"button",onClick:r,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-white/90 hover:bg-white/5"},i.createElement("span",{className:"grid place-items-center h-7 w-7 rounded-full bg-white/10 overflow-hidden"},Ge.user),i.createElement("div",{className:"min-w-0 text-left"},i.createElement("div",{className:"truncate"},"Profile & Connections"),i.createElement("div",{className:"text-[11px] text-white/60 truncate"},(u==null?void 0:u.email)||""))),i.createElement("div",{className:"mx-3 my-2 h-px bg-white/10"}),i.createElement("div",{className:"px-3 pb-1 text-[11px] uppercase tracking-wide text-white/40"},"You"),i.createElement("div",{className:"flex items-center gap-2 px-3 py-2 text-sm"},i.createElement("span",{className:"grid place-items-center h-7 w-7 rounded-full bg-white/10"},Ge.user),i.createElement("div",{className:"min-w-0"},i.createElement("div",{className:"text-white/90"},"Personal account"),i.createElement("div",{className:"text-[11px] text-white/60"},(u==null?void 0:u.email)||"")),i.createElement("span",{className:"ml-auto text-white/70"},Ge.check)),i.createElement("div",{className:"mx-3 my-2 h-px bg-white/10"}),i.createElement("button",{type:"button",onClick:()=>{h(!1),r()},className:"w-full text-left px-3 py-2 text-sm text-white/90 hover:bg-white/5"},"Settings"),i.createElement("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm text-white/90 hover:bg-white/5"},"Help"),i.createElement("div",{className:"mx-3 my-2 h-px bg-white/10"}),i.createElement("button",{type:"button",onClick:o,className:"w-full text-left px-3 py-2 text-sm text-white/90 hover:bg-white/5"},"Log out"))))}function xx({me:e,connections:t=[],onClose:n}){var et,At,fe,We,yr,wr,Us,na,ji,ge,aa,Oi,Ve,Er,zi,Vd,Bd,$d,Ud,Hd,Wd,Gd,qd,Kd,Yd,Qd,Xd,Zd,Jd,em,tm,nm;const a=Pn(),[r,o]=p.useState("profile"),[s,l]=p.useState({type:"",msg:""});p.useEffect(()=>{if(!s.msg)return;const ee=setTimeout(()=>l({type:"",msg:""}),3500);return()=>clearTimeout(ee)},[s]);const c=ee=>l({type:"ok",msg:ee}),u=ee=>l({type:"err",msg:ee}),[d,m]=p.useState((e==null?void 0:e.name)||""),[f,g]=p.useState((e==null?void 0:e.avatar_url)||""),[w,y]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const Z=await(await fetch("/api/profile",{credentials:"include"})).json();m(((Z==null?void 0:Z.name)||(e==null?void 0:e.name)||"").trim()),g((Z==null?void 0:Z.avatar_url)||(e==null?void 0:e.avatar_url)||"")}catch{}})()},[]);const E=async ee=>{var Ae;const Z=(Ae=ee.target.files)==null?void 0:Ae[0];if(Z){g(URL.createObjectURL(Z));try{const Dt=new FormData;if(Dt.append("avatar",Z),!(await fetch("/api/profile/avatar",{method:"POST",credentials:"include",body:Dt})).ok)throw new Error;c("Avatar updated."),window.dispatchEvent(new Event("profile:changed"))}catch{u("Couldn't upload avatar. Try again.")}}},x=async()=>{const ee=(d||"").trim();if(!ee){u("Name cannot be empty.");return}y(!0);try{if(!(await fetch("/api/profile",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ee})})).ok)throw new Error;c("Profile saved."),window.dispatchEvent(new Event("profile:changed"))}catch{u("Couldn't save profile.")}finally{y(!1)}},[h,v]=p.useState({current:"",next:"",confirm:""}),[b,k]=p.useState(!1),[T,_]=p.useState(!1),P=async()=>{if(!h.current||!h.next||!h.confirm)return u("Please complete all fields.");if(h.next!==h.confirm)return u("New passwords do not match.");k(!0);try{if(!(await fetch("/api/security/change_password",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:h.current,new_password:h.next})})).ok)throw new Error;v({current:"",next:"",confirm:""}),c("Password changed.")}catch{u("Couldn't change password.")}finally{k(!1)}},[z,D]=p.useState({enabled:!1,loading:!0,qr:"",secret:"",otpauth_url:"",verifyCode:""}),[C,I]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const Z=await(await fetch("/api/security/2fa/status",{credentials:"include"})).json().catch(()=>({}));D(Ae=>({...Ae,enabled:!!Z.enabled,loading:!1}))}catch{D(ee=>({...ee,loading:!1}))}})()},[]);const O=async()=>{I(!0);try{const ee=await fetch("/api/security/2fa/setup",{method:"POST",credentials:"include"}),Z=await ee.json().catch(()=>({}));if(!ee.ok||!(Z!=null&&Z.qr_svg||Z!=null&&Z.otpauth_url))throw new Error;D(Ae=>({...Ae,qr:Z.qr_svg||"",secret:Z.secret||"",otpauth_url:Z.otpauth_url||"",enabled:!1})),o("security"),c("Scan the QR with an authenticator, then enter the 6-digit code.")}catch{u("Couldn't start 2FA setup.")}finally{I(!1)}},j=async()=>{if(z.verifyCode){I(!0);try{if(!(await fetch("/api/security/2fa/verify",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:z.verifyCode})})).ok)throw new Error;D(Z=>({...Z,enabled:!0,qr:"",secret:"",otpauth_url:"",verifyCode:""})),c("Two-factor authentication enabled.")}catch{u("Invalid code. Try again.")}finally{I(!1)}}},G=async()=>{I(!0);try{if(!(await fetch("/api/security/2fa/disable",{method:"POST",credentials:"include"})).ok)throw new Error;D(Z=>({...Z,enabled:!1,qr:"",secret:"",otpauth_url:"",verifyCode:""})),c("Two-factor authentication disabled.")}catch{u("Couldn't disable 2FA.")}finally{I(!1)}},[K,oe]=p.useState({value:"•••• •••• •••• ••••",masked:!0,loading:!0,exists:!1}),[S,R]=p.useState(!1),[B,U]=p.useState([]),[X,V]=p.useState(!0);p.useEffect(()=>{(async()=>{try{const Z=await(await fetch("/api/profile/api_token",{credentials:"include"})).json().catch(()=>({})),Ae=!!(Z!=null&&Z.token)||!!(Z!=null&&Z.exists);oe({value:Ae?"•••• •••• •••• ••••":"No token yet",masked:!0,loading:!1,exists:Ae})}catch{oe({value:"Unavailable",masked:!0,loading:!1,exists:!1})}try{const Z=await(await fetch("/api/auth/sessions",{credentials:"include"})).json().catch(()=>({}));U(Array.isArray(Z==null?void 0:Z.sessions)?Z.sessions:[])}catch{}finally{V(!1)}})()},[]);const N=async()=>{if(!K.masked){oe(ee=>({...ee,masked:!0}));return}R(!0);try{const ee=await fetch("/api/profile/api_token",{credentials:"include"}),Z=await ee.json().catch(()=>({}));if(!ee.ok||!(Z!=null&&Z.token))throw new Error;oe({value:Z.token,masked:!1,loading:!1,exists:!0})}catch{u("Couldn't load token.")}finally{R(!1)}},F=async()=>{try{await navigator.clipboard.writeText(K.value),c("Token copied.")}catch{u("Clipboard blocked.")}},q=async()=>{R(!0);try{const ee=await fetch("/api/profile/api_token/rotate",{method:"POST",credentials:"include"}),Z=await ee.json().catch(()=>({}));if(!ee.ok||!(Z!=null&&Z.token))throw new Error;oe({value:Z.token,masked:!1,loading:!1,exists:!0}),c("Token rotated.")}catch{u("Couldn't rotate token.")}finally{R(!1)}},ne=async()=>{V(!0);try{if(!(await fetch("/api/auth/sessions/revoke_others",{method:"POST",credentials:"include"})).ok)throw new Error;const Ae=await(await fetch("/api/auth/sessions",{credentials:"include"})).json().catch(()=>({}));U(Array.isArray(Ae==null?void 0:Ae.sessions)?Ae.sessions:[]),c("Signed out on other devices.")}catch{u("Couldn't revoke sessions.")}finally{V(!1)}},[ie,pe]=p.useState(localStorage.getItem("theme")||"system"),[me,ke]=p.useState(localStorage.getItem("pref.useAllSources")!=="0");p.useEffect(()=>{localStorage.setItem("pref.useAllSources",me?"1":"0")},[me]),p.useEffect(()=>{localStorage.setItem("theme",ie);const ee=ie==="dark"||ie==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",!!ee),window.dispatchEvent(new Event("theme:change"))},[ie]);const[Te,ct]=p.useState(t),le=p.useMemo(()=>{const ee={};for(const Z of Te||[])ee[Z.provider]=Z;return ee},[Te]);p.useEffect(()=>{ct(t||[])},[t]);const Ze=!!((et=le.sharepoint)!=null&&et.connected||(At=le.onedrive)!=null&&At.connected||(fe=le.outlook)!=null&&fe.connected||(We=le.outlook_calendar)!=null&&We.connected||(yr=le.teams)!=null&&yr.connected),ut=((wr=le.sharepoint)==null?void 0:wr.account_email)||((Us=le.onedrive)==null?void 0:Us.account_email)||((na=le.outlook)==null?void 0:na.account_email)||((ji=le.outlook_calendar)==null?void 0:ji.account_email)||((ge=le.teams)==null?void 0:ge.account_email)||"",He=!!((aa=le.google_drive)!=null&&aa.connected||(Oi=le.gmail)!=null&&Oi.connected||(Ve=le.google_calendar)!=null&&Ve.connected),Ce=((Er=le.google_drive)==null?void 0:Er.account_email)||((zi=le.gmail)==null?void 0:zi.account_email)||((Vd=le.google_calendar)==null?void 0:Vd.account_email)||"",ve=ee=>{window.dispatchEvent(new CustomEvent("connections:open",{detail:{initial:ee}})),n==null||n()},Je=()=>ve("sharepoint"),Lt=()=>ve("onedrive"),Q=()=>ve("google"),J=()=>ve("dropbox"),H=()=>ve("box"),Y=()=>ve("mega"),A=()=>ve("teams"),M=()=>ve("slack"),L=()=>ve("outlook"),W=()=>ve("outlook_calendar"),ae=()=>ve("gmail"),ce=()=>ve("google_calendar"),re=({children:ee})=>i.createElement("div",{className:"text-xs font-semibold theme-text opacity-70"},ee),Le=({icon:ee,label:Z,active:Ae,onClick:Dt})=>i.createElement("button",{onClick:Dt,className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-xs transition ${Ae?"bg-white text-black":"border theme-border theme-text hover:bg-black/5"}`},i.createElement("span",{className:"text-sm"},ee),Z),dt=({label:ee,v:Z,onChange:Ae,show:Dt})=>i.createElement("div",null,i.createElement("div",{className:"text-xs theme-text opacity-70"},ee),i.createElement("input",{type:Dt?"text":"password",value:Z,onChange:am=>Ae(am.target.value),className:"mt-1 w-full rounded-xl border theme-border theme-card theme-text px-3 py-2 text-sm outline-none focus:ring focus:ring-indigo-500/20",placeholder:ee})),ye=({active:ee,onClick:Z,icon:Ae,label:Dt})=>i.createElement("button",{onClick:Z,className:`inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm ${ee?"bg-white text-black":"border theme-border theme-text hover:bg-black/5"}`},i.createElement("span",null,Ae),Dt);return i.createElement("div",{className:"fixed inset-0 z-[80] flex items-center justify-center"},i.createElement("div",{className:"absolute inset-0 bg-black/60",onClick:n}),i.createElement("div",{className:"relative z-[81] w-full max-w-3xl overflow-hidden rounded-2xl border theme-border theme-tint shadow-2xl backdrop-blur-xl"},i.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b theme-border"},i.createElement("div",{className:"flex items-center gap-3"},i.createElement("div",{className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-indigo-600 to-indigo-400 text-black font-bold"},((e==null?void 0:e.name)||(e==null?void 0:e.email)||"U").charAt(0).toUpperCase()),i.createElement("div",null,i.createElement("div",{className:"text-sm font-semibold theme-text"},(e==null?void 0:e.name)||"Your profile"),i.createElement("div",{className:"text-xs theme-text opacity-70"},(e==null?void 0:e.email)||"Unknown email"))),i.createElement("button",{onClick:n,className:"rounded-full p-2 hover:bg-black/5","aria-label":"Close"},i.createElement(Uc,{className:"theme-text"}))),i.createElement("div",{className:"px-6 pt-3"},i.createElement("div",{className:"flex flex-wrap gap-2"},i.createElement(Le,{icon:i.createElement(T0,null),label:"Profile",active:r==="profile",onClick:()=>o("profile")}),i.createElement(Le,{icon:i.createElement($E,null),label:"Security",active:r==="security",onClick:()=>o("security")}),i.createElement(Le,{icon:i.createElement(Np,null),label:"Preferences",active:r==="prefs",onClick:()=>o("prefs")}),i.createElement(Le,{icon:i.createElement(OE,null),label:"API & Sessions",active:r==="api",onClick:()=>o("api")}))),i.createElement("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4 theme-text"},r==="profile"&&i.createElement("section",{className:"space-y-6"},i.createElement("div",{className:"flex items-start gap-4"},i.createElement("div",{className:"relative"},i.createElement("div",{className:"h-20 w-20 rounded-full ring-2 theme-border overflow-hidden theme-tint"},f?i.createElement("img",{src:f,alt:"avatar",className:"h-full w-full object-cover"}):null),i.createElement("label",{className:"absolute -bottom-1 -right-1 grid h-8 w-8 place-items-center rounded-full bg-white text-black shadow cursor-pointer"},i.createElement(ME,null),i.createElement("input",{type:"file",accept:"image/*",className:"hidden",onChange:E}))),i.createElement("div",{className:"flex-1"},i.createElement(re,null,"Display name"),i.createElement("input",{value:d,onChange:ee=>m(ee.target.value),className:"mt-1 w-full rounded-xl border theme-border theme-card theme-text px-3 py-2 text-sm outline-none focus:ring focus:ring-indigo-500/20",placeholder:"Your name"}),i.createElement("div",{className:"mt-3 flex gap-2"},i.createElement("button",{onClick:x,disabled:w||!d.trim(),className:"rounded-xl bg-white px-4 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},w?"Saving…":"Save changes"),i.createElement("button",{onClick:()=>{navigator.clipboard.writeText((e==null?void 0:e.id)||""),c("User ID copied.")},className:"inline-flex items-center gap-2 rounded-xl border theme-border px-3 py-2 text-sm hover:bg-black/5"},i.createElement(Ep,{className:"opacity-80"})," Copy user ID")))),i.createElement("div",{className:"pt-2"},i.createElement(re,null,"Connections"),i.createElement("div",{className:"mt-2 grid grid-cols-1 gap-2 md:grid-cols-2"},i.createElement(jt,{icon:i.createElement(hd,{className:"text-teal-300"}),name:"SharePoint",connected:!!((Bd=le.sharepoint)!=null&&Bd.connected),email:($d=le.sharepoint)==null?void 0:$d.account_email,onOpen:Je}),i.createElement(jt,{icon:i.createElement(N0,{className:"text-sky-300"}),name:"OneDrive",connected:!!((Ud=le.onedrive)!=null&&Ud.connected),email:(Hd=le.onedrive)==null?void 0:Hd.account_email,onOpen:Lt}),i.createElement(jt,{icon:i.createElement(M0,{className:"text-purple-300"}),name:"Microsoft Teams",connected:!!((Wd=le.teams)!=null&&Wd.connected),email:(Gd=le.teams)==null?void 0:Gd.account_email,onOpen:A,helpText:"Search & summarize Teams messages and files."}),i.createElement(jt,{icon:i.createElement(s2,{className:"text-fuchsia-300"}),name:"Slack",connected:!!((qd=le.slack)!=null&&qd.connected),email:(Kd=le.slack)==null?void 0:Kd.account_email,onOpen:M,helpText:"Search Slack messages with links & timestamps."}),i.createElement(jt,{icon:i.createElement(L0,{className:"text-emerald-300"}),name:"Google Drive",connected:!!((Yd=le.google_drive)!=null&&Yd.connected),email:(Qd=le.google_drive)==null?void 0:Qd.account_email,onOpen:Q}),i.createElement(jt,{icon:i.createElement(fd,{className:"text-sky-400"}),name:"Dropbox",connected:!!((Xd=le.dropbox)!=null&&Xd.connected),email:(Zd=le.dropbox)==null?void 0:Zd.account_email,onOpen:J}),i.createElement(jt,{icon:i.createElement(pd,{className:"text-blue-400"}),name:"Box",connected:!!((Jd=le.box)!=null&&Jd.connected),email:(em=le.box)==null?void 0:em.account_email,onOpen:H}),i.createElement(jt,{icon:i.createElement(A0,{className:"text-rose-300"}),name:"MEGA",connected:!!((tm=le.mega)!=null&&tm.connected),email:(nm=le.mega)==null?void 0:nm.account_email,onOpen:Y,helpText:"Advanced setup in modal (session & links)."})),i.createElement("div",{className:"mt-4 grid grid-cols-1 gap-2 md:grid-cols-2"},i.createElement(jt,{icon:i.createElement(xi,{className:"text-sky-300"}),name:"Outlook Mail",connected:Ze,email:ut,onOpen:L}),i.createElement(jt,{icon:i.createElement(rs,{className:"text-sky-300"}),name:"Outlook Calendar",connected:Ze,email:ut,onOpen:W}),i.createElement(jt,{icon:i.createElement(xi,{className:"text-emerald-300"}),name:"Gmail",connected:He,email:Ce,onOpen:ae}),i.createElement(jt,{icon:i.createElement(rs,{className:"text-emerald-300"}),name:"Google Calendar",connected:He,email:Ce,onOpen:ce})),i.createElement("div",{className:"mt-3 text-xs theme-text opacity-70"},"Tip: You can also manage connections on the ",i.createElement("a",{href:"/dashboard",className:"underline"},"Dashboard"),"."))),r==="security"&&i.createElement("section",{className:"space-y-6"},i.createElement("div",null,i.createElement(re,null,"Change password"),i.createElement("div",{className:"mt-2 grid gap-2 md:grid-cols-3"},i.createElement(dt,{label:"Current",v:h.current,onChange:ee=>v(Z=>({...Z,current:ee})),show:T}),i.createElement(dt,{label:"New",v:h.next,onChange:ee=>v(Z=>({...Z,next:ee})),show:T}),i.createElement(dt,{label:"Confirm",v:h.confirm,onChange:ee=>v(Z=>({...Z,confirm:ee})),show:T})),i.createElement("div",{className:"mt-2 flex items-center gap-3"},i.createElement("button",{onClick:()=>_(ee=>!ee),className:"rounded-xl border theme-border px-3 py-2 text-sm hover:bg-black/5"},T?i.createElement(i.Fragment,null,i.createElement(bp,{className:"inline mr-1"})," Hide"):i.createElement(i.Fragment,null,i.createElement(kp,{className:"inline mr-1"})," Show")),i.createElement("button",{onClick:P,disabled:b,className:"rounded-xl bg-white px-4 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},b?"Saving…":"Update password"))),i.createElement("div",null,i.createElement(re,null,"Two-factor authentication"),i.createElement("div",{className:"mt-2 rounded-xl border theme-border p-3"},z.loading?i.createElement("div",{className:"text-sm theme-text opacity-70"},"Loading 2FA status…"):z.enabled?i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"text-sm theme-text"},"2FA is ",i.createElement("span",{className:"text-emerald-600"},"enabled"),"."),i.createElement("button",{onClick:G,disabled:C,className:"rounded-xl px-3 py-2 text-sm theme-text hover:bg-black/5 disabled:opacity-50 border theme-border"},"Disable 2FA")):z.qr?i.createElement(W4,{twoFA:z,setTwoFA:D,verify2FA:j,twoFABusy:C}):i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"text-sm theme-text"},"Protect your account with an authenticator app."),i.createElement("button",{onClick:O,disabled:C,className:"rounded-xl bg-white px-3 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},C?"Working…":"Enable 2FA")))),i.createElement(q4,{onExport:async()=>{try{const Z=await(await fetch("/api/account/export",{credentials:"include"})).blob(),Ae=URL.createObjectURL(Z),Dt=document.createElement("a");Dt.href=Ae,Dt.download="export.zip",Dt.click(),URL.revokeObjectURL(Ae),c("Export started.")}catch{u("Export not available.")}},onDelete:async()=>{if(prompt("Type DELETE to permanently delete your account.")==="DELETE")try{if(!(await fetch("/api/account",{method:"DELETE",credentials:"include"})).ok)throw new Error;c("Account deleted."),setTimeout(()=>a("/login",{replace:!0}),800)}catch{u("Couldn't delete account.")}}})),r==="prefs"&&i.createElement("section",{className:"space-y-5"},i.createElement("div",null,i.createElement(re,null,"Theme"),i.createElement("div",{className:"mt-2 flex flex-wrap gap-2"},i.createElement(ye,{active:ie==="system",onClick:()=>pe("system"),icon:i.createElement(FE,null),label:"System"}),i.createElement(ye,{active:ie==="light",onClick:()=>pe("light"),icon:i.createElement(Np,null),label:"Light"}),i.createElement(ye,{active:ie==="dark",onClick:()=>pe("dark"),icon:i.createElement(IE,null),label:"Dark"}))),i.createElement("div",null,i.createElement(re,null,"Search defaults"),i.createElement("div",{className:"mt-2 flex items-center justify-between rounded-xl border theme-border p-3"},i.createElement("div",{className:"text-sm theme-text"},"Use all connected sources by default"),i.createElement(G4,{checked:localStorage.getItem("pref.useAllSources")!=="0",onChange:ee=>localStorage.setItem("pref.useAllSources",ee?"1":"0")})))),r==="api"&&i.createElement("section",{className:"space-y-6"},i.createElement("div",{className:"rounded-xl border theme-border p-3"},i.createElement(re,null,"API token"),i.createElement("div",{className:"mt-2 flex flex-wrap items-center gap-2"},i.createElement("code",{className:"rounded-lg theme-tint px-3 py-2 text-sm theme-text"},K.value),i.createElement("button",{onClick:N,disabled:S,className:"rounded-xl border theme-border px-3 py-2 text-sm hover:bg-black/5"},K.masked?i.createElement(i.Fragment,null,i.createElement(kp,{className:"inline mr-1"})," Reveal"):i.createElement(i.Fragment,null,i.createElement(bp,{className:"inline mr-1"})," Hide")),i.createElement("button",{onClick:F,disabled:K.masked||S,className:"rounded-xl border theme-border px-3 py-2 text-sm hover:bg-black/5 disabled:opacity-50"},i.createElement(Ep,{className:"inline mr-1"})," Copy"),i.createElement("button",{onClick:q,disabled:S,className:"rounded-xl bg-white px-3 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},"Rotate")),!K.exists&&i.createElement("div",{className:"mt-2 text-xs theme-text opacity-70"},"No token yet — click ",i.createElement("b",null,"Rotate")," to create one.")),i.createElement("div",{className:"rounded-xl border theme-border p-3"},i.createElement("div",{className:"mb-2 flex items-center justify-between"},i.createElement(re,null,"Active sessions"),i.createElement("button",{onClick:ne,disabled:X,className:"rounded-xl bg-white px-3 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},"Sign out others")),X?i.createElement("div",{className:"text-sm theme-text opacity-70"},"Loading sessions…"):B.length===0?i.createElement("div",{className:"text-sm theme-text opacity-70"},"Only this device is signed in."):i.createElement("ul",{className:"divide-y theme-border"},B.map(ee=>i.createElement("li",{key:ee.id,className:"flex items-center justify-between py-2 text-sm"},i.createElement("div",{className:"flex items-center gap-2 theme-text"},i.createElement(UE,{className:"opacity-80"}),i.createElement("span",{className:"truncate max-w-[14rem]"},ee.user_agent||"Device")),i.createElement("div",{className:"theme-text opacity-70"},"Last active: ",ee.last_active?new Date(ee.last_active).toLocaleString():"—"))))))),i.createElement("div",{className:"flex items-center justify-end gap-2 border-t theme-border px-6 py-3"},i.createElement("button",{onClick:n,className:"rounded-xl px-4 py-2 text-sm font-semibold theme-text hover:bg-black/5 theme-card border theme-border"},"Close"))),s.msg&&i.createElement("div",{className:`fixed bottom-6 left-1/2 z-[90] -translate-x-1/2 rounded-xl border px-4 py-3 text-sm shadow-2xl ${s.type==="ok"?"bg-emerald-500/10 border-emerald-400/30 text-emerald-200":"bg-red-500/10 border-red-400/30 text-red-200"}`},s.msg))}function jt({icon:e,name:t,connected:n,email:a,onOpen:r,helpText:o}){return i.createElement("div",{className:"flex items-center justify-between rounded-xl border theme-border theme-card px-3 py-2 cursor-pointer",onClick:r,title:n?"Manage connection":"Connect"},i.createElement("div",{className:"flex min-w-0 items-center gap-2"},i.createElement("span",{className:"w-5 h-5 grid place-items-center"},e),i.createElement("div",{className:"min-w-0"},i.createElement("div",{className:"text-sm theme-text"},t),i.createElement("div",{className:"text-[11px] theme-text opacity-70 truncate"},a?`Connected as ${a}`:n?"Connected":"Not connected"),o&&i.createElement("div",{className:"text-[10px] theme-text opacity-60"},o))),i.createElement("span",{className:`h-2.5 w-2.5 rounded-full ${n?"bg-emerald-500":"bg-zinc-500"}`}))}function W4({twoFA:e,setTwoFA:t,verify2FA:n,twoFABusy:a}){return i.createElement("div",{className:"grid gap-3 md:grid-cols-[minmax(160px,220px),1fr]"},i.createElement("div",{className:`w-[160px] md:w-[220px] shrink-0 rounded-xl bg-white p-2 overflow-hidden\r
                   [&>svg]:block [&>svg]:w-full [&>svg]:h-auto [&>svg]:max-w-full`,dangerouslySetInnerHTML:{__html:e.qr}}),i.createElement("div",null,i.createElement("div",{className:"text-sm theme-text opacity-80"},"Scan the QR, then enter the 6-digit code to activate."),i.createElement("div",{className:"mt-2 text-xs theme-text opacity-70 break-words"},"Secret: ",i.createElement("code",{className:"px-1 py-0.5 rounded theme-tint"},e.secret||"—"),i.createElement("button",{onClick:()=>navigator.clipboard.writeText(e.secret||""),className:"ml-2 underline hover:opacity-80"},"Copy secret")),i.createElement("div",{className:"mt-1 text-xs theme-text opacity-70 break-words"},"otpauth: ",i.createElement("span",{className:"break-all"},e.otpauth_url||"—"),i.createElement("button",{onClick:()=>navigator.clipboard.writeText(e.otpauth_url||""),className:"ml-2 underline hover:opacity-80"},"Copy link")),i.createElement("input",{value:e.verifyCode,onChange:r=>t(o=>({...o,verifyCode:r.target.value.replace(/\D/g,"").slice(0,6)})),inputMode:"numeric",pattern:"[0-9]*",className:"mt-3 w-full rounded-xl border theme-border theme-card theme-text px-3 py-2 text-sm outline-none focus:ring focus:ring-indigo-500/20",placeholder:"123456"}),i.createElement("div",{className:"mt-2"},i.createElement("button",{onClick:n,disabled:a||e.verifyCode.length!==6,className:"rounded-xl bg-white px-3 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},a?"Verifying…":"Verify & Enable"))))}function G4({checked:e,onChange:t}){return i.createElement("label",{className:"relative inline-flex cursor-pointer items-center"},i.createElement("input",{type:"checkbox",className:"peer sr-only",checked:!!e,onChange:n=>t(n.target.checked)}),i.createElement("div",{className:"peer h-5 w-9 rounded-full bg-white/70 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:bg-white after:transition-all peer-checked:bg-emerald-500 peer-checked:after:translate-x-4"}))}function q4({onExport:e,onDelete:t}){return i.createElement("div",{className:"rounded-xl border border-red-500/30 theme-card p-3"},i.createElement("div",{className:"mb-2 text-xs font-semibold text-red-600"},"Danger zone"),i.createElement("div",{className:"flex flex-wrap gap-2"},i.createElement("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-xl border border-red-500/30 px-3 py-2 text-sm text-red-700 hover:bg-red-50"},i.createElement(DE,null)," Export my data"),i.createElement("button",{onClick:t,className:"inline-flex items-center gap-2 rounded-xl bg-red-600 px-3 py-2 text-sm font-semibold text-white hover:bg-red-500"},i.createElement(HE,null)," Delete account")))}function yx({open:e,onClose:t,initial:n="google"}){var H;const a=Q4(n),[r,o]=p.useState(!1),[s,l]=p.useState(!1),[c,u]=p.useState(""),[d,m]=p.useState(""),[f,g]=p.useState(""),[w,y]=p.useState([]),[E,x]=p.useState(""),[h,v]=p.useState(""),[b,k]=p.useState(!1),T=p.useMemo(()=>X4(a),[a]);p.useEffect(()=>{if(e){u(""),m(""),l(!1),(async()=>{try{o(!0);const A=await(await fetch("/check_login",{credentials:"include",cache:"no-store"})).json().catch(()=>({}));A!=null&&A.user_email&&g(A.user_email);const L=await(await fetch("/api/connections",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json().catch(()=>({}));y(Array.isArray(L==null?void 0:L.connections)?L.connections:[])}catch{u("Failed to load connection status.")}finally{o(!1)}})();try{const A=new URLSearchParams(window.location.search).get("connected");if(A){m(Z4(A));const M=new URL(window.location.href);M.searchParams.delete("connected"),window.history.replaceState({},"",M.toString())}}catch{}}},[e,a]);const _=Y=>w.find(A=>String(A.provider).toLowerCase()===Y),P=_("sharepoint"),z=_("onedrive"),D=_("outlook"),C=_("outlook_calendar"),I=_("teams");P!=null&&P.connected||z!=null&&z.connected||D!=null&&D.connected||C!=null&&C.connected;const O=(P==null?void 0:P.account_email)||(z==null?void 0:z.account_email)||(D==null?void 0:D.account_email)||(C==null?void 0:C.account_email)||(I==null?void 0:I.account_email)||"",j=_("google_drive")||_("google"),G=_("gmail"),K=_("google_calendar");j!=null&&j.connected||G!=null&&G.connected||K!=null&&K.connected;const oe=(j==null?void 0:j.account_email)||(G==null?void 0:G.account_email)||(K==null?void 0:K.account_email)||"",S=_("dropbox"),R=_("box"),B=_("mega"),U=_("slack"),X=a==="sharepoint"?!!(P!=null&&P.connected):a==="onedrive"?!!(z!=null&&z.connected):a==="outlook"?!!(D!=null&&D.connected):a==="outlook_calendar"?!!(C!=null&&C.connected):a==="teams"?!!(I!=null&&I.connected):a==="google"?!!(j!=null&&j.connected):a==="gmail"?!!(G!=null&&G.connected):a==="google_calendar"?!!(K!=null&&K.connected):a==="dropbox"?!!(S!=null&&S.connected):a==="box"?!!(R!=null&&R.connected):a==="mega"?!!(B!=null&&B.connected):a==="slack"?!!(U!=null&&U.connected):!1,V=a==="teams"?(I==null?void 0:I.account_email)||O||f:a.startsWith("outlook")?O||f:a==="google"||a==="gmail"||a==="google_calendar"?oe||f:((H=_(a))==null?void 0:H.account_email)||f;async function N(){await me("/api/connections/microsoft/authurl")}async function F(){await me("/api/connections/microsoft/authurl")}async function q(){await me("/api/connections/google/authurl")}async function ne(){await me("/api/connections/dropbox/authurl")}async function ie(){await me("/api/connections/box/authurl")}async function pe(){await me("/api/connections/slack/start")}async function me(Y){u(""),m("");try{l(!0);const A=await fetch(Y,{credentials:"include",cache:"no-store"}),M=await A.text();let L;try{L=JSON.parse(M)}catch{throw A.ok?new Error("Unexpected auth response."):new Error(M||`Auth failed (${A.status})`)}if(!A.ok)throw new Error((L==null?void 0:L.error)||"Auth failed.");const W=(L==null?void 0:L.auth_url)||(L==null?void 0:L.redirect);if(!W)throw new Error("Missing authorization URL.");window.location.href=W}catch(A){u(A.message||"Could not start authentication.")}finally{l(!1)}}async function ke(Y){const A=["sharepoint","onedrive","outlook","outlook_calendar"].includes(Y)?Y:"onedrive";await Ce(`/api/connections/microsoft/disconnect/${A}`,"Microsoft disconnected.")}async function Te(){await Ce("/api/connections/microsoft/disconnect/teams","Microsoft Teams disconnected.")}async function ct(){await Ce("/api/connections/google/disconnect","Google disconnected.")}async function le(){await Ce("/api/connections/dropbox/disconnect","Dropbox disconnected.")}async function Ze(){await Ce("/api/connections/box/disconnect","Box disconnected.")}async function ut(){await Ce("/api/connections/mega/disconnect","MEGA disconnected.")}async function He(){await Ce("/api/connections/slack/disconnect","Slack disconnected.")}async function Ce(Y,A){u(""),m("");try{l(!0),await(await fetch(Y,{method:"DELETE",credentials:"include",cache:"no-store"})).json().catch(()=>({})),m(A),await ve()}catch{u("Failed to disconnect.")}finally{l(!1)}}async function ve(){try{const A=await(await fetch("/api/connections",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json().catch(()=>({}));y(Array.isArray(A==null?void 0:A.connections)?A.connections:[])}catch{}}async function Je(){if(E.trim()){u(""),m(""),k(!0);try{const Y=await fetch("/api/connections/mega/connect",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:E})}),A=await Y.json().catch(()=>({}));if(!Y.ok)throw new Error((A==null?void 0:A.error)||"Could not save session.");x(""),m("MEGA session saved."),await ve()}catch(Y){u(Y.message||"MEGA error.")}finally{k(!1)}}}async function Lt(){if(h.trim()){u(""),m(""),k(!0);try{const Y=await fetch("/api/connections/mega/add_link",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:h})}),A=await Y.json().catch(()=>({}));if(!Y.ok)throw new Error((A==null?void 0:A.error)||"Could not add link.");v(""),m("MEGA link added."),await ve()}catch(Y){u(Y.message||"MEGA error.")}finally{k(!1)}}}if(!e)return null;const Q=["sharepoint","onedrive","outlook","outlook_calendar","teams"].includes(a),J=["google","gmail","google_calendar"].includes(a);return i.createElement("div",{className:"fixed inset-0 z-[70] flex items-center justify-center",role:"dialog","aria-modal":"true"},i.createElement("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),i.createElement("div",{className:"relative z-[71] w-full max-w-md md:max-w-lg"},i.createElement("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-[#0b1324]/95 shadow-2xl"},i.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/10"},i.createElement("div",{className:"flex items-center gap-3"},i.createElement("span",{className:"grid h-9 w-9 place-items-center rounded-lg bg-white/10 ring-1 ring-white/10"},T.icon),i.createElement("div",null,i.createElement("div",{className:"text-[15px] font-semibold text-white"},X?`Manage ${T.title}`:`Connect ${T.title}`),i.createElement("div",{className:"text-xs text-white/60"},T.subtitle))),i.createElement("button",{onClick:t,className:"rounded-full p-2 text-white/70 hover:text-white hover:bg-white/5","aria-label":"Close"},"✕")),i.createElement("div",{className:"p-5"},c&&i.createElement("div",{className:"mb-3 rounded-md border border-red-500/30 bg-red-500/10 px-3 py-2 text-xs text-red-200"},c),d&&i.createElement("div",{className:"mb-3 rounded-md border border-emerald-500/30 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-200"},d),r?i.createElement("div",{className:"h-16 animate-pulse rounded-md bg-white/5"}):a==="mega"?i.createElement(Y4,{connected:!!(B!=null&&B.connected),email:B==null?void 0:B.account_email,session:E,setSession:x,link:h,setLink:v,onSaveSession:Je,onAddLink:Lt,onDisconnect:ut,busy:b}):i.createElement(K4,{provider:a,connected:X,email:V,busy:s,onConnect:a==="teams"?F:a==="slack"?pe:J?q:a==="dropbox"?ne:a==="box"?ie:N,onDisconnect:a==="teams"?Te:a==="slack"?He:J?ct:a==="dropbox"?le:a==="box"?Ze:()=>ke(a==="sharepoint"?"sharepoint":a==="onedrive"?"onedrive":a==="outlook"?"outlook":"outlook_calendar"),msNote:Q}),i.createElement("div",{className:"mt-5 flex items-center justify-between text-[11px] text-white/60"},i.createElement("span",null,"Signed in as ",i.createElement("b",{className:"text-white/80"},f||"you")),i.createElement("div",{className:"flex items-center gap-1"},i.createElement(Vl,null,"Secure by design"),i.createElement(Vl,null,"OAuth 2.0"),i.createElement(Vl,null,"Read-only")))))))}function K4({provider:e,connected:t,email:n,busy:a,onConnect:r,onDisconnect:o,msNote:s}){return i.createElement("div",{className:"space-y-3"},i.createElement("div",{className:"rounded-lg border border-white/10 bg-white/[0.04] p-4"},i.createElement("div",{className:"text-sm text-white"},t?i.createElement(i.Fragment,null,i.createElement("span",{className:"inline-block rounded-full bg-emerald-500/15 px-2 py-0.5 text-[11px] text-emerald-300 mr-2"},"Connected"),n&&i.createElement("span",{className:"text-white/70"},"as ",i.createElement("b",{className:"text-white/90"},n))):i.createElement("span",{className:"text-white/70"},"Not connected")),s&&i.createElement("div",{className:"mt-1 text-[11px] text-white/50"},"Powered by your Microsoft account (SharePoint / OneDrive / Outlook / Teams)."),i.createElement("div",{className:"mt-3 flex gap-2"},t?i.createElement("button",{onClick:o,disabled:a,className:"rounded-md border border-white/15 bg-white/10 px-3 py-2 text-sm text-white hover:bg-white/15 disabled:opacity-50"},"Disconnect"):i.createElement("button",{onClick:r,disabled:a,className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},a?"Opening…":"Connect"))),i.createElement("ul",{className:"list-disc pl-5 text-[11px] text-white/60 space-y-1"},i.createElement("li",null,"You’ll be redirected to the provider’s consent screen."),i.createElement("li",null,"We never store your password."),i.createElement("li",null,"Access is read-only by default.")))}function Y4({connected:e,email:t,session:n,setSession:a,link:r,setLink:o,onSaveSession:s,onAddLink:l,onDisconnect:c,busy:u}){return i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"rounded-lg border border-white/10 bg-white/[0.04] p-4"},i.createElement("div",{className:"text-sm text-white"},e?i.createElement(i.Fragment,null,i.createElement("span",{className:"inline-block rounded-full bg-emerald-500/15 px-2 py-0.5 text-[11px] text-emerald-300 mr-2"},"Connected"),t&&i.createElement("span",{className:"text-white/70"},"as ",i.createElement("b",{className:"text-white/90"},t))):i.createElement("span",{className:"text-white/70"},"Not connected")),i.createElement("textarea",{rows:3,value:n,onChange:d=>a(d.target.value),className:"mt-3 w-full rounded-md border border-white/10 bg-transparent px-3 py-2 text-sm text-white outline-none placeholder:text-white/30",placeholder:"Paste MEGAcmd session (mega-executablesession)…"}),i.createElement("div",{className:"mt-2 flex gap-2"},i.createElement("button",{onClick:s,disabled:u||!n.trim(),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},u?"Saving…":"Save session"),e&&i.createElement("button",{onClick:c,disabled:u,className:"rounded-md border border-white/15 bg-white/10 px-3 py-2 text-sm text-white hover:bg-white/15 disabled:opacity-50"},"Disconnect"))),i.createElement("div",{className:"rounded-lg border border-white/10 bg-white/[0.04] p-4"},i.createElement("div",{className:"text-sm text-white"},"Add public link"),i.createElement("div",{className:"mt-1 text-[11px] text-white/60"},"Supports file and folder links: ",i.createElement("code",null,"https://mega.nz/file/...#KEY")," or ",i.createElement("code",null,"https://mega.nz/folder/...#KEY"),"."),i.createElement("input",{value:r,onChange:d=>o(d.target.value),className:"mt-2 w-full rounded-md border border-white/10 bg-transparent px-3 py-2 text-sm text-white outline-none placeholder:text-white/30",placeholder:"https://mega.nz/file/…#…"}),i.createElement("div",{className:"mt-2"},i.createElement("button",{onClick:l,disabled:u||!r.trim(),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50"},u?"Working…":"Add link"))))}function Vl({children:e}){return i.createElement("span",{className:"rounded-full border border-white/15 bg-white/10 px-2 py-[2px] text-[10px] text-white/70"},e)}function Q4(e){const t=String(e||"google").toLowerCase().replace(/\s+/g,"_");return["sharepoint","onedrive","outlook","outlook_calendar","teams","google","gmail","google_calendar","dropbox","box","mega","slack"].includes(t)?t:"google"}function X4(e){const t={sharepoint:{title:"SharePoint",subtitle:"Search your SharePoint content via Microsoft OAuth.",icon:i.createElement(Bl,null)},onedrive:{title:"OneDrive",subtitle:"Uses the same Microsoft connection as SharePoint.",icon:i.createElement(J4,null)},outlook:{title:"Outlook Mail",subtitle:"Read Outlook email via your Microsoft account (read-only).",icon:i.createElement(Bl,null)},outlook_calendar:{title:"Outlook Calendar",subtitle:"Read Outlook calendar via your Microsoft account (read-only).",icon:i.createElement(Bl,null)},teams:{title:"Microsoft Teams",subtitle:"Read Teams chats/channels via your Microsoft account (read-only).",icon:i.createElement(aS,null)},google:{title:"Google Drive",subtitle:"Connect with Google OAuth (read-only).",icon:i.createElement($l,null)},gmail:{title:"Gmail",subtitle:"Read Gmail via your Google account (read-only).",icon:i.createElement($l,null)},google_calendar:{title:"Google Calendar",subtitle:"Read Google Calendar via your Google account (read-only).",icon:i.createElement($l,null)},dropbox:{title:"Dropbox",subtitle:"Search across your Dropbox folders and files.",icon:i.createElement(eS,null)},box:{title:"Box",subtitle:"Connect with Box OAuth (read-only).",icon:i.createElement(tS,null)},mega:{title:"MEGA",subtitle:"Add a session string and paste public links.",icon:i.createElement(nS,null)},slack:{title:"Slack",subtitle:"Search Slack messages with links & timestamps (read-only).",icon:i.createElement(rS,null)}};return t[e]||t.google}function Z4(e){return e==="ms"?"Microsoft connected.":e==="teams"?"Microsoft Teams connected.":e==="google"?"Google connected.":e==="dropbox"?"Dropbox connected.":e==="box"?"Box connected.":e==="mega"?"MEGA updated.":e==="slack"?"Slack connected.":"Connected."}function Bl(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true"},i.createElement("path",{fill:"#f35325",d:"M23 23H4V4h19z"}),i.createElement("path",{fill:"#81bc06",d:"M44 23H25V4h19z"}),i.createElement("path",{fill:"#05a6f0",d:"M23 44H4V25h19z"}),i.createElement("path",{fill:"#ffba08",d:"M44 44H25V25h19z"}))}function J4(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true"},i.createElement("path",{fill:"#1976D2",d:"M24 8a9 9 0 00-8.2 5.3C12.5 13 9 16.6 9 21c0 4.4 3.6 8 8 8h20a6 6 0 000-12c-.4 0-.8.1-1.2.1A9 9 0 0024 8z"}))}function $l(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true"},i.createElement("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.8 31.7 29.4 35 24 35c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.7 1.1 7.8 3l5.7-5.7C33.6 5.1 29 3 24 3 12.9 3 4 11.9 4 23s8.9 20 20 20c10 0 18.5-7.3 19.9-16.8.1-.8.1-1.6.1-2.7z"}),i.createElement("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.4 16.1 18.8 13 24 13c3 0 5.7 1.1 7.8 3l5.7-5.7C33.6 5.1 29 3 24 3 16.4 3 9.8 7.1 6.3 14.7z"}),i.createElement("path",{fill:"#4CAF50",d:"M24 43c5.3 0 9.9-1.7 13.5-4.7l-6.2-4.9C29.1 35.3 26.7 36 24 36c-5.3 0-9.7-3.3-11.4-8l-6.5 5C9.6 39 16.3 43 24 43z"}),i.createElement("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1.3 3.8-5.7 7-11.3 7-6.6 0-12-5.4-12-12 0-1 .1-2 .3-3h-.1l-6.6-4.8C4.6 17.2 4 20 4 23c0 11.1 8.9 20 20 20 10 0 18.5-7.3 19.9-16.8.1-.8.1-1.6.1-2.7z"}))}function eS(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true"},i.createElement("path",{fill:"#0061FF",d:"M14 6l10 7-10 7-10-7L14 6zm20 0l10 7-10 7-10-7 10-7zM4 28l10-7 10 7-10 7-10-7zm40 0l-10-7-10 7 10 7 10-7z"}))}function tS(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true"},i.createElement("path",{fill:"#1F8DED",d:"M8 12h32a4 4 0 014 4v16a4 4 0 01-4 4H8a4 4 0 01-4-4V16a4 4 0 014-4z"}),i.createElement("path",{fill:"#fff",d:"M24 33c-4.4 0-8-3.6-8-8h4a4 4 0 108 0h4c0 4.4-3.6 8-8 8z"}))}function nS(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true"},i.createElement("circle",{cx:"24",cy:"24",r:"20",fill:"#E11D48"}),i.createElement("path",{d:"M14 31V17h4l6 6 6-6h4v14h-4V23l-6 6-6-6v8h-4z",fill:"#fff"}))}function aS(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true"},i.createElement("defs",null,i.createElement("linearGradient",{id:"tg",x1:"0",y1:"0",x2:"1",y2:"1"},i.createElement("stop",{offset:"0",stopColor:"#6264A7"}),i.createElement("stop",{offset:"1",stopColor:"#464775"}))),i.createElement("rect",{x:"6",y:"10",width:"28",height:"28",rx:"6",fill:"url(#tg)"}),i.createElement("rect",{x:"30",y:"16",width:"12",height:"16",rx:"3",fill:"#8B8CC7"}),i.createElement("path",{fill:"#fff",d:"M20 18h-6v3h3v9h3v-9h3v-3h-3z"}))}function rS(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 48 48","aria-hidden":"true"},i.createElement("rect",{x:"8",y:"20",width:"8",height:"8",rx:"4",fill:"#36C5F0"}),i.createElement("rect",{x:"20",y:"8",width:"8",height:"8",rx:"4",fill:"#2EB67D"}),i.createElement("rect",{x:"32",y:"20",width:"8",height:"8",rx:"4",fill:"#E01E5A"}),i.createElement("rect",{x:"20",y:"32",width:"8",height:"8",rx:"4",fill:"#ECB22E"}))}const ia=({to:e,children:t})=>i.createElement(md,{to:e,className:({isActive:n})=>`block px-3 py-2 rounded-lg transition ${n?"bg-white text-black":"bg-white/5 text-white hover:bg-white/10"}`},t),Hf=({to:e,children:t})=>i.createElement(md,{to:e,className:({isActive:n})=>["px-3 py-1.5 rounded-full text-sm transition border",n?"bg-black text-white border-black":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"].join(" ")},t);function iS(){const e=Pn(),t=cn(),[n,a]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{if(!(await fetch("/api/admin/staff/me",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).ok)throw new Error("not-staff");a(!1)}catch{e("/staff/login",{replace:!0})}})()},[e]),p.useEffect(()=>{t.pathname.replace(/\/+$/,"")==="/superadmin"&&e("/superadmin/overview",{replace:!0})},[t.pathname,e]),n?i.createElement("div",{className:"min-h-screen grid place-items-center bg-slate-50"},i.createElement("div",{className:"text-slate-600 text-sm"},"Checking access…")):i.createElement("div",{className:"min-h-screen bg-slate-50"},i.createElement("header",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur border-b"},i.createElement("div",{className:"mx-auto max-w-7xl px-4 py-3 flex items-center justify-between"},i.createElement("a",{href:"/superadmin/overview",className:"text-lg font-semibold hover:opacity-80"},"Super Admin"),i.createElement("a",{href:"/",className:"text-sm text-slate-600 hover:text-slate-900"},"← Back to App"))),i.createElement("div",{className:"mx-auto max-w-7xl px-4 py-6 grid grid-cols-1 md:grid-cols-[240px,1fr] gap-6"},i.createElement("aside",{className:"md:sticky md:top-16 h-max"},i.createElement("div",{className:"rounded-2xl border bg-[#0b1324] p-3 text-white shadow-sm"},i.createElement("div",{className:"text-xs uppercase tracking-wide text-white/60 px-2 pb-2"},"Dashboard"),i.createElement("nav",{className:"space-y-1"},i.createElement(ia,{to:"/superadmin/overview"},"🏠 Overview"),i.createElement(ia,{to:"/superadmin/userlist"},"👥 User List"),i.createElement(ia,{to:"/superadmin/add-user"},"➕ Add User"),i.createElement(ia,{to:"/superadmin/subscriptions"},"💳 Subscription History"),i.createElement(ia,{to:"/superadmin/statuses"},"✅ User Statuses"),i.createElement(ia,{to:"/superadmin/tickets"},"🎫 Tickets"),i.createElement(ia,{to:"/superadmin/revenue"},"📈 Revenue Info")))),i.createElement("main",{className:"min-h-[60vh]"},i.createElement("div",{className:"rounded-2xl border bg-white p-5 shadow-sm"},i.createElement("div",{className:"mb-4 -mt-1 overflow-x-auto"},i.createElement("div",{className:"flex items-center gap-2"},i.createElement(Hf,{to:"/superadmin/overview"},"Overview"),i.createElement(Hf,{to:"/superadmin/userlist"},"User List"))),i.createElement(jw,null)))))}function oS({open:e,onClose:t,user:n,onSuccess:a}){const[r,o]=p.useState("days"),[s,l]=p.useState(7),[c,u]=p.useState(""),[d,m]=p.useState(!1),[f,g]=p.useState("");if(p.useEffect(()=>{e&&(o("days"),l(7),u(""),g(""),m(!1))},[e]),!e)return null;const w=async()=>{try{m(!0),g("");const y={user_id:n==null?void 0:n.id};r==="days"?y.days=Number(s):y.until=c;const E=await fetch("/api/admin/trial/extend",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),x=await E.json();if(!E.ok)throw new Error((x==null?void 0:x.error)||E.statusText);a==null||a(x),t==null||t()}catch(y){g(y.message||"Failed to extend trial")}finally{m(!1)}};return i.createElement("div",{className:"fixed inset-0 z-[100] grid place-items-center bg-black/40"},i.createElement("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl"},i.createElement("div",{className:"text-lg font-semibold"},"Extend Trial"),i.createElement("div",{className:"mt-1 text-sm text-slate-600"},(n==null?void 0:n.name)||(n==null?void 0:n.email)),i.createElement("div",{className:"mt-4"},i.createElement("div",{className:"flex items-center gap-4 text-sm"},i.createElement("label",{className:"inline-flex items-center gap-2"},i.createElement("input",{type:"radio",name:"mode",value:"days",checked:r==="days",onChange:()=>o("days")}),"Add days"),i.createElement("label",{className:"inline-flex items-center gap-2"},i.createElement("input",{type:"radio",name:"mode",value:"until",checked:r==="until",onChange:()=>o("until")}),"Set exact date")),r==="days"?i.createElement("div",{className:"mt-3"},i.createElement("label",{className:"text-sm"},"Days to add"),i.createElement("input",{type:"number",min:1,max:60,className:"mt-1 w-full rounded-lg border p-2",value:s,onChange:y=>l(y.target.value)}),i.createElement("p",{className:"mt-1 text-xs text-slate-500"},"Max 60 days from today.")):i.createElement("div",{className:"mt-3"},i.createElement("label",{className:"text-sm"},"New trial end date"),i.createElement("input",{type:"date",className:"mt-1 w-full rounded-lg border p-2",value:c,onChange:y=>u(y.target.value)}),i.createElement("p",{className:"mt-1 text-xs text-slate-500"},"Must be in the future (≤ 60 days ahead)."))),f&&i.createElement("div",{className:"mt-3 rounded bg-red-50 p-2 text-sm text-red-700"},f),i.createElement("div",{className:"mt-5 flex justify-end gap-2"},i.createElement("button",{onClick:t,className:"rounded-lg border px-4 py-2 text-sm"},"Cancel"),i.createElement("button",{onClick:w,disabled:d,className:"rounded-lg bg-black px-4 py-2 text-sm text-white disabled:opacity-50"},d?"Saving...":"Save"))))}const sS=[10,20,50,"all"],lS=[{key:"newest",label:"Newest (created)"},{key:"last_login",label:"Last login"},{key:"name",label:"Name (A→Z)"}];function Tn(...e){return e.filter(Boolean).join(" ")}function Wf(e=""){var a,r;const t=(e||"").trim();if(!t)return"U";const n=t.split(/\s+/);return(((a=n[0])==null?void 0:a[0])||"")+(((r=n[1])==null?void 0:r[0])||"")}function oa(e){if(!e)return"—";try{return new Date(e).toLocaleString()}catch{return e}}function Ul(e){return e!=null&&e.status?e.status:typeof(e==null?void 0:e.is_active)=="boolean"?e.is_active?"active":"inactive":"active"}function co(e){return(e==null?void 0:e.display_name)||(e==null?void 0:e.name)||(e!=null&&e.email?e.email.split("@")[0]:"User")}function Gf(e){if(!e)return null;const t=new Date,n=new Date(e);return Math.ceil((n-t)/(1e3*60*60*24))}const cS=[{value:"",label:"All roles"},{value:"admin",label:"Admin"},{value:"superadmin",label:"SuperAdmin"},{value:"client_support",label:"Client Support"}],uS=[{value:"",label:"All roles"},{value:"user",label:"User"}];function qf(){const[e,t]=p.useState(""),[n,a]=p.useState(""),[r,o]=p.useState(""),[s,l]=p.useState("newest"),[c,u]=p.useState("grid"),[d,m]=p.useState(1),[f,g]=p.useState(10),[w,y]=p.useState("users"),[E,x]=p.useState({items:[],total:0,page:1,size:10,stats:null}),[h,v]=p.useState(!1),[b,k]=p.useState(!1),[T,_]=p.useState(null),[P,z]=p.useState(e);p.useEffect(()=>{const S=setTimeout(()=>z(e),300);return()=>clearTimeout(S)},[e]);async function D(S=d,R=f){v(!0);const B=new URLSearchParams;P&&B.set("q",P),n&&B.set("status",n),r&&B.set("role",r.toLowerCase()),R==="all"?(B.set("size","all"),B.set("page","1")):(B.set("page",String(S||1)),B.set("size",String(R||10)));const V=await(await fetch(`${w==="staff"?"/api/admin/staff/users":"/api/admin/users"}?${B.toString()}`,{credentials:"include"})).json();x({items:Array.isArray(V.items)?V.items:[],total:Number(V.total||0),page:Number(V.page||S||1),size:V.size??R,stats:V.stats||null}),v(!1)}p.useEffect(()=>{D(1,f)},[w,P,n,r,f]),p.useEffect(()=>{o("")},[w]);const C=p.useMemo(()=>{const S=[...E.items||[]];switch(s){case"last_login":S.sort((R,B)=>new Date(B.last_login_at||0)-new Date(R.last_login_at||0));break;case"name":S.sort((R,B)=>co(R).localeCompare(co(B)));break;case"newest":default:S.sort((R,B)=>new Date(B.created_at||0)-new Date(R.created_at||0))}return S},[E.items,s]),I=p.useMemo(()=>{if(E.stats)return E.stats;const S=C.length,R=C.filter(B=>Ul(B)==="active").length;return{scope:"page",total:S,active:R,inactive:S-R,newLast7Days:0}},[E.stats,C]);f==="all"||Math.max(1,Math.ceil((E.total||0)/(E.size||10)));const O=({label:S,value:R,sub:B})=>i.createElement("div",{className:"rounded-2xl border bg-white p-4 shadow-sm"},i.createElement("div",{className:"text-xs uppercase tracking-wide text-slate-500"},S),i.createElement("div",{className:"mt-1 text-2xl font-semibold"},R),B&&i.createElement("div",{className:"text-xs text-slate-500 mt-1"},B)),j=S=>{_(S),k(!0)},G=()=>D(d,f),K=i.createElement("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between"},i.createElement("div",{className:"flex items-center gap-2"},i.createElement("div",{className:"flex rounded-xl border bg-white p-1"},i.createElement("button",{className:Tn("px-3 py-1.5 rounded-lg text-sm",w==="users"?"bg-black text-white":"text-slate-700"),onClick:()=>{y("users"),m(1)}},"End Users"),i.createElement("button",{className:Tn("px-3 py-1.5 rounded-lg text-sm",w==="staff"?"bg-black text-white":"text-slate-700"),onClick:()=>{y("staff"),m(1)}},"Staff")),i.createElement("div",{className:"relative"},i.createElement("input",{value:e,onChange:S=>{m(1),t(S.target.value)},placeholder:`Search ${w==="staff"?"staff name or email":"name or email"}…`,className:"pl-10 pr-3 py-2 rounded-xl border w-72 bg-white"}),i.createElement("span",{className:"absolute left-3 top-2.5 text-slate-400"},i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16a6.47 6.47 0 0 0 4.23-1.57l.27.28v.79L20 21.5 21.5 20 15.5 14zm-6 0a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9z"})))),i.createElement("select",{className:"px-3 py-2 rounded-xl border bg-white",value:n,onChange:S=>{m(1),a(S.target.value)}},i.createElement("option",{value:""},"All statuses"),i.createElement("option",{value:"active"},"Active"),i.createElement("option",{value:"inactive"},"Inactive")),i.createElement("select",{className:"px-3 py-2 rounded-xl border bg-white",value:r,onChange:S=>{m(1),o(S.target.value)}},(w==="staff"?cS:uS).map(S=>i.createElement("option",{key:S.value||"all",value:S.value},S.label))),i.createElement("select",{className:"px-3 py-2 rounded-xl border bg-white",value:s,onChange:S=>l(S.target.value)},lS.map(S=>i.createElement("option",{key:S.key,value:S.key},S.label)))),i.createElement("div",{className:"flex items-center gap-2"},i.createElement("select",{className:"px-3 py-2 rounded-xl border bg-white",value:f,onChange:S=>{const R=isNaN(+S.target.value)?S.target.value:Number(S.target.value);g(R),m(1)}},sS.map(S=>i.createElement("option",{key:String(S),value:S},S==="all"?"All":`${S} / page`))),i.createElement("div",{className:"flex rounded-xl border bg-white p-1"},i.createElement("button",{className:Tn("px-3 py-1.5 rounded-lg text-sm",c==="grid"?"bg-black text-white":"text-slate-700"),onClick:()=>u("grid")},"Grid"),i.createElement("button",{className:Tn("px-3 py-1.5 rounded-lg text-sm",c==="table"?"bg-black text-white":"text-slate-700"),onClick:()=>u("table")},"Table")),i.createElement("a",{href:"/superadmin/add-user",className:"px-3 py-2 rounded-xl bg-black text-white text-sm"},"+ Add user"))),oe=()=>i.createElement("div",{className:"rounded-2xl border bg-white p-4 animate-pulse"},i.createElement("div",{className:"h-8 w-8 rounded-full bg-slate-200"}),i.createElement("div",{className:"mt-3 h-4 w-1/2 bg-slate-200 rounded"}),i.createElement("div",{className:"mt-2 h-3 w-2/3 bg-slate-200 rounded"}),i.createElement("div",{className:"mt-4 h-3 w-1/3 bg-slate-200 rounded"}));return i.createElement("div",{className:"space-y-5"},i.createElement("div",{className:"rounded-3xl p-6 bg-gradient-to-r from-indigo-50 to-white border"},i.createElement("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4"},i.createElement("div",null,i.createElement("h2",{className:"text-2xl font-semibold"},w==="staff"?"Staff":"Users"),i.createElement("p",{className:"text-sm text-slate-600 mt-1"},w==="staff"?"All staff accounts (superadmin, admin, client support).":"All registered end users in your workspace.")),i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},i.createElement(O,{label:E.size==="all"?`${w==="staff"?"Staff":"Users"} (all)`:I.scope==="page"?`${w==="staff"?"Staff":"Users"} (page)`:w==="staff"?"Staff":"Users",value:(I.total??E.total)||0,sub:E.size==="all"?void 0:`${E.total} total`}),i.createElement(O,{label:"Active",value:I.active??0}),i.createElement(O,{label:"Inactive",value:I.inactive??0}),i.createElement(O,{label:"New (7d)",value:I.newLast7Days??0}))),i.createElement("div",{className:"mt-5"},K)),c==="grid"?i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4"},h?Array.from({length:f==="all"?12:f}).map((S,R)=>i.createElement(oe,{key:R})):C.length===0?i.createElement("div",{className:"col-span-full rounded-2xl border bg-white p-10 text-center"},i.createElement("div",{className:"text-lg font-medium"},"No records found"),i.createElement("div",{className:"text-sm text-slate-600 mt-1"},"Try a different search or clear filters.")):C.map(S=>{const R=co(S),B=(S==null?void 0:S.email)||"",U=Ul(S),X=((S==null?void 0:S.role)||(w==="staff"?"admin":"user")).toString(),V=w==="users"?(S==null?void 0:S.plan)||"none":null,N=w==="users"&&(S==null?void 0:S.trial_ends_at)||null,F=N!=null?Gf(N):null;return i.createElement("div",{key:`${w}-${S.id}`,className:"rounded-2xl border bg-white p-4 hover:shadow-md transition"},i.createElement("div",{className:"flex items-center gap-3"},i.createElement("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white grid place-items-center text-sm font-semibold"},Wf(R)),i.createElement("div",{className:"min-w-0"},i.createElement("div",{className:"font-medium truncate"},R),i.createElement("div",{className:"text-sm text-slate-600 truncate"},B)),i.createElement("div",{className:"ml-auto"},i.createElement("span",{className:Tn("px-2 py-1 rounded text-xs",U==="active"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700")},U))),i.createElement("div",{className:"mt-4 flex flex-wrap gap-2 text-xs"},i.createElement("span",{className:"px-2 py-1 rounded bg-slate-100 text-slate-700"},"Role: ",X),V&&i.createElement("span",{className:"px-2 py-1 rounded bg-slate-100 text-slate-700"},"Plan: ",V),w==="users"&&S.subscription_active&&i.createElement("span",{className:"px-2 py-1 rounded bg-indigo-100 text-indigo-700"},"Subscribed"),w==="users"&&N&&i.createElement("span",{className:Tn("px-2 py-1 rounded",F!=null&&F<=7?"bg-yellow-100 text-yellow-700":"bg-slate-100 text-slate-700")},"Trial ends: ",oa(N))),i.createElement("div",{className:"mt-4 grid grid-cols-2 gap-3 text-xs"},i.createElement("div",{className:"rounded-lg border p-2 bg-slate-50"},i.createElement("div",{className:"text-slate-500"},"Created"),i.createElement("div",{className:"mt-0.5 font-medium"},oa(S.created_at))),i.createElement("div",{className:"rounded-lg border p-2 bg-slate-50"},i.createElement("div",{className:"text-slate-500"},"Last login"),i.createElement("div",{className:"mt-0.5 font-medium"},oa(S.last_login_at)))),w==="users"&&i.createElement("div",{className:"mt-4 flex flex-wrap items-center gap-2"},i.createElement("a",{href:`/superadmin/subscriptions?user=${encodeURIComponent(B)}`,className:"px-3 py-1.5 rounded-lg border bg-white text-sm"},"View subscription"),i.createElement("button",{onClick:()=>j(S),className:"px-3 py-1.5 rounded-lg border bg-white text-sm hover:bg-slate-50",title:"Extend trial end date"},"Extend Trial")))})):i.createElement("div",{className:"rounded-2xl border overflow-hidden bg-white"},i.createElement("table",{className:"w-full text-sm"},i.createElement("thead",{className:"bg-slate-50"},i.createElement("tr",{className:"text-left"},i.createElement("th",{className:"p-3"},"User"),i.createElement("th",{className:"p-3"},"Role"),i.createElement("th",{className:"p-3"},"Status"),w==="users"&&i.createElement("th",{className:"p-3"},"Plan"),w==="users"&&i.createElement("th",{className:"p-3"},"Trial ends"),i.createElement("th",{className:"p-3"},"Created"),i.createElement("th",{className:"p-3"},"Last login"),w==="users"&&i.createElement("th",{className:"p-3"},"Actions"))),i.createElement("tbody",null,h?Array.from({length:f==="all"?12:f}).map((S,R)=>i.createElement("tr",{key:R,className:"animate-pulse"},i.createElement("td",{className:"p-3"},i.createElement("div",{className:"h-4 w-48 bg-slate-200 rounded"})),i.createElement("td",{className:"p-3"},i.createElement("div",{className:"h-4 w-20 bg-slate-200 rounded"})),i.createElement("td",{className:"p-3"},i.createElement("div",{className:"h-4 w-16 bg-slate-200 rounded"})),w==="users"&&i.createElement("td",{className:"p-3"},i.createElement("div",{className:"h-4 w-16 bg-slate-200 rounded"})),w==="users"&&i.createElement("td",{className:"p-3"},i.createElement("div",{className:"h-4 w-28 bg-slate-200 rounded"})),i.createElement("td",{className:"p-3"},i.createElement("div",{className:"h-4 w-28 bg-slate-200 rounded"})),i.createElement("td",{className:"p-3"},i.createElement("div",{className:"h-4 w-28 bg-slate-200 rounded"})),w==="users"&&i.createElement("td",{className:"p-3"},i.createElement("div",{className:"h-4 w-24 bg-slate-200 rounded"})))):C.length===0?i.createElement("tr",null,i.createElement("td",{colSpan:w==="users"?8:6,className:"p-6 text-center"},"No records found.")):C.map(S=>{const R=co(S),B=(S==null?void 0:S.email)||"",U=Ul(S),X=((S==null?void 0:S.role)||(w==="staff"?"admin":"user")).toString(),V=w==="users"?(S==null?void 0:S.plan)||"none":null,N=w==="users"&&(S==null?void 0:S.trial_ends_at)||null,F=N!=null?Gf(N):null;return i.createElement("tr",{key:`${w}-${S.id}`,className:"border-t"},i.createElement("td",{className:"p-3"},i.createElement("div",{className:"flex items-center gap-3"},i.createElement("div",{className:"h-8 w-8 rounded-full bg-slate-900 text-white grid place-items-center text-xs font-semibold"},Wf(R)),i.createElement("div",{className:"min-w-0"},i.createElement("div",{className:"font-medium truncate"},R),i.createElement("div",{className:"text-xs text-slate-600 truncate"},B)))),i.createElement("td",{className:"p-3"},X),i.createElement("td",{className:"p-3"},i.createElement("span",{className:Tn("px-2 py-1 rounded text-xs",U==="active"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700")},U)),w==="users"&&i.createElement("td",{className:"p-3"},V),w==="users"&&i.createElement("td",{className:"p-3"},N?i.createElement("span",{className:Tn("inline-flex items-center rounded-full px-2 py-0.5 text-xs",F!=null&&F<=7?"bg-yellow-100 text-yellow-700":"bg-slate-100 text-slate-700"),title:oa(N)},oa(N)):i.createElement("span",{className:"text-slate-400"},"—")),i.createElement("td",{className:"p-3"},oa(S.created_at)),i.createElement("td",{className:"p-3"},oa(S.last_login_at)),w==="users"&&i.createElement("td",{className:"p-3"},i.createElement("div",{className:"flex flex-wrap gap-2"},i.createElement("a",{href:`/superadmin/subscriptions?user=${encodeURIComponent(B)}`,className:"px-3 py-1.5 rounded-lg border bg-white text-xs"},"Subscription"),i.createElement("button",{onClick:()=>j(S),className:"px-3 py-1.5 rounded-lg border bg-white text-xs hover:bg-slate-50",title:"Extend trial end date"},"Extend Trial"))))})))),i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"text-sm text-slate-600"},"Showing ",i.createElement("span",{className:"font-medium"},C.length)," of"," ",i.createElement("span",{className:"font-medium"},E.total)),i.createElement("div",{className:"flex items-center gap-2"},i.createElement("button",{className:"px-3 py-1.5 rounded-lg border bg-white disabled:opacity-50",onClick:()=>{const S=Math.max(1,d-1);m(S),D(S,f)},disabled:f==="all"||d<=1||h},"Prev"),i.createElement("div",{className:"text-sm min-w-[80px] text-center"},"Page ",f==="all"?1:d," / ",f==="all"?1:Math.max(1,Math.ceil((E.total||0)/(E.size||10)))),i.createElement("button",{className:"px-3 py-1.5 rounded-lg border bg-white disabled:opacity-50",onClick:()=>{const S=Math.min(Math.max(1,Math.ceil((E.total||0)/(E.size||10))),d+1);m(S),D(S,f)},disabled:f==="all"||d>=Math.max(1,Math.ceil((E.total||0)/(E.size||10)))||h},"Next"))),i.createElement(oS,{open:b,onClose:()=>k(!1),user:T,onSuccess:G}))}const un=new Intl.NumberFormat,Ma=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0}),uo=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`,wx=e=>{const[t,n]=e.split("-").map(Number);return new Date(t,n-1,1).toLocaleDateString(void 0,{month:"short",year:"numeric"})},Hl=e=>typeof e=="number"&&!Number.isNaN(e)?e:0,mo=e=>{try{return e?new Date(e):null}catch{return null}},Kf=e=>{if(typeof(e==null?void 0:e.is_active)=="boolean")return e.is_active;if(typeof(e==null?void 0:e.is_active)=="number")return e.is_active===1;const t=((e==null?void 0:e.status)||(e==null?void 0:e.state)||"").toString().toLowerCase().trim();return t?t==="active"||t==="enabled":!0};function dS({months:e,revenueBars:t,dueBars:n,netLine:a}){const r=Math.max(360,e.length*64),o=220,s=28,l=r-s*2,c=o-s*2,u=Math.max(...t,...n,1),d=Math.max(...a,1),m=e.length?l/e.length:l,f=m*.32,g=m*.1,w=E=>s+(1-E/Math.max(d,1))*c,y=e.map((E,x)=>{const h=s+x*m+m/2,v=w(a[x]||0);return`${h},${v}`}).join(" ");return i.createElement("svg",{width:"100%",height:o,viewBox:`0 0 ${r} ${o}`},i.createElement("line",{x1:s,y1:s,x2:s,y2:o-s,stroke:"#e5e7eb"}),i.createElement("line",{x1:s,y1:o-s,x2:r-s,y2:o-s,stroke:"#e5e7eb"}),e.map((E,x)=>{const h=t[x]||0,v=n[x]||0,b=s+x*m+m/2,k=h/u*c,T=v/u*c;return i.createElement("g",{key:E},i.createElement("rect",{x:b-f-g/2,y:s+(c-k),width:f,height:k,rx:"6",fill:"#2563eb"}),i.createElement("rect",{x:b+g/2,y:s+(c-T),width:f,height:T,rx:"6",fill:"#93c5fd"}),i.createElement("text",{x:b,y:o-6,textAnchor:"middle",fontSize:"10",fill:"#6b7280"},E.split("-")[1],"/",E.split("-")[0].slice(2)))}),i.createElement("polyline",{fill:"none",stroke:"#16a34a",strokeWidth:"2.5",points:y,strokeLinecap:"round"}))}function mS({months:e,activeArr:t,inactiveArr:n}){const a=Math.max(360,e.length*56),r=200,o=24,s=a-o*2,l=r-o*2,c=e.length?s/e.length:s,u=Math.max(...t.map((d,m)=>d+n[m]),1);return i.createElement("svg",{width:"100%",height:r,viewBox:`0 0 ${a} ${r}`},i.createElement("line",{x1:o,y1:r-o,x2:a-o,y2:r-o,stroke:"#e5e7eb"}),e.map((d,m)=>{const f=t[m]+n[m],g=t[m]/u*l,w=n[m]/u*l,y=o+m*c+c*.25,E=c*.5,x=o+(l-w),h=x-g;return i.createElement("g",{key:d},i.createElement("rect",{x:y,y:x,width:E,height:w,rx:"6",fill:"#cbd5e1"}),i.createElement("rect",{x:y,y:h,width:E,height:g,rx:"6",fill:"#3b82f6"}),i.createElement("text",{x:y+E/2,y:r-6,textAnchor:"middle",fontSize:"10",fill:"#6b7280"},d.split("-")[1]),i.createElement("title",null,wx(d)," • Active ",t[m]," / Inactive ",n[m]," (Total ",f,")"))}))}function pS(){const[e,t]=p.useState(!0),[n,a]=p.useState("monthly"),[r,o]=p.useState({items:[],total:0}),[s,l]=p.useState({items:[],total:0}),[c,u]=p.useState({items:[],total:0}),[d,m]=p.useState({items:[],total:0}),[f,g]=p.useState({summary:{total_paid:0,total_due:0},latest:[]});p.useEffect(()=>{let C=!0;async function I(O){const j=await fetch(O,{credentials:"include",cache:"no-store"});if(!j.ok)throw new Error(O+" -> "+j.status);return j.json()}return(async()=>{var O,j;try{t(!0);const[G,K,oe,S,R]=await Promise.all([I("/api/admin/users?size=all"),I("/api/admin/staff/users?size=all"),I("/api/admin/subscriptions?size=all"),I("/api/admin/tickets?size=all"),I("/api/admin/revenue")]);if(!C)return;o({items:Array.isArray(G==null?void 0:G.items)?G.items:[],total:(G==null?void 0:G.total)||0}),l({items:Array.isArray(K==null?void 0:K.items)?K.items:[],total:(K==null?void 0:K.total)||0}),u({items:Array.isArray(oe==null?void 0:oe.items)?oe.items:[],total:(oe==null?void 0:oe.total)||((O=oe==null?void 0:oe.items)==null?void 0:O.length)||0}),m({items:Array.isArray(S==null?void 0:S.items)?S.items:[],total:(S==null?void 0:S.total)||((j=S==null?void 0:S.items)==null?void 0:j.length)||0}),g({summary:(R==null?void 0:R.summary)||{total_paid:0,total_due:0},latest:Array.isArray(R==null?void 0:R.latest)?R.latest:[]})}catch(G){console.error(G)}finally{C&&t(!1)}})(),()=>{C=!1}},[]);const w=p.useMemo(()=>{const C=[...r.items,...s.items],I=C.filter(Kf).length,O=C.length,j=Math.max(0,O-I);return{total:O,active:I,inactive:j}},[r.items,s.items]),y=Hl(f.summary.total_paid),E=Hl(f.summary.total_due),x=Math.max(0,y-E),h=y,v=p.useMemo(()=>{const C=new Map;for(const O of f.latest||[]){const j=mo(O.invoice_date)||new Date,G=uo(j);C.has(G)||C.set(G,{revenue:0,due:0,net:0,users_active:0,users_inactive:0,subs:0,tickets:0}),C.get(G).revenue+=Hl(O.amount||0)}for(const[O,j]of C)j.due||(j.due=Math.round(j.revenue*.35)),j.net=Math.max(0,j.revenue-j.due);for(const O of d.items||[]){const j=mo(O.created_at)||new Date,G=uo(j);C.has(G)||C.set(G,{revenue:0,due:0,net:0,users_active:0,users_inactive:0,subs:0,tickets:0}),C.get(G).tickets+=1}for(const O of c.items||[]){const j=mo(O.start_date)||new Date,G=uo(j);C.has(G)||C.set(G,{revenue:0,due:0,net:0,users_active:0,users_inactive:0,subs:0,tickets:0}),C.get(G).subs+=1}for(const O of[...r.items,...s.items]){const j=mo(O.created_at)||new Date,G=uo(j);C.has(G)||C.set(G,{revenue:0,due:0,net:0,users_active:0,users_inactive:0,subs:0,tickets:0}),Kf(O)?C.get(G).users_active+=1:C.get(G).users_inactive+=1}return[...C.entries()].sort((O,j)=>O[0].localeCompare(j[0])).slice(-12).map(([O,j])=>({ym:O,...j}))},[f.latest,d.items,c.items,r.items,s.items]),b=p.useMemo(()=>{if(n==="monthly")return v;const C=new Map;for(const I of v){const O=Number(I.ym.split("-")[0]);C.has(O)||C.set(O,{revenue:0,due:0,net:0,users_active:0,users_inactive:0,subs:0,tickets:0});const j=C.get(O);j.revenue+=I.revenue,j.due+=I.due,j.net+=I.net,j.users_active+=I.users_active,j.users_inactive+=I.users_inactive,j.subs+=I.subs,j.tickets+=I.tickets}return[...C.entries()].sort((I,O)=>I[0]-O[0]).map(([I,O])=>({ym:String(I),...O}))},[n,v]),k=v.map(C=>C.ym),T=v.map(C=>C.revenue),_=v.map(C=>C.due),P=v.map(C=>C.net),z=v.map(C=>C.users_active),D=v.map(C=>C.users_inactive);return i.createElement("div",{className:"w-full"},i.createElement("div",{className:"flex items-center justify-between flex-wrap gap-3"},i.createElement("div",{className:"text-sm font-semibold tracking-wide text-slate-700"},"SUPER ADMIN DASHBOARD"),i.createElement("div",{className:"rounded-full border bg-white p-1"},i.createElement("button",{className:`px-3 py-1.5 rounded-full text-sm ${n==="monthly"?"bg-black text-white":"text-slate-700"}`,onClick:()=>a("monthly")},"Monthly"),i.createElement("button",{className:`px-3 py-1.5 rounded-full text-sm ${n==="yearly"?"bg-black text-white":"text-slate-700"}`,onClick:()=>a("yearly")},"Yearly"))),i.createElement("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4"},i.createElement("div",{className:"rounded-2xl p-4 text-white shadow-sm",style:{background:"linear-gradient(135deg,#1f2937 0%,#111827 100%)"}},i.createElement("div",{className:"text-sm"},"Total Users"),i.createElement("div",{className:"mt-2 text-3xl font-semibold"},e?"…":un.format(w.total)),i.createElement("div",{className:"mt-2 text-xs text-white/80"},"Active: ",un.format(w.active)," • Inactive: ",un.format(w.inactive))),i.createElement("div",{className:"rounded-2xl p-4 text-white shadow-sm",style:{background:"linear-gradient(135deg,#2563eb 0%,#4f46e5 100%)"}},i.createElement("div",{className:"text-sm"},"Subscription Users"),i.createElement("div",{className:"mt-2 text-3xl font-semibold"},e?"…":un.format(c.total)),i.createElement("div",{className:"mt-2 text-xs text-white/80"},"Penetration: ",w.total?Math.round(c.total/w.total*100):0,"%")),i.createElement("div",{className:"rounded-2xl p-4 text-white shadow-sm",style:{background:"linear-gradient(135deg,#059669 0%,#16a34a 100%)"}},i.createElement("div",{className:"text-sm"},"Net Profit"),i.createElement("div",{className:"mt-2 text-3xl font-semibold"},e?"…":Ma.format(x)),i.createElement("div",{className:"mt-2 text-xs text-white/80"},"Revenue: ",Ma.format(y)," • Due: ",Ma.format(E))),i.createElement("div",{className:"rounded-2xl p-4 text-white shadow-sm",style:{background:"linear-gradient(135deg,#0ea5e9 0%,#0284c7 100%)"}},i.createElement("div",{className:"text-sm"},"Cash Flow"),i.createElement("div",{className:"mt-2 text-3xl font-semibold"},e?"…":Ma.format(h)),i.createElement("div",{className:"mt-2 text-xs text-white/80"},"Tickets: ",un.format(d.total)))),i.createElement("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4"},i.createElement("div",{className:"rounded-2xl border bg-white p-4 lg:col-span-1 overflow-auto"},i.createElement("div",{className:"text-sm font-semibold mb-2"},n==="monthly"?"Monthly Summary":"Yearly Summary"),i.createElement("table",{className:"w-full text-sm min-w-[620px]"},i.createElement("thead",{className:"bg-slate-50 sticky top-0"},i.createElement("tr",{className:"text-left"},i.createElement("th",{className:"p-2"},n==="monthly"?"Month":"Year"),i.createElement("th",{className:"p-2"},"Users"),i.createElement("th",{className:"p-2"},"Subs"),i.createElement("th",{className:"p-2"},"Revenue"),i.createElement("th",{className:"p-2"},"Tickets"),i.createElement("th",{className:"p-2"},"ROI"),i.createElement("th",{className:"p-2"},"Cash Flow"))),i.createElement("tbody",null,b.length===0?i.createElement("tr",null,i.createElement("td",{className:"p-3",colSpan:7},"No data.")):b.map(C=>{const I=C.revenue+C.due,O=I>0?Math.round((C.revenue-C.due)/I*100):0,j=C.users_active+C.users_inactive;return i.createElement("tr",{key:C.ym,className:"border-t"},i.createElement("td",{className:"p-2"},n==="monthly"?wx(C.ym):C.ym),i.createElement("td",{className:"p-2"},un.format(j)),i.createElement("td",{className:"p-2"},un.format(C.subs)),i.createElement("td",{className:"p-2"},Ma.format(C.revenue)),i.createElement("td",{className:"p-2"},un.format(C.tickets)),i.createElement("td",{className:"p-2"},O,"%"),i.createElement("td",{className:"p-2"},Ma.format(C.revenue)))})))),i.createElement("div",{className:"rounded-2xl border bg-white p-4 lg:col-span-2"},i.createElement("div",{className:"text-sm font-semibold"},"Revenue (bars) & Net Profit (line)"),i.createElement("div",{className:"mt-2"},i.createElement(dS,{months:k,revenueBars:T,dueBars:_,netLine:P})),i.createElement("div",{className:"mt-2 flex items-center gap-4 text-xs text-slate-600"},i.createElement("span",{className:"inline-flex items-center gap-2"},i.createElement("span",{className:"h-2 w-3 rounded bg-blue-600 inline-block"})," Revenue"),i.createElement("span",{className:"inline-flex items-center gap-2"},i.createElement("span",{className:"h-2 w-3 rounded bg-blue-300 inline-block"})," Due"),i.createElement("span",{className:"inline-flex items-center gap-2"},i.createElement("span",{className:"h-1.5 w-6 bg-emerald-600 inline-block"})," Net")))),i.createElement("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4"},i.createElement("div",{className:"rounded-2xl border bg-white p-4 lg:col-span-2"},i.createElement("div",{className:"text-sm font-semibold"},"Active vs Inactive Users (Stacked)"),i.createElement("div",{className:"mt-2"},i.createElement(mS,{months:k,activeArr:z,inactiveArr:D})),i.createElement("div",{className:"mt-2 text-xs text-slate-500"},"Blue = Active • Gray = Inactive")),i.createElement("div",{className:"rounded-2xl border bg-white p-4"},i.createElement("div",{className:"text-sm font-semibold"},"Tickets Overview"),i.createElement("div",{className:"mt-3 grid grid-cols-3 gap-2"},["open","in_progress","closed"].map((C,I)=>{const O=(d.items||[]).filter(j=>(j.status||"").toLowerCase()===C).length;return i.createElement("div",{key:C,className:"rounded-lg border p-3 text-center"},i.createElement("div",{className:"text-xs text-slate-500"},["Open","In Progress","Closed"][I]),i.createElement("div",{className:"text-xl font-semibold"},un.format(O)))})))))}function fS(){const[e,t]=p.useState({name:"",email:"",role:"User",status:"active",password:""}),[n,a]=p.useState(!1),[r,o]=p.useState(""),[s,l]=p.useState(!1),[c,u]=p.useState({}),d=["Admin","SuperAdmin","Client Support"].includes(e.role),m=()=>{const y={};return e.name.trim()||(y.name="Name is required"),e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(y.email="Invalid email"):y.email="Email is required",e.password?e.password.length<6&&(y.password="Use at least 6 characters"):y.password="Password is required",u(y),Object.keys(y).length===0},f=()=>d?e.role==="Client Support"?"client_support":e.role.toLowerCase():"user",g=()=>d?"/api/admin/staff/users":"/api/admin/users",w=async y=>{if(y.preventDefault(),o(""),!!m()){a(!0);try{const E=await fetch(g(),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e.name.trim(),email:e.email.trim(),status:e.status,role:f(),password:e.password})}),x=await E.json();if(a(!1),!E.ok){o("❌ "+(x.error||"Failed to create user"));return}o(`✅ ${d?"Staff user":"User"} created successfully.`)}catch{a(!1),o("❌ Network error, please try again.")}}};return i.createElement("div",{className:"w-full py-8 sm:py-10"},i.createElement("div",{className:"max-w-xl mx-auto"},i.createElement("div",{className:"rounded-2xl border bg-white shadow-sm p-6 sm:p-7"},i.createElement("h2",{className:"text-xl font-semibold"},"Add User"),i.createElement("form",{className:"grid gap-3 mt-5",onSubmit:w,noValidate:!0},i.createElement("div",null,i.createElement("label",{className:"block text-sm mb-1"},"Full name"),i.createElement("input",{className:"px-3 py-2 rounded-lg border w-full",placeholder:"Enter Your Name",value:e.name,onChange:y=>t({...e,name:y.target.value})}),c.name&&i.createElement("div",{className:"text-xs text-red-600 mt-1"},c.name)),i.createElement("div",null,i.createElement("label",{className:"block text-sm mb-1"},"Email"),i.createElement("input",{className:"px-3 py-2 rounded-lg border w-full",placeholder:"Enter Your Email",type:"email",value:e.email,onChange:y=>t({...e,email:y.target.value}),autoComplete:"email"}),c.email&&i.createElement("div",{className:"text-xs text-red-600 mt-1"},c.email)),i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},i.createElement("div",null,i.createElement("label",{className:"block text-sm mb-1"},"Role"),i.createElement("select",{className:"px-3 py-2 rounded-lg border w-full",value:e.role,onChange:y=>t({...e,role:y.target.value})},i.createElement("option",null,"User"),i.createElement("option",null,"Admin"),i.createElement("option",null,"SuperAdmin"),i.createElement("option",null,"Client Support"))),i.createElement("div",null,i.createElement("label",{className:"block text-sm mb-1"},"Status"),i.createElement("select",{className:"px-3 py-2 rounded-lg border w-full",value:e.status,onChange:y=>t({...e,status:y.target.value})},i.createElement("option",{value:"active"},"active"),i.createElement("option",{value:"inactive"},"inactive")))),i.createElement("div",null,i.createElement("label",{className:"block text-sm mb-1"},"Password (required)"),i.createElement("div",{className:"relative"},i.createElement("input",{type:s?"text":"password",className:"w-full px-3 py-2 rounded-lg border pr-20",placeholder:"Enter a secure password",value:e.password,onChange:y=>t({...e,password:y.target.value}),autoComplete:"new-password"}),i.createElement("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-600",onClick:()=>l(y=>!y),"aria-label":s?"Hide password":"Show password"},s?"Hide":"Show")),c.password&&i.createElement("div",{className:"text-xs text-red-600 mt-1"},c.password)),i.createElement("div",{className:"flex items-center gap-3 pt-2"},i.createElement("button",{disabled:n,className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-60"},n?"Saving…":"Create"),r&&i.createElement("div",{className:"text-sm"},r))))))}function hS(){const[e,t]=p.useState({items:[],page:1,size:10,total:0}),[n,a]=p.useState(!1),r=async(o=1)=>{a(!0);const l=await(await fetch(`/api/admin/subscriptions?page=${o}&size=10`,{credentials:"include"})).json();t(l),a(!1)};return p.useEffect(()=>{r(1)},[]),i.createElement("div",{className:"space-y-4"},i.createElement("h2",{className:"text-xl font-semibold"},"Subscription History"),i.createElement("div",{className:"rounded-xl border overflow-hidden"},i.createElement("table",{className:"w-full text-sm"},i.createElement("thead",{className:"bg-slate-50"},i.createElement("tr",{className:"text-left"},i.createElement("th",{className:"p-3"},"User"),i.createElement("th",{className:"p-3"},"Plan"),i.createElement("th",{className:"p-3"},"Price"),i.createElement("th",{className:"p-3"},"Status"),i.createElement("th",{className:"p-3"},"Start"),i.createElement("th",{className:"p-3"},"End"))),i.createElement("tbody",null,n?i.createElement("tr",null,i.createElement("td",{className:"p-3",colSpan:6},"Loading…")):e.items.map(o=>{var s,l;return i.createElement("tr",{key:o.id,className:"border-t"},i.createElement("td",{className:"p-3"},o.user_name," ",i.createElement("span",{className:"text-xs text-slate-500"},"(",o.user_email,")")),i.createElement("td",{className:"p-3"},o.plan),i.createElement("td",{className:"p-3"},"$",o.price),i.createElement("td",{className:"p-3"},i.createElement("span",{className:`px-2 py-1 rounded text-xs ${o.status==="active"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`},o.status)),i.createElement("td",{className:"p-3"},(s=o.start_date)==null?void 0:s.slice(0,10)),i.createElement("td",{className:"p-3"},((l=o.end_date)==null?void 0:l.slice(0,10))||"-"))})))),e.total>e.size&&i.createElement("div",{className:"flex justify-end gap-2"},i.createElement("button",{className:"px-3 py-1 rounded border",onClick:()=>r(Math.max(1,e.page-1)),disabled:e.page<=1},"Prev"),i.createElement("button",{className:"px-3 py-1 rounded border",onClick:()=>r(e.page+1),disabled:e.page*e.size>=e.total},"Next")))}function gS(){const[e,t]=p.useState("active"),[n,a]=p.useState({items:[]}),r=async o=>{const l=await(await fetch(`/api/admin/users?status=${o}`,{credentials:"include"})).json();a(l)};return p.useEffect(()=>{r(e)},[e]),i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("h2",{className:"text-xl font-semibold"},"User Statuses"),i.createElement("select",{className:"px-3 py-2 rounded-lg border",value:e,onChange:o=>t(o.target.value)},i.createElement("option",{value:"active"},"Active"),i.createElement("option",{value:"inactive"},"Inactive"))),i.createElement("div",{className:"rounded-xl border overflow-hidden"},i.createElement("table",{className:"w-full text-sm"},i.createElement("thead",{className:"bg-slate-50"},i.createElement("tr",{className:"text-left"},i.createElement("th",{className:"p-3"},"Name"),i.createElement("th",{className:"p-3"},"Email"),i.createElement("th",{className:"p-3"},"Status"))),i.createElement("tbody",null,n.items.length===0?i.createElement("tr",null,i.createElement("td",{className:"p-3",colSpan:3},"No users.")):n.items.map(o=>i.createElement("tr",{key:o.id,className:"border-t"},i.createElement("td",{className:"p-3"},o.name),i.createElement("td",{className:"p-3"},o.email),i.createElement("td",{className:"p-3"},i.createElement("span",{className:`px-2 py-1 rounded text-xs ${o.status==="active"?"bg-green-100 text-green-700":"bg-slate-200 text-slate-700"}`},o.status))))))))}function vS(){const[e,t]=p.useState(""),[n,a]=p.useState([]),r=async()=>{const o=new URLSearchParams;e&&o.set("status",e);const l=await(await fetch(`/api/admin/tickets?${o.toString()}`,{credentials:"include"})).json();a(l.items||[])};return p.useEffect(()=>{r()},[]),p.useEffect(()=>{r()},[e]),i.createElement("div",{className:"space-y-4"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("h2",{className:"text-xl font-semibold"},"Tickets"),i.createElement("select",{className:"px-3 py-2 rounded-lg border",value:e,onChange:o=>t(o.target.value)},i.createElement("option",{value:""},"All"),i.createElement("option",{value:"open"},"Open"),i.createElement("option",{value:"in_progress"},"In Progress"),i.createElement("option",{value:"closed"},"Closed"))),i.createElement("div",{className:"grid gap-3"},n.length===0?i.createElement("div",{className:"p-3 rounded-lg border"},"No tickets."):n.map(o=>i.createElement("div",{key:o.id,className:"p-4 rounded-xl border bg-slate-50/60"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("div",{className:"font-medium"},o.title),i.createElement("div",{className:"text-xs text-slate-600"},new Date(o.created_at).toLocaleString())),i.createElement("div",{className:"mt-2 flex items-center gap-2 text-sm"},i.createElement("span",{className:`px-2 py-1 rounded ${o.priority==="high"?"bg-rose-100 text-rose-700":o.priority==="medium"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700"}`},o.priority),i.createElement("span",{className:`px-2 py-1 rounded ${o.status==="open"?"bg-emerald-100 text-emerald-700":o.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-slate-200 text-slate-700"}`},o.status),i.createElement("span",{className:"text-slate-600"},"Assigned: ",o.user_name||"—"))))))}function xS(){const[e,t]=p.useState(null);if(p.useEffect(()=>{(async()=>{const o=await(await fetch("/api/admin/revenue",{credentials:"include"})).json();t(o)})()},[]),!e)return i.createElement("div",null,"Loading…");const n=e.summary||{},a=e.latest||[];return i.createElement("div",{className:"space-y-4"},i.createElement("h2",{className:"text-xl font-semibold"},"Revenue Info"),i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3"},i.createElement("div",{className:"p-4 rounded-xl border bg-white"},i.createElement("div",{className:"text-sm text-slate-600"},"Total Paid"),i.createElement("div",{className:"text-2xl font-semibold"},"$",(n.total_paid??0).toFixed(2))),i.createElement("div",{className:"p-4 rounded-xl border bg-white"},i.createElement("div",{className:"text-sm text-slate-600"},"Total Due"),i.createElement("div",{className:"text-2xl font-semibold"},"$",(n.total_due??0).toFixed(2))),i.createElement("div",{className:"p-4 rounded-xl border bg-white"},i.createElement("div",{className:"text-sm text-slate-600"},"Invoices"),i.createElement("div",{className:"text-2xl font-semibold"},n.invoices??0))),i.createElement("div",{className:"rounded-xl border overflow-hidden"},i.createElement("table",{className:"w-full text-sm"},i.createElement("thead",{className:"bg-slate-50"},i.createElement("tr",{className:"text-left"},i.createElement("th",{className:"p-3"},"Invoice"),i.createElement("th",{className:"p-3"},"Amount"),i.createElement("th",{className:"p-3"},"Status"),i.createElement("th",{className:"p-3"},"Date"))),i.createElement("tbody",null,a.map(r=>{var o;return i.createElement("tr",{key:r.id,className:"border-t"},i.createElement("td",{className:"p-3"},r.invoice_no),i.createElement("td",{className:"p-3"},"$",r.amount),i.createElement("td",{className:"p-3"},i.createElement("span",{className:`px-2 py-1 rounded text-xs ${r.status==="paid"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`},r.status)),i.createElement("td",{className:"p-3"},(o=r.invoice_date)==null?void 0:o.slice(0,10)))})))))}function yS(){const e=Pn(),[t,n]=p.useState(""),[a,r]=p.useState(""),[o,s]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(""),m=async f=>{f.preventDefault(),d(""),c(!0);try{const g=await fetch("/api/admin/staff/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}),w=await g.json();if(c(!1),!g.ok){d(w.message||w.error||"Login failed");return}e(w.redirect||"/superadmin/overview",{replace:!0})}catch{c(!1),d("Network error. Please try again.")}};return i.createElement("div",{className:"min-h-screen grid place-items-center bg-gradient-to-br from-slate-50 to-slate-100 px-4"},i.createElement("div",{className:"w-full max-w-md bg-white border rounded-2xl shadow-sm p-6"},i.createElement("div",{className:"mb-5"},i.createElement("h1",{className:"text-xl font-semibold"},"Staff Sign In"),i.createElement("p",{className:"text-sm text-slate-600 mt-1"},"Super Admin, Admin, and Client Support users can sign in here.")),i.createElement("form",{onSubmit:m,className:"grid gap-3"},i.createElement("div",null,i.createElement("label",{className:"block text-sm mb-1"},"Email"),i.createElement("input",{type:"email",className:"w-full px-3 py-2 rounded-lg border",placeholder:"you@company.com",value:t,onChange:f=>n(f.target.value),required:!0})),i.createElement("div",null,i.createElement("label",{className:"block text-sm mb-1"},"Password"),i.createElement("div",{className:"relative"},i.createElement("input",{type:o?"text":"password",className:"w-full px-3 py-2 rounded-lg border pr-10",placeholder:"••••••••",value:a,onChange:f=>r(f.target.value),required:!0}),i.createElement("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 text-sm",onClick:()=>s(f=>!f)},o?"Hide":"Show"))),i.createElement("button",{disabled:l,className:"mt-1 px-4 py-2 rounded-lg bg-black text-white"},l?"Signing in…":"Sign in"),u&&i.createElement("div",{className:"text-sm text-red-600"},u))))}function wS(){const[e,t]=p.useState([]),[n,a]=p.useState("monthly"),[r,o]=p.useState(!0),[s,l]=p.useState(""),c=f=>Array.isArray(f==null?void 0:f.plans)&&(f==null?void 0:f.provider)==="2checkout"?f.plans.map(g=>({code:g.code,name:g.name,interval:g.interval,price:g.price,currency:g.currency||"USD",features:Array.isArray(g.features)?g.features:[]})):Array.isArray(f==null?void 0:f.plans)?f.plans.flatMap(g=>{const w={code:g.code||g.id||g.name,name:g.name,features:Array.isArray(g.features)?g.features:[],currency:g.currency||"USD"},y=[];return g.monthly_price&&y.push({...w,interval:"month",price:g.monthly_price}),g.yearly_price&&y.push({...w,interval:"year",price:g.yearly_price}),y.length||y.push({...w,interval:"month",price:g.price||0}),y}):[];p.useEffect(()=>{let f=!0;return o(!0),l(""),fetch("/api/billing/prices",{credentials:"include"}).then(g=>g.json()).then(g=>{f&&t(c(g))}).catch(g=>{f&&l(g.message||"Failed to load pricing")}).finally(()=>{f&&o(!1)}),()=>{f=!1}},[]);const u=p.useMemo(()=>{const f=n==="yearly"?"year":"month";return e.filter(g=>(g.interval||"month")===f)},[e,n]),d=(f,g="USD",w="month")=>{try{return`${new Intl.NumberFormat(void 0,{style:"currency",currency:g}).format(f)}/${w==="year"?"yr":"mo"}`}catch{return`$${f}/${w==="year"?"yr":"mo"}`}},m=async f=>{try{const g=await fetch("/api/billing/checkout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan_code:f})}),w=await g.json();if(g.ok&&(w!=null&&w.url))window.location.href=w.url;else throw new Error((w==null?void 0:w.error)||"Unable to start checkout")}catch(g){alert(g.message||"Checkout failed")}};return i.createElement("div",{className:"min-h-screen bg-gray-950 text-white"},i.createElement("div",{className:"mx-auto max-w-6xl px-4 py-16"},i.createElement("h1",{className:"text-4xl font-semibold text-center"},"Choose your plan"),i.createElement("div",{className:"mt-8 flex items-center justify-center gap-4"},i.createElement("button",{onClick:()=>a("monthly"),className:`px-4 py-2 rounded-full ${n==="monthly"?"bg-white text-black":"bg-gray-800"}`},"Monthly"),i.createElement("button",{onClick:()=>a("yearly"),className:`px-4 py-2 rounded-full ${n==="yearly"?"bg-white text-black":"bg-gray-800"}`},"Yearly ",i.createElement("span",{className:"ml-1 text-sm opacity-70"},"(save vs monthly)"))),s&&i.createElement("div",{className:"mt-6 mx-auto max-w-xl rounded-xl bg-red-900/30 border border-red-800 p-3 text-sm text-red-200"},s),i.createElement("div",{className:"grid md:grid-cols-3 gap-6 mt-10"},r?Array.from({length:3}).map((f,g)=>i.createElement("div",{key:g,className:"rounded-2xl bg-gray-900 border border-gray-800 p-6 shadow-xl animate-pulse"},i.createElement("div",{className:"h-6 w-32 bg-gray-800 rounded"}),i.createElement("div",{className:"mt-4 h-4 w-48 bg-gray-800 rounded"}),i.createElement("div",{className:"mt-6 h-10 w-full bg-gray-800 rounded-xl"}))):u.length===0?i.createElement("div",{className:"col-span-full text-center text-gray-300"},"No plans available for this billing period."):u.map(f=>i.createElement("div",{key:`${f.code}-${f.interval}`,className:"rounded-2xl bg-gray-900 border border-gray-800 p-6 shadow-xl flex flex-col"},i.createElement("div",{className:"flex items-start justify-between gap-3"},i.createElement("div",null,i.createElement("h3",{className:"text-xl font-semibold"},f.name),i.createElement("div",{className:"mt-1 text-gray-300"},d(f.price??0,f.currency,f.interval))),i.createElement("span",{className:"text-[10px] tracking-wider rounded-full px-3 py-1 bg-gray-800 border border-gray-700"},f.code)),Array.isArray(f.features)&&f.features.length>0&&i.createElement("div",{className:"mt-5"},i.createElement("ul",{className:"space-y-2 text-sm text-gray-300"},f.features.map((g,w)=>i.createElement("li",{key:w,className:"flex gap-2"},i.createElement("span",null,"•"),i.createElement("span",null,g))))),i.createElement("button",{onClick:()=>m(f.code),className:"mt-6 w-full rounded-2xl bg-white text-black font-medium py-3 hover:opacity-90 transition"},"Get ",f.name)))),i.createElement("div",{className:"mt-16 grid md:grid-cols-2 gap-8 text-gray-300"},i.createElement("div",null,i.createElement("h4",{className:"text-lg font-semibold text-white"},"How do trials work?"),i.createElement("p",{className:"mt-2 text-sm"},"You keep full access until your trial end date. After that, pick a plan to continue.")),i.createElement("div",null,i.createElement("h4",{className:"text-lg font-semibold text-white"},"Can I cancel anytime?"),i.createElement("p",{className:"mt-2 text-sm"},"Yes—manage your subscription from the billing portal. Changes apply next billing cycle.")))))}const ES=["Member","Admin","Owner"],bS=(e="")=>e.trim().toLowerCase(),kS=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);function NS({onClose:e}){const[t,n]=p.useState(""),[a,r]=p.useState([]),[o,s]=p.useState(1),[l,c]=p.useState(!1),[u,d]=p.useState(""),[m,f]=p.useState(""),g=h=>{const v=bS(h);kS(v)&&(a.some(b=>b.email===v)||r([...a,{email:v,role:"Member"}]))},w=h=>r(a.filter(v=>v.email!==h)),y=h=>{if(h.key==="Enter"||h.key===","||h.key===" "){h.preventDefault();const v=t.replace(/[,\s]+$/,"");v&&g(v),n("")}else h.key==="Backspace"&&!t&&r(a.slice(0,-1))},E=p.useMemo(()=>a,[a]),x=async()=>{if(!E.length){d("Add at least one valid email.");return}c(!0),d(""),f("");try{const h=await fetch("/api/workspaces/invites/send",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({invites:E.map(b=>({email:b.email,role:b.role.toLowerCase()}))})}),v=await h.json();if(!h.ok){d(v.error||"Failed to send invites.");return}f(`Sent ${E.length} invite${E.length>1?"s":""}.`),s(3)}catch{d("Network error.")}finally{c(!1)}};return i.createElement("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/50 p-4"},i.createElement("div",{className:"w-full max-w-2xl rounded-2xl border border-white/10 bg-[#111827] text-white shadow-xl overflow-hidden"},i.createElement("div",{className:"px-5 py-4 border-b border-white/10 text-lg font-semibold"},o===1&&"Invite by email",o===2&&"Invite members to your workspace",o===3&&"Invitations sent"),o===1&&i.createElement("div",{className:"p-5"},i.createElement("div",{className:"text-sm text-white/80 mb-2"},"Emails"),i.createElement("div",{className:"rounded-xl border border-white/15 bg-[#0b1324] p-2 min-h-[120px]"},i.createElement("div",{className:"flex flex-wrap gap-2"},a.map(h=>i.createElement("span",{key:h.email,className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1"},i.createElement("span",{className:"text-sm"},h.email),i.createElement("button",{className:"text-white/70 hover:text-white",onClick:()=>w(h.email)},"✕"))),i.createElement("input",{value:t,onChange:h=>n(h.target.value),onKeyDown:y,placeholder:"type email and press Enter",className:"flex-1 min-w-[180px] bg-transparent outline-none text-sm placeholder-white/40"}))),i.createElement("div",{className:"mt-4 rounded-xl border border-white/10 bg-white/5 p-3 text-sm text-white/70"},i.createElement("div",{className:"flex items-start gap-2"},i.createElement("span",{className:"mt-0.5 inline-block h-2 w-2 rounded-full bg-white/40"}),i.createElement("div",null,"Users that accept invites will be included as additional seats on your next invoice."))),u&&i.createElement("div",{className:"mt-3 text-sm text-red-300"},u),i.createElement("div",{className:"mt-5 flex items-center justify-between"},i.createElement("button",{className:"rounded-xl px-4 py-2 text-sm border border-white/15 hover:bg-white/5",onClick:e},"Skip"),i.createElement("button",{className:"rounded-xl px-5 py-2 text-sm font-medium bg-emerald-500 text-black hover:opacity-90 disabled:opacity-50",disabled:!a.length,onClick:()=>s(2)},"Next"))),o===2&&i.createElement("div",{className:"p-5"},i.createElement("div",{className:"text-white/80 text-sm mb-3"},"You can invite members to join the workspace. You can do so at any time from the workspace settings page."),i.createElement("div",{className:"rounded-xl border border-white/10 overflow-hidden"},i.createElement("table",{className:"w-full text-sm"},i.createElement("thead",{className:"bg-white/5"},i.createElement("tr",{className:"text-white/70"},i.createElement("th",{className:"p-3 text-left"},"Email"),i.createElement("th",{className:"p-3 text-left"},"Role"),i.createElement("th",{className:"p-3 w-16"}))),i.createElement("tbody",{className:"divide-y divide-white/10"},E.map((h,v)=>i.createElement("tr",{key:h.email},i.createElement("td",{className:"p-3"},h.email),i.createElement("td",{className:"p-3"},i.createElement("select",{className:"bg-[#0b1324] border border-white/15 rounded-lg px-2 py-1",value:h.role,onChange:b=>{const k=[...a];k[v]={...k[v],role:b.target.value},r(k)}},ES.map(b=>i.createElement("option",{key:b,value:b},b)))),i.createElement("td",{className:"p-3 text-right"},i.createElement("button",{className:"text-white/70 hover:text-white",onClick:()=>w(h.email),title:"Remove"},"🗑"))))))),u&&i.createElement("div",{className:"mt-3 text-sm text-red-300"},u),i.createElement("div",{className:"mt-5 flex items-center justify-between"},i.createElement("button",{className:"rounded-xl px-4 py-2 text-sm border border-white/15 hover:bg-white/5",onClick:()=>s(1)},"Back"),i.createElement("button",{className:"rounded-xl px-5 py-2 text-sm font-medium bg-emerald-500 text-black hover:opacity-90 disabled:opacity-50",disabled:!E.length||l,onClick:x},l?"Sending invites…":"Send invites"))),o===3&&i.createElement("div",{className:"p-5"},i.createElement("div",{className:"text-emerald-300 text-sm"},m||"Invitations sent."),i.createElement("div",{className:"mt-4 text-right"},i.createElement("button",{className:"rounded-xl px-5 py-2 text-sm border border-white/15 hover:bg-white/5",onClick:e},"Close")))))}const sa=(...e)=>e.filter(Boolean).join(" "),SS=(e="")=>(e.trim()[0]||"U").toUpperCase(),CS=(e="",t="")=>{const n=(e||"").trim();return n?n.split(/\s+/).slice(0,2).map(r=>r[0]).join("").toUpperCase():SS(t)},PS=(e="")=>e.toLowerCase();function _S(){const[e,t]=p.useState(null),[n,a]=p.useState([]),[r,o]=p.useState([]),[s,l]=p.useState([]),[c,u]=p.useState("users"),[d,m]=p.useState(""),[f,g]=p.useState(""),[w,y]=p.useState(""),[E,x]=p.useState(""),[h,v]=p.useState(!1),[b,k]=p.useState(""),[T,_]=p.useState(""),[P,z]=p.useState(!1),D=async()=>{try{const N=await fetch("/api/workspaces/me",{credentials:"include"});if(N.status===402){k("Team plan required. Upgrade to access shared workspaces.");return}if(!N.ok)throw new Error("Failed to load workspace.");const F=await N.json();t(F.workspace),a(Array.isArray(F.members)?F.members:[])}catch(N){k(N.message||"Failed to load workspace.")}},C=async()=>{try{const N=await fetch("/api/workspaces/invites/pending",{credentials:"include"});if(!N.ok)throw new Error;const F=await N.json();o(Array.isArray(F.invites)?F.invites:[])}catch{o([])}},I=async()=>{try{const N=await fetch("/api/workspaces/requests/pending",{credentials:"include"});if(!N.ok)throw new Error;const F=await N.json();l(Array.isArray(F.requests)?F.requests:[])}catch{l([])}},O=async()=>{k(""),_(""),await D(),await Promise.all([C(),I()])};p.useEffect(()=>{O()},[]);const j=p.useMemo(()=>{const N=(e==null?void 0:e.seats_used)??n.filter(ne=>ne.status==="active").length,F=(e==null?void 0:e.seats_limit)??0,q=F?Math.min(100,Math.round(N/F*100)):0;return{used:N,limit:F,pct:q}},[e,n]),G=async()=>{k(""),_("");const N=E.trim().toLowerCase();if(!N)return k("Enter an email to add a teammate.");v(!0);try{const F=await fetch("/api/workspaces/members/add",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:N})}),q=await F.json().catch(()=>({}));if(!F.ok){const ne=(q==null?void 0:q.error)||"Failed to add member.";k(ne);return}x(""),_(`Added ${N} to “${(e==null?void 0:e.name)||"Workspace"}”.`),await D()}catch{k("Could not add member. Please try again.")}finally{v(!1)}},K=async(N,F)=>{if(window.confirm(`Remove ${F}?`)){k(""),_(""),v(!0);try{const q=await fetch(`/api/workspaces/members/${N}`,{method:"DELETE",credentials:"include"}),ne=await q.json().catch(()=>({}));if(!q.ok)return k((ne==null?void 0:ne.error)||"Failed to remove member.");_(`Removed ${F}.`),await D()}catch{k("Could not remove member.")}finally{v(!1)}}},oe=async N=>{if(window.confirm("Cancel this invite?")){v(!0),k(""),_("");try{if(!(await fetch(`/api/workspaces/invites/${N}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to cancel invite.");_("Invite cancelled."),await C()}catch(F){k(F.message||"Failed to cancel invite.")}finally{v(!1)}}},S=async N=>{v(!0),k(""),_("");try{if(!(await fetch(`/api/workspaces/invites/${N}/resend`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to resend invite.");_("Invite resent.")}catch(F){k(F.message||"Failed to resend invite.")}finally{v(!1)}},R=async N=>{v(!0),k(""),_("");try{if(!(await fetch(`/api/workspaces/requests/${N}/accept`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to accept request.");_("Request accepted."),await Promise.all([D(),I()])}catch(F){k(F.message||"Failed to accept request.")}finally{v(!1)}},B=async N=>{v(!0),k(""),_("");try{if(!(await fetch(`/api/workspaces/requests/${N}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to reject request.");_("Request rejected."),await I()}catch(F){k(F.message||"Failed to reject request.")}finally{v(!1)}};if(b&&!e)return i.createElement("div",{className:"min-h-[60vh] flex items-center justify-center bg-gray-950 text-white px-6"},i.createElement("div",{className:"max-w-lg w-full rounded-2xl border border-red-500/20 bg-gradient-to-b from-red-500/10 to-transparent p-6"},i.createElement("div",{className:"text-red-300 font-semibold"},"Workspace unavailable"),i.createElement("div",{className:"mt-2 text-red-200/90 text-sm"},b),i.createElement("div",{className:"mt-4"},i.createElement("a",{href:"/pricing",className:"inline-flex items-center gap-2 rounded-xl bg-white text-black px-4 py-2 text-sm"},"Upgrade plan",i.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M5 12h12M13 5l7 7-7 7"}))))));if(!e)return i.createElement("div",{className:"min-h-[60vh] grid place-items-center bg-gray-950 text-white"},i.createElement("div",{className:"animate-pulse text-white/70"},"Loading workspace…"));const U=n.filter(N=>{var pe,me;const F=d.trim().toLowerCase();if(!F)return!0;const q=(((pe=N==null?void 0:N.user)==null?void 0:pe.name)||"").toLowerCase(),ne=(((me=N==null?void 0:N.user)==null?void 0:me.email)||"").toLowerCase(),ie=((N==null?void 0:N.role)||"").toLowerCase();return q.includes(F)||ne.includes(F)||ie.includes(F)}),X=r.filter(N=>{const F=f.trim().toLowerCase();return F?((N==null?void 0:N.email)||"").toLowerCase().includes(F):!0}),V=s.filter(N=>{const F=w.trim().toLowerCase();return F?((N==null?void 0:N.email)||"").toLowerCase().includes(F):!0});return i.createElement("div",{className:"min-h-screen bg-gray-950 text-white"},i.createElement("div",{className:"relative overflow-hidden"},i.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,#1f3b74_0%,transparent_40%),radial-gradient(circle_at_80%_0%,#0ea5e9_0%,transparent_35%)] opacity-50"}),i.createElement("div",{className:"relative mx-auto max-w-6xl px-6 py-12"},i.createElement("div",{className:"flex items-start justify-between gap-6"},i.createElement("div",null,i.createElement("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80"},i.createElement("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-400"}),"Team workspace"),i.createElement("h1",{className:"mt-3 text-3xl md:text-4xl font-semibold tracking-tight"},e.name||"Workspace"),i.createElement("p",{className:"mt-2 text-white/70 text-sm"},"Collaborate with teammates. Share access, manage seats, and work faster together."),i.createElement("div",{className:"mt-5 flex gap-2"},i.createElement("button",{onClick:()=>z(!0),className:"rounded-xl bg-emerald-500 text-black px-4 py-2 text-sm font-medium hover:opacity-90"},"Invite members"),i.createElement("a",{href:"/pricing",className:"rounded-xl border border-white/15 bg-white/5 px-4 py-2 text-sm hover:bg-white/10"},"Get more seats"))),i.createElement("div",{className:"shrink-0 w-[260px] rounded-2xl border border-white/10 bg-white/5 p-4"},i.createElement("div",{className:"text-sm text-white/80"},"Seats"),i.createElement("div",{className:"mt-1 text-lg font-semibold"},j.used," / ",j.limit),i.createElement("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-white/10"},i.createElement("div",{className:sa("h-full rounded-full transition-all",j.pct<70?"bg-emerald-400":j.pct<100?"bg-yellow-300":"bg-red-400"),style:{width:`${j.pct}%`}})),i.createElement("div",{className:"mt-3 text-[11px] text-white/60"},j.pct>=100?"All seats are used.":"Invite your teammates below."))))),i.createElement("div",{className:"mx-auto max-w-6xl px-6 pb-16"},(T||b)&&i.createElement("div",{role:"status",className:sa("mt-6 rounded-xl border p-3 text-sm",T?"border-emerald-500/20 bg-emerald-500/10 text-emerald-200":"border-red-500/20 bg-red-500/10 text-red-200")},T||b),i.createElement("div",{className:"mt-8 rounded-2xl border border-white/10 bg-white/5 p-4"},i.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:gap-3 gap-2"},i.createElement("div",{className:"text-sm text-white/80"},"Add existing user"),i.createElement("div",{className:"flex-1 flex gap-2"},i.createElement("input",{value:E,onChange:N=>x(N.target.value),placeholder:"teammate@company.com",className:"w-full rounded-xl border border-white/15 bg-[#0b1324] px-3 py-2 text-sm placeholder-white/35 outline-none focus:ring-2 focus:ring-sky-500/40"}),i.createElement("button",{onClick:G,disabled:h||j.used>=j.limit,className:sa("rounded-xl px-4 py-2 text-sm font-medium transition",h||j.used>=j.limit?"bg-white/20 text-white/70 cursor-not-allowed":"bg-white text-black hover:opacity-90")},h?"Adding…":"Add member")),i.createElement("div",{className:"text-[11px] text-white/50"},"Instantly adds existing accounts by email. Use “Invite members” to email new teammates."))),i.createElement("div",{className:"mt-6"},i.createElement("div",{className:"flex items-center gap-2 border-b border-white/10"},[{key:"users",label:"Users",count:n.length},{key:"invites",label:"Pending invites",count:r.length},{key:"requests",label:"Pending requests",count:s.length}].map(N=>i.createElement("button",{key:N.key,onClick:()=>u(N.key),className:sa("relative px-3 py-2 text-sm",c===N.key?"text-white":"text-white/60 hover:text-white/80")},N.label,i.createElement("span",{className:sa("ml-2 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full border px-1 text-[11px]",c===N.key?"border-white/20 bg-white/10":"border-white/10 bg-white/5 text-white/70")},N.count),c===N.key&&i.createElement("span",{className:"absolute -bottom-px left-0 right-0 h-0.5 bg-white"})))),c==="users"&&i.createElement("section",{className:"mt-4"},i.createElement("div",{className:"mb-3"},i.createElement("input",{value:d,onChange:N=>m(N.target.value),placeholder:"Filter by name, email, or role",className:"w-full md:w-80 rounded-xl border border-white/15 bg-[#0b1324] px-3 py-2 text-sm placeholder-white/35 outline-none focus:ring-2 focus:ring-sky-500/40"})),i.createElement("div",{className:"rounded-2xl border border-white/10 overflow-hidden"},i.createElement("table",{className:"w-full text-sm"},i.createElement("thead",{className:"bg-white/5"},i.createElement("tr",{className:"text-white/70"},i.createElement("th",{className:"p-3 text-left"},"User"),i.createElement("th",{className:"p-3 text-left"},"Account type"),i.createElement("th",{className:"p-3 text-left"},"Status"),i.createElement("th",{className:"p-3 text-left w-32"},"Actions"))),i.createElement("tbody",{className:"divide-y divide-white/10"},U.map(N=>{var ie,pe;const F=((ie=N==null?void 0:N.user)==null?void 0:ie.name)||"",q=PS(((pe=N==null?void 0:N.user)==null?void 0:pe.email)||""),ne=N.user_id===e.owner_user_id;return i.createElement("tr",{key:N.id,className:"hover:bg-white/5"},i.createElement("td",{className:"p-3"},i.createElement("div",{className:"flex items-center gap-3"},i.createElement("div",{className:"grid h-9 w-9 place-items-center rounded-full bg-white/10"},i.createElement("span",{className:"text-xs font-semibold text-white/80"},CS(F,q))),i.createElement("div",null,i.createElement("div",{className:"font-medium"},F||q||"User"),q&&i.createElement("div",{className:"text-[11px] text-white/60"},q)))),i.createElement("td",{className:"p-3"},ne?"Owner":N.role||"Member"),i.createElement("td",{className:"p-3"},i.createElement("span",{className:sa("inline-flex items-center rounded-full px-2 py-0.5 text-[11px]",N.status==="active"?"bg-emerald-400/15 text-emerald-300":"bg-white/10 text-white/60")},N.status)),i.createElement("td",{className:"p-3"},i.createElement("button",{disabled:ne,onClick:()=>K(N.id,F||q||"this member"),className:sa("rounded-lg border px-3 py-1.5 transition text-[13px]",ne?"border-white/10 text-white/40 cursor-not-allowed":"border-white/15 bg-white/5 hover:bg-white text-white hover:text-black")},"Remove")))}),U.length===0&&i.createElement("tr",null,i.createElement("td",{colSpan:4,className:"p-6 text-center text-white/60"},"No users match the filter.")))))),c==="invites"&&i.createElement("section",{className:"mt-4"},i.createElement("div",{className:"flex items-center justify-between gap-3 mb-3"},i.createElement("input",{value:f,onChange:N=>g(N.target.value),placeholder:"Search for invites",className:"w-full md:w-80 rounded-xl border border-white/15 bg-[#0b1324] px-3 py-2 text-sm placeholder-white/35 outline-none focus:ring-2 focus:ring-sky-500/40"}),i.createElement("button",{onClick:()=>z(!0),className:"rounded-xl border border-white/15 bg-white/5 px-4 py-2 text-sm hover:bg-white hover:text-black"},"Invite member")),i.createElement("div",{className:"rounded-2xl border border-white/10 overflow-hidden"},i.createElement("table",{className:"w-full text-sm"},i.createElement("thead",{className:"bg-white/5"},i.createElement("tr",{className:"text-white/70"},i.createElement("th",{className:"p-3 text-left"},"Email"),i.createElement("th",{className:"p-3 text-left"},"Date invited"),i.createElement("th",{className:"p-3 text-left"},"Account type"),i.createElement("th",{className:"p-3 text-left w-40"},"Actions"))),i.createElement("tbody",{className:"divide-y divide-white/10"},X.map(N=>i.createElement("tr",{key:N.id,className:"hover:bg-white/5"},i.createElement("td",{className:"p-3"},(N.email||"").toLowerCase()),i.createElement("td",{className:"p-3"},N.invited_at?new Date(N.invited_at).toLocaleDateString():"—"),i.createElement("td",{className:"p-3"},N.role||"Member"),i.createElement("td",{className:"p-3"},i.createElement("div",{className:"flex gap-2"},i.createElement("button",{onClick:()=>S(N.id),className:"rounded-lg border border-white/15 bg-white/5 hover:bg-white hover:text-black px-3 py-1.5 text-[13px]"},"Resend"),i.createElement("button",{onClick:()=>oe(N.id),className:"rounded-lg border border-white/15 bg-white/5 hover:bg-red-500/90 hover:border-red-500/80 px-3 py-1.5 text-[13px]"},"Cancel"))))),X.length===0&&i.createElement("tr",null,i.createElement("td",{colSpan:4,className:"p-6 text-center text-white/60"},"No results")))))),c==="requests"&&i.createElement("section",{className:"mt-4"},i.createElement("div",{className:"flex items-center justify-between gap-3 mb-3"},i.createElement("input",{value:w,onChange:N=>y(N.target.value),placeholder:"Search for requests",className:"w-full md:w-80 rounded-xl border border-white/15 bg-[#0b1324] px-3 py-2 text-sm placeholder-white/35 outline-none focus:ring-2 focus:ring-sky-500/40"}),V.length>0&&i.createElement("button",{onClick:async()=>{v(!0),k(""),_("");try{await Promise.all(V.map(N=>fetch(`/api/workspaces/requests/${N.id}/accept`,{method:"POST",credentials:"include"}))),_("All requests accepted."),await Promise.all([D(),I()])}catch{k("Failed to accept all requests.")}finally{v(!1)}},className:"rounded-xl border border-white/15 bg-white/5 px-4 py-2 text-sm hover:bg-white hover:text-black"},"Accept all")),i.createElement("div",{className:"rounded-2xl border border-white/10 overflow-hidden"},i.createElement("table",{className:"w-full text-sm"},i.createElement("thead",{className:"bg-white/5"},i.createElement("tr",{className:"text-white/70"},i.createElement("th",{className:"p-3 text-left"},"Email"),i.createElement("th",{className:"p-3 text-left"},"Account type"),i.createElement("th",{className:"p-3 text-left w-48"},"Actions"))),i.createElement("tbody",{className:"divide-y divide-white/10"},V.map(N=>i.createElement("tr",{key:N.id,className:"hover:bg-white/5"},i.createElement("td",{className:"p-3"},(N.email||"").toLowerCase()),i.createElement("td",{className:"p-3"},N.role||"Member"),i.createElement("td",{className:"p-3"},i.createElement("div",{className:"flex gap-2"},i.createElement("button",{onClick:()=>R(N.id),className:"rounded-lg border border-white/15 bg-white/5 hover:bg-white hover:text-black px-3 py-1.5 text-[13px]"},"Accept"),i.createElement("button",{onClick:()=>B(N.id),className:"rounded-lg border border-white/15 bg-white/5 hover:bg-red-500/90 hover:border-red-500/80 px-3 py-1.5 text-[13px]"},"Reject"))))),V.length===0&&i.createElement("tr",null,i.createElement("td",{colSpan:3,className:"p-6 text-center text-white/60"},"No results"))))))),i.createElement("div",{className:"mt-10 text-center text-xs text-white/40"},"Need more seats?"," ",i.createElement("a",{href:"/pricing",className:"underline decoration-dotted hover:text-white/70"},"Contact us or upgrade"),".")),P&&i.createElement(NS,{onClose:async()=>{z(!1),await Promise.all([D(),C()])}}))}function TS(){const[e,t]=p.useState("Preparing…");return p.useEffect(()=>{(async()=>{const a=new URLSearchParams(window.location.search).get("token")||"";try{const r=await fetch("/api/workspaces/invites/accept",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})}),o=await r.json().catch(()=>({}));if(o!=null&&o.requires_login){const s=encodeURIComponent(`/workspace/accept?token=${encodeURIComponent(a)}`);if(o.has_account)window.location.replace(`/login?next=${s}`);else{const l=o.invite_email?`&email=${encodeURIComponent(o.invite_email)}`:"";window.location.replace(`/signup?next=${s}${l}`)}return}if(!r.ok){const s=(o==null?void 0:o.error)||`Failed (${r.status})`;t(s==="expired"?"This invite link has expired.":s==="invalid_or_used"?"Invite link is invalid or already used.":s==="email_mismatch"?"You are signed in with a different email than the invite was sent to.":s==="seats_exhausted"?"All seats are used for that workspace.":"Could not join workspace.");return}window.location.replace("/workspace")}catch{t("Network error.")}})()},[]),i.createElement("div",{className:"min-h-screen grid place-items-center bg-[#0b1324] text-white"},i.createElement("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-6 py-4 text-sm"},e))}function Ex(e){return ue({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}const Yf={}.VITE_API_BASE_URL||"";function LS(){const[e,t]=p.useState(""),[n,a]=p.useState(""),[r,o]=p.useState(!1),[s,l]=p.useState(!1),[c,u]=p.useState(""),d=async f=>{f.preventDefault(),l(!0),u("");try{const g=await fetch(`${Yf}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",cache:"no-store",body:JSON.stringify({email:e,password:n})}),w=await g.json().catch(()=>({}));if(!g.ok)throw new Error((w==null?void 0:w.error)||"Login failed");try{sessionStorage.clear(),localStorage.clear()}catch{}await fetch("/api/auth/me",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}}),window.location.replace("/dashboard")}catch(g){u(g.message||"Login failed")}finally{l(!1)}},m=async()=>{if(!e){u("Enter your email first to receive a reset link.");return}try{if(u(""),!(await fetch(`${Yf}/api/auth/forgot`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",cache:"no-store",body:JSON.stringify({email:e})})).ok)throw new Error("Could not send reset link");alert("If this email exists, a reset link has been sent.")}catch(f){u(f.message)}};return i.createElement("div",{className:"min-h-screen w-full bg-blue-600 flex items-center justify-center px-4 py-10"},i.createElement(gs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.35},className:"bg-white w-full max-w-lg rounded-2xl shadow-xl p-8 md:p-10"},i.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Login"),i.createElement("form",{onSubmit:d,className:"mt-8 space-y-5"},c?i.createElement("div",{className:"p-3 rounded-lg bg-red-50 text-red-700 text-sm"},c):null,i.createElement("label",{className:"block"},i.createElement("span",{className:"sr-only"},"Email"),i.createElement("div",{className:"relative"},i.createElement(vx,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),i.createElement("input",{type:"email",required:!0,value:e,onChange:f=>t(f.target.value),placeholder:"Email",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-gray-900 placeholder:text-gray-400"}))),i.createElement("label",{className:"block"},i.createElement("span",{className:"sr-only"},"Password"),i.createElement("div",{className:"relative"},i.createElement(uu,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),i.createElement("input",{type:r?"text":"password",required:!0,value:n,onChange:f=>a(f.target.value),placeholder:"Password",className:"w-full pl-10 pr-11 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-gray-900 placeholder:text-gray-400"}),i.createElement("button",{type:"button",onClick:()=>o(f=>!f),"aria-label":r?"Hide password":"Show password",className:"absolute right-3 top-2.5 p-1 text-gray-500 hover:text-gray-700"},r?i.createElement(lu,{className:"w-5 h-5"}):i.createElement(cu,{className:"w-5 h-5"})))),i.createElement("div",{className:"flex items-center justify-between -mt-1"},i.createElement("button",{type:"button",onClick:m,className:"text-sm text-blue-600 hover:text-blue-700"},"Forgot password?")),i.createElement("button",{type:"submit",disabled:s,className:"w-full py-3 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition shadow-md disabled:opacity-60"},s?"Logging in...":"Login"),i.createElement("p",{className:"text-center text-sm text-gray-600"},"Don’t have an account?"," ",i.createElement(Rs,{to:"/signup",className:"text-blue-600 hover:text-blue-700 font-medium"},"Signup")),i.createElement(AS,{text:"Or"}),i.createElement("div",{className:"space-y-3"},i.createElement("button",{type:"button",className:"w-full py-3 rounded-xl bg-[#4267B2] text-white font-semibold flex items-center justify-center gap-3 hover:brightness-95"},i.createElement(D0,{className:"text-xl"})," Login with Facebook"),i.createElement("button",{type:"button",disabled:!0,className:"w-full py-3 rounded-xl bg-gray-100 text-gray-600 font-semibold flex items-center justify-center gap-3 cursor-not-allowed"},i.createElement(Ex,{className:"text-xl"})," Login with Google")))))}function AS({text:e}){return i.createElement("div",{className:"flex items-center gap-4"},i.createElement("span",{className:"h-px flex-1 bg-gray-200"}),i.createElement("span",{className:"text-gray-400 text-sm"},e),i.createElement("span",{className:"h-px flex-1 bg-gray-200"}))}const DS={}.VITE_API_BASE_URL||"";function MS(){Pn();const[e,t]=p.useState(""),[n,a]=p.useState(""),[r,o]=p.useState(""),[s,l]=p.useState(!1),[c,u]=p.useState(!1),[d,m]=p.useState(!1),[f,g]=p.useState(""),w=p.useMemo(()=>{const x=new URLSearchParams(window.location.search).get("next");return x&&x.startsWith("/")?x:"/"},[]);p.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("email");x&&t(x)},[]);const y=async E=>{if(E.preventDefault(),g(""),n!==r){g("Passwords do not match");return}m(!0);try{const x=await fetch(`${DS}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:n})}),h=await x.json().catch(()=>({}));if(!x.ok)throw new Error((h==null?void 0:h.error)||"Signup failed");const v=await fetch("/api/auth/me",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}}).then(k=>k.json()).catch(()=>({}));if(v!=null&&v.ok||v!=null&&v.email||v!=null&&v.logged_in){window.location.replace(w);return}const b=new URLSearchParams({next:w,email:e}).toString();window.location.replace(`/login?${b}`)}catch(x){g(x.message)}finally{m(!1)}};return i.createElement("div",{className:"min-h-screen w-full bg-blue-600 flex items-center justify-center px-4 py-10"},i.createElement(gs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.35},className:"bg-white w-full max-w-lg rounded-2xl shadow-xl p-8 md:p-10"},i.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Signup"),i.createElement("form",{onSubmit:y,className:"mt-8 space-y-5"},f?i.createElement("div",{className:"p-3 rounded-lg bg-red-50 text-red-700 text-sm"},f):null,i.createElement("label",{className:"block"},i.createElement("span",{className:"sr-only"},"Email"),i.createElement("div",{className:"relative"},i.createElement(vx,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),i.createElement("input",{type:"email",required:!0,value:e,onChange:E=>t(E.target.value),placeholder:"Email",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-gray-900 placeholder:text-gray-400"}))),i.createElement("label",{className:"block"},i.createElement("span",{className:"sr-only"},"Create password"),i.createElement("div",{className:"relative"},i.createElement(uu,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),i.createElement("input",{type:s?"text":"password",required:!0,value:n,onChange:E=>a(E.target.value),placeholder:"Create password",className:"w-full pl-10 pr-11 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-gray-900 placeholder:text-gray-400"}),i.createElement("button",{type:"button",onClick:()=>l(E=>!E),"aria-label":s?"Hide password":"Show password",className:"absolute right-3 top-2.5 p-1 text-gray-500 hover:text-gray-700"},s?i.createElement(lu,{className:"w-5 h-5"}):i.createElement(cu,{className:"w-5 h-5"})))),i.createElement("label",{className:"block"},i.createElement("span",{className:"sr-only"},"Confirm password"),i.createElement("div",{className:"relative"},i.createElement(uu,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),i.createElement("input",{type:c?"text":"password",required:!0,value:r,onChange:E=>o(E.target.value),placeholder:"Confirm password",className:"w-full pl-10 pr-11 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-gray-900 placeholder:text-gray-400"}),i.createElement("button",{type:"button",onClick:()=>u(E=>!E),"aria-label":c?"Hide password":"Show password",className:"absolute right-3 top-2.5 p-1 text-gray-500 hover:text-gray-700"},c?i.createElement(lu,{className:"w-5 h-5"}):i.createElement(cu,{className:"w-5 h-5"})))),i.createElement("button",{type:"submit",disabled:d,className:"w-full py-3 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition shadow-md disabled:opacity-60"},d?"Creating account...":"Signup"),i.createElement("p",{className:"text-center text-sm text-gray-600"},"Already have an account?"," ",i.createElement(Rs,{to:`/login?next=${encodeURIComponent(w)}${e?`&email=${encodeURIComponent(e)}`:""}`,className:"text-blue-600 hover:text-blue-700 font-medium"},"Login")),i.createElement(RS,{text:"Or"}),i.createElement("div",{className:"space-y-3"},i.createElement("button",{type:"button",className:"w-full py-3 rounded-xl bg-[#4267B2] text-white font-semibold flex items-center justify-center gap-3 hover:brightness-95"},i.createElement(D0,{className:"text-xl"})," Login with Facebook"),i.createElement("button",{type:"button",disabled:!0,className:"w-full py-3 rounded-xl bg-gray-100 text-gray-600 font-semibold flex items-center justify-center gap-3 cursor-not-allowed"},i.createElement(Ex,{className:"text-xl"})," Login with Google")))))}function RS({text:e}){return i.createElement("div",{className:"flex items-center gap-4"},i.createElement("span",{className:"h-px flex-1 bg-gray-200"}),i.createElement("span",{className:"text-gray-400 text-sm"},e),i.createElement("span",{className:"h-px flex-1 bg-gray-200"}))}function jS(){var me,ke,Te,ct,le,Ze,ut,He,Ce,ve,Je,Lt;const e=Pn(),[t,n]=mE(),[a,r]=p.useState(!0),[o,s]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState(""),[m,f]=p.useState(null),[g,w]=p.useState([{provider:"sharepoint",connected:!1},{provider:"onedrive",connected:!1},{provider:"google_drive",connected:!1},{provider:"dropbox",connected:!1},{provider:"box",connected:!1},{provider:"mega",connected:!1}]),[y,E]=p.useState(!1),[x,h]=p.useState("home"),[v,b]=p.useState(!1),[k,T]=p.useState(!1),[_,P]=p.useState(!1),z=p.useRef(null);p.useEffect(()=>{function Q(J){z.current&&!z.current.contains(J.target)&&T(!1)}return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]);const D=p.useMemo(()=>{const Q={};for(const J of g)Q[J.provider]=J;return Q},[g]),C=p.useMemo(()=>g.some(Q=>Q.connected)||!1,[g]),I=p.useMemo(()=>g.filter(Q=>Q.connected).length,[g]),O=g.length||6,j=Math.round(I/O*100),G=p.useCallback(async()=>{const J=await(await fetch("/api/auth/me",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json().catch(()=>({})),H=J!=null&&J.authenticated?J.user:null;return f(H),H},[]),K=p.useCallback(async()=>{r(!0),c(""),d("");try{const Q=await fetch("/api/connections",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}}),J=await Q.json();if(!Q.ok)throw new Error((J==null?void 0:J.error)||"Failed to load connections");w(J.connections||[])}catch(Q){c(Q.message||"Failed to load connections")}finally{r(!1)}},[]);p.useEffect(()=>{let Q=!0;return(async()=>{r(!0);const J=await G();Q&&(w([]),J&&await K(),r(!1))})(),()=>{Q=!1}},[G,K]),p.useEffect(()=>{const Q=t.get("connected");Q==="ms"&&d("Microsoft connected."),Q==="google"&&d("Google Drive connected."),(Q==="dropbox"||Q==="dbx")&&d("Dropbox connected."),Q==="box"&&d("Box connected."),Q==="all"&&d("All providers connected."),Q&&(t.delete("connected"),n(t,{replace:!0}),K())},[t,n,K]);function oe(){h("home"),E(!0)}async function S(){const J=await(await fetch("/api/connections/dropbox/authurl",{credentials:"include"})).json();J.auth_url&&(window.location.href=J.auth_url)}async function R(){s(!0),c(""),d("");try{const Q=await fetch("/api/connections/dropbox/disconnect",{method:"DELETE",credentials:"include"}),J=await Q.json().catch(()=>({}));if(!Q.ok)throw new Error((J==null?void 0:J.error)||"Failed to disconnect Dropbox");await K(),d("Dropbox disconnected.")}catch(Q){c(Q.message||"Failed to disconnect Dropbox")}finally{s(!1)}}async function B(){const J=await(await fetch("/api/connections/box/authurl",{credentials:"include"})).json();J.auth_url&&(window.location.href=J.auth_url)}async function U(){s(!0),c(""),d("");try{const Q=await fetch("/api/connections/box/disconnect",{method:"DELETE",credentials:"include"}),J=await Q.json().catch(()=>({}));if(!Q.ok)throw new Error((J==null?void 0:J.error)||"Failed to disconnect Box");await K(),d("Box disconnected.")}catch(Q){c(Q.message||"Failed to disconnect Box")}finally{s(!1)}}async function X(Q){s(!0),c(""),d("");try{const J=await fetch(`/api/connections/microsoft/disconnect/${Q}`,{method:"DELETE",credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}}),H=await J.json();if(!J.ok)throw new Error((H==null?void 0:H.error)||"Failed to disconnect");await K(),d(`${Q==="sharepoint"?"SharePoint":"OneDrive"} disconnected.`)}catch(J){c(J.message||"Failed to disconnect")}finally{s(!1)}}async function V(){s(!0),c(""),d("");try{const Q=await fetch("/api/connections/google/disconnect",{method:"DELETE",credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}}),J=await Q.json();if(!Q.ok)throw new Error((J==null?void 0:J.error)||"Failed to disconnect Google Drive");await K(),d("Google Drive disconnected.")}catch(Q){c(Q.message||"Failed to disconnect Google Drive")}finally{s(!1)}}function N(){b(!0)}async function F(){s(!0),c(""),d("");try{const Q=await fetch("/api/connections/mega/disconnect",{method:"DELETE",credentials:"include"}),J=await Q.json().catch(()=>({}));if(!Q.ok)throw new Error((J==null?void 0:J.error)||"Failed to disconnect MEGA");await K(),d("MEGA disconnected.")}catch(Q){c(Q.message||"Failed to disconnect MEGA")}finally{s(!1)}}async function q(){s(!0),c(""),d("");try{const Q=await fetch("/api/connections/connect_all",{method:"POST",credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}}),J=await Q.json();if(!Q.ok)throw new Error((J==null?void 0:J.error)||"Failed to connect all");if(J.redirect){window.location.href=J.redirect;return}await K(),J.done?d("All providers connected."):d(J.message||"Microsoft sources connected.")}catch(Q){c(Q.message||"Failed to connect all")}finally{s(!1)}}function ne(){e("/")}async function ie(){try{s(!0);const Q=await fetch("/api/auth/logout",{method:"POST",credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}});try{await Q.json()}catch{}}finally{s(!1),w([]),f(null),e("/login",{replace:!0})}}const pe=p.useMemo(()=>m!=null&&m.email?m.email.charAt(0).toUpperCase():"U",[m]);return p.useEffect(()=>{if(!l&&!u)return;const Q=setTimeout(()=>{c(""),d("")},4e3);return()=>clearTimeout(Q)},[l,u]),i.createElement("div",{className:"min-h-screen theme-surface"},i.createElement("div",{className:"sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-[#0b1324]/70 border-b border-white/10"},i.createElement("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center justify-between"},i.createElement("div",{className:"flex items-center gap-3 text-white"},i.createElement("span",{className:"text-lg font-semibold"},"Storage Connections"),i.createElement("span",{className:"text-[11px] hidden sm:inline"},I," of ",O," connected")),i.createElement("div",{className:"flex items-center gap-2"},i.createElement("button",{onClick:q,className:"rounded-full bg-white text-black px-4 py-2 text-sm font-semibold hover:opacity-90 disabled:opacity-60",disabled:o,title:"Enable SharePoint & OneDrive and start Google OAuth"},o?"Please wait…":"Connect all"),i.createElement("button",{onClick:ne,disabled:!C,className:`rounded-full px-4 py-2 text-sm font-semibold transition ${C?"bg-[#E0C389] text-black hover:brightness-95":"cursor-not-allowed bg-zinc-700 text-zinc-400"}`,title:C?"Open Assistant":"Connect a provider to continue"},"Open Assistant"),i.createElement("div",{className:"relative",ref:z},i.createElement("button",{onClick:()=>T(Q=>!Q),className:"ml-1 inline-flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-indigo-900 to-indigo-700 text-sm font-bold ring-1 ring-white/10",title:(m==null?void 0:m.email)||"Account"},pe),k&&i.createElement("div",{role:"menu",className:"absolute right-0 z-50 mt-2 w-64 rounded-2xl border theme-border theme-card p-2 shadow-2xl backdrop-blur"},i.createElement("div",{className:"px-3 py-2"},i.createElement("div",{className:"text-xs theme-text opacity-70"},"Signed in as"),i.createElement("div",{className:"truncate text-sm theme-text",title:(m==null?void 0:m.email)||""},(m==null?void 0:m.email)||"Unknown")),i.createElement("div",{className:"my-1 border-t theme-border"}),i.createElement("button",{role:"menuitem",onClick:()=>{P(!0),T(!1)},className:"flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left text-sm theme-text hover:bg-black/5"},i.createElement(BE,{className:"opacity-80"}),"Profile"),i.createElement("button",{role:"menuitem",onClick:ie,className:`mt-1 flex w-full items-center gap-2 rounded-xl px-3 py-2 text-left text-sm\r
               text-red-600 hover:bg-red-500/10`},i.createElement(zE,null),"Logout")))))),i.createElement("div",{className:"relative"},i.createElement("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(60%_40%_at_50%_-10%,rgba(124,58,237,.25),transparent)]"}),i.createElement("div",{className:"mx-auto max-w-6xl px-4 pt-8"},i.createElement("div",{className:"rounded-3xl theme-border theme-tint backdrop-blur-xl p-6 shadow-2xl"},i.createElement("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between"},i.createElement("div",null,i.createElement("h1",{className:"text-2xl md:text-3xl font-bold"},"Connect your world"),i.createElement("p",{className:"mt-1"},"Link your cloud drives so the assistant can find files wherever they live.")),i.createElement("div",{className:"flex items-center gap-4"},i.createElement("div",{className:"relative grid place-items-center w-16 h-16"},i.createElement("svg",{viewBox:"0 0 36 36",className:"w-16 h-16 -rotate-90"},i.createElement("path",{d:"M18 2a16 16 0 1 1 0 32a16 16 0 1 1 0-32",fill:"none",stroke:"rgba(255,255,255,.12)",strokeWidth:"4"}),i.createElement("path",{d:"M18 2a16 16 0 1 1 0 32a16 16 0 1 1 0-32",fill:"none",stroke:"#E0C389",strokeLinecap:"round",strokeWidth:"4",strokeDasharray:`${j/100*100} ${100-j/100*100}`})),i.createElement("div",{className:"absolute text-sm font-semibold"},j,"%")),i.createElement("div",null,i.createElement("div",{className:"text-sm"},"Connected"),i.createElement("div",{className:"text-sm"},I," of ",O," providers")))),l&&i.createElement("div",{className:"mt-4 rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm"},l),u&&i.createElement("div",{className:"mt-4 rounded-xl border border-emerald-500/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-200"},u)))),i.createElement("div",{className:"mx-auto max-w-6xl px-4 pt-8 theme-text"},a?i.createElement("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3"},Array.from({length:6}).map((Q,J)=>i.createElement(OS,{key:J}))):i.createElement("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3"},i.createElement(Ra,{title:"SharePoint",subtitle:"Use Microsoft Graph (delegated) to search SharePoint",connected:!!((me=D.sharepoint)!=null&&me.connected),accountEmail:(ke=D.sharepoint)==null?void 0:ke.account_email,onConnect:()=>{h("sharepoint"),E(!0)},onDisconnect:()=>X("sharepoint"),accent:"from-teal-400 to-cyan-400",icon:i.createElement(hd,{size:22}),saving:o}),i.createElement(Ra,{title:"OneDrive",subtitle:"Use Microsoft Graph (delegated) to search OneDrive",connected:!!((Te=D.onedrive)!=null&&Te.connected),accountEmail:(ct=D.onedrive)==null?void 0:ct.account_email,onConnect:()=>{h("sharepoint"),E(!0)},onDisconnect:()=>X("onedrive"),accent:"from-sky-400 to-blue-400",icon:i.createElement(N0,{size:22}),saving:o}),i.createElement(Ra,{title:"Google Drive",subtitle:"Connect with Google OAuth for Drive read-only",connected:!!((le=D.google_drive)!=null&&le.connected),accountEmail:(Ze=D.google_drive)==null?void 0:Ze.account_email,onConnect:oe,onDisconnect:V,accent:"from-emerald-400 to-green-400",icon:i.createElement(L0,{size:22}),saving:o}),i.createElement(Ra,{title:"Dropbox",subtitle:"Connect with Dropbox OAuth (read-only)",connected:!!((ut=D.dropbox)!=null&&ut.connected),accountEmail:(He=D.dropbox)==null?void 0:He.account_email,onConnect:S,onDisconnect:R,accent:"from-sky-500 to-indigo-400",icon:i.createElement(fd,{size:22}),saving:o}),i.createElement(Ra,{title:"Box",subtitle:"Connect with Box OAuth (read-only)",connected:!!((Ce=D.box)!=null&&Ce.connected),accountEmail:(ve=D.box)==null?void 0:ve.account_email,onConnect:B,onDisconnect:U,accent:"from-blue-500 to-indigo-500",icon:i.createElement(pd,{size:22}),saving:o}),i.createElement(Ra,{title:"MEGA",subtitle:"Requires session + at least one public link",connected:!!((Je=D.mega)!=null&&Je.connected),accountEmail:(Lt=D.mega)==null?void 0:Lt.account_email,onConnect:N,onDisconnect:F,accent:"from-rose-400 to-pink-500",icon:i.createElement(A0,{size:22}),saving:o})),i.createElement("div",{className:"mt-10 rounded-2xl border border-white/10 bg-[#0f1a33]/50 p-5 text-sm text-white"},"You can connect multiple sources. When more than one source is enabled, the assistant will search across all of them (you can refine in chat).")),y&&i.createElement(yx,{open:y,onClose:()=>{E(!1),K()},initial:x}),v&&i.createElement(zS,{open:v,onClose:async(Q=!1,J="")=>{b(!1),Q&&await K(),J&&d(J)}}),_&&i.createElement(xx,{me:m,connections:g,onClose:()=>P(!1)}))}function Ra({title:e,subtitle:t,connected:n,accountEmail:a,onConnect:r,onDisconnect:o,saving:s,accent:l,icon:c}){return i.createElement("div",{className:"relative rounded-3xl p-[1.5px] bg-gradient-to-br from-white/15 to-white/5"},i.createElement("div",{className:"h-full rounded-3xl theme-tint backdrop-blur-xl p-5 theme-border shadow-2xl transition hover:-translate-y-0.5 hover:shadow-[0_20px_60px_rgba(0,0,0,.35)]"},i.createElement("div",{className:"flex items-start justify-between"},i.createElement("div",{className:"flex items-center gap-3"},i.createElement("div",{className:`grid h-10 w-10 place-items-center rounded-xl bg-gradient-to-br ${l} text-black`},c),i.createElement("div",null,i.createElement("h2",{className:"text-lg font-semibold"},e),i.createElement("p",{className:"mt-1 text-sm "},t))),i.createElement("div",{className:`ml-3 mt-1 h-2.5 w-2.5 rounded-full ${n?"bg-emerald-400 shadow-[0_0_15px_rgba(52,211,153,0.7)]":"bg-zinc-500"}`,title:n?"Connected":"Not connected"})),a&&i.createElement("div",{className:"mt-3 text-xs "},"Connected as ",i.createElement("span",null,a)),i.createElement("div",{className:"mt-5 flex gap-3"},n?i.createElement("button",{onClick:o,disabled:s,className:"inline-flex items-center gap-2 rounded-xl bg-white/10 px-3 py-2 text-sm hover:bg-white/15 disabled:opacity-50"},i.createElement(P0,{className:"opacity-80"})," Disconnect"):i.createElement("button",{onClick:r,disabled:s,className:"inline-flex items-center gap-2 rounded-xl bg-white text-black px-3 py-2 text-sm font-semibold hover:opacity-90 disabled:opacity-50"},i.createElement(k0,null)," Connect"),n&&i.createElement("a",{href:"#",onClick:u=>u.preventDefault(),className:"inline-flex items-center gap-1 rounded-xl px-3 py-2 text-xs  hover:text-white",title:"Manage in provider console"},i.createElement(RE,{className:"opacity-70"})," Manage"))))}function OS(){return i.createElement("div",{className:"rounded-3xl border border-white/10 bg-[#0f1a33]/60 p-5"},i.createElement("div",{className:"flex items-start justify-between"},i.createElement("div",{className:"flex items-center gap-3"},i.createElement("div",{className:"h-10 w-10 rounded-xl bg-white/10 animate-pulse"}),i.createElement("div",null,i.createElement("div",{className:"h-4 w-24 rounded bg-white/10 animate-pulse"}),i.createElement("div",{className:"mt-2 h-3 w-40 rounded bg-white/10 animate-pulse"}))),i.createElement("div",{className:"h-2.5 w-2.5 rounded-full bg-white/10"})),i.createElement("div",{className:"mt-5 h-8 w-28 rounded bg-white/10 animate-pulse"}))}function zS({open:e,onClose:t}){const[n,a]=p.useState(""),[r,o]=p.useState(""),[s,l]=p.useState(!1),[c,u]=p.useState(!1),[d,m]=p.useState(!1),[f,g]=p.useState("");if(!e)return null;p.useEffect(()=>{e&&(l(!1),u(!1),g(""))},[e]);const w=async()=>{if(n.trim()){m(!0),g("");try{const h=await fetch("/api/connections/mega/connect",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:n})}),v=await h.json().catch(()=>({}));if(!h.ok)throw new Error((v==null?void 0:v.error)||"Failed to save session");l(!0),a(""),g("✅ Session saved.")}catch(h){g(h.message||"Failed to save session")}finally{m(!1)}}},y=async()=>{if(r.trim()){m(!0),g("");try{const h=await fetch("/api/connections/mega/add_link",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:r})}),v=await h.json().catch(()=>({}));if(!h.ok)throw new Error((v==null?void 0:v.error)||"Failed to add link");u(!0),o(""),g("✅ Link added.")}catch(h){g(h.message||"Failed to add link")}finally{m(!1)}}},E=async()=>{m(!0),g("");try{if(!s&&n.trim()){const b=await fetch("/api/connections/mega/connect",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:n})}),k=await b.json().catch(()=>({}));if(!b.ok)throw new Error((k==null?void 0:k.error)||"Failed to save session")}if(!c&&r.trim()){const b=await fetch("/api/connections/mega/add_link",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:r})}),k=await b.json().catch(()=>({}));if(!b.ok)throw new Error((k==null?void 0:k.error)||"Failed to add link")}const h=s||!!n.trim(),v=c||!!r.trim();if(!h||!v){g("Please add BOTH a session and at least one public link."),m(!1);return}await t(!0,"MEGA connected.")}catch(h){g(h.message||"Failed to connect MEGA"),m(!1)}},x=(s||!!n.trim())&&(c||!!r.trim());return i.createElement("div",{className:"fixed inset-0 z-[70] flex items-center justify-center"},i.createElement("div",{className:"absolute inset-0 bg-black/60",onClick:()=>t(!1)}),i.createElement("div",{className:"relative z-[71] w-full max-w-lg rounded-2xl border border-white/10 bg-[#0f1a33] p-6 shadow-2xl"},i.createElement("div",{className:"mb-4 flex items-center justify-between"},i.createElement("h3",{className:"text-lg font-semibold"},"Connect MEGA"),i.createElement("button",{onClick:()=>t(!1),className:"rounded-full p-2 hover:bg-white/5","aria-label":"Close"},"✕")),i.createElement("div",{className:"space-y-6"},i.createElement("div",null,i.createElement("div",{className:"mb-2 flex items-center gap-2"},i.createElement("div",{className:"text-sm font-medium"},"Full account (session)"),s&&i.createElement("span",{className:"rounded-full bg-emerald-500/20 px-2 py-[2px] text-[11px] text-emerald-300"},"saved")),i.createElement("p",{className:"mb-2 text-xs "},"Generate with ",i.createElement("code",null,"mega-executablesession")," (MEGAcmd) and paste the session string."),i.createElement("textarea",{value:n,onChange:h=>a(h.target.value),rows:3,className:"w-full rounded-xl border border-white/10 bg-[#0b1124] p-2 text-sm outline-none focus:border-white/20",placeholder:"e.g. Hk3x... (MEGA session)"}),i.createElement("div",{className:"mt-2"},i.createElement("button",{onClick:w,disabled:d||!n.trim(),className:"rounded-xl bg-white px-3 py-2 text-sm font-semibold text-black transition hover:opacity-90 disabled:opacity-50"},d?"Saving…":"Save session"))),i.createElement("div",null,i.createElement("div",{className:"mb-2 flex items-center gap-2"},i.createElement("div",{className:"text-sm font-medium"},"Public links"),c&&i.createElement("span",{className:"rounded-full bg-emerald-500/20 px-2 py-[2px] text-[11px] text-emerald-300"},"saved")),i.createElement("input",{value:r,onChange:h=>o(h.target.value),className:"w-full rounded-xl border border-white/10 bg-[#0b1124] p-2 text-sm outline-none focus:border-white/20",placeholder:"https://mega.nz/file/...#KEY or https://mega.nz/folder/...#KEY"}),i.createElement("div",{className:"mt-2 flex gap-2"},i.createElement("button",{onClick:y,disabled:d||!r.trim(),className:"rounded-xl bg-white px-3 py-2 text-sm font-semibold text-black transition hover:opacity-90 disabled:opacity-50"},d?"Working…":"Add link"))),f&&i.createElement("div",{className:"rounded-xl border border-white/10 bg-[#0f1a33] p-2 text-xs"},f)),i.createElement("div",{className:"mt-6 flex justify-end gap-2"},i.createElement("button",{onClick:()=>t(!1),className:"rounded-xl bg-white/10 px-4 py-2 text-sm font-semibold hover:bg-white/15"},"Close"),i.createElement("button",{onClick:E,disabled:d||!x,className:"rounded-xl bg-white px-4 py-2 text-sm font-semibold text-black hover:opacity-90 disabled:opacity-50",title:"Requires BOTH a session and at least one link"},d?"Connecting…":"Connect"))))}function FS(){const[e,t]=p.useState(null),[n,a]=p.useState(!0),[r,o]=p.useState(!1),[s,l]=p.useState({type:"",msg:""});p.useEffect(()=>{let m=!0;return(async()=>{try{const g=await(await fetch("/api/trial/status",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json().catch(()=>({}));m&&t(g||{})}catch{}finally{m&&a(!1)}})(),()=>m=!1},[]),p.useEffect(()=>{if(!s.msg)return;const m=setTimeout(()=>l({type:"",msg:""}),3500);return()=>clearTimeout(m)},[s]);const c=p.useMemo(()=>{const m=e!=null&&e.ends_at?new Date(e.ends_at):null;return m?m.toLocaleString():null},[e]),u=p.useMemo(()=>{const m=e!=null&&e.grace_ends_at?new Date(e.grace_ends_at):null;return m?m.toLocaleString():null},[e]),d=async()=>{o(!0);try{const m=await fetch("/api/trial/request_extension",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:"Need more time to evaluate"})});try{await m.json()}catch{}l({type:"ok",msg:"Thanks! We’ve received your request. We’ll be in touch shortly."})}catch{l({type:"ok",msg:"Request sent. Our team will reach out soon."})}finally{o(!1)}};return i.createElement("div",{className:"min-h-screen theme-surface"},i.createElement("div",{className:"pointer-events-none fixed inset-0 bg-[radial-gradient(60%_40%_at_50%_-10%,rgba(124,58,237,.25),transparent)]"}),i.createElement("div",{className:"relative mx-auto max-w-3xl px-4 py-10"},i.createElement("div",{className:"rounded-[28px] p-[2px] bg-gradient-to-br from-white/15 to-white/5 shadow-[0_30px_80px_rgba(0,0,0,.45)]"},i.createElement("div",{className:"rounded-[26px] theme-tint backdrop-blur-xl theme-border"},i.createElement("div",{className:"px-7 pt-8 pb-4"},i.createElement("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-3 py-1 text-[12px] text-white/80"},i.createElement(jE,{className:"opacity-80"}),"Trial ended"),i.createElement("h1",{className:"mt-4 text-2xl md:text-3xl font-bold tracking-tight"},"Your free trial has ended"),i.createElement("p",{className:"mt-2 text-white/70"},n?"Checking your account…":i.createElement(i.Fragment,null,c?i.createElement(i.Fragment,null,"The trial expired on ",i.createElement("b",{className:"text-white"},c),"."):"Your trial has expired."," ",u&&i.createElement(i.Fragment,null,"You still have limited access until ",i.createElement("b",{className:"text-white"},u),".")))),i.createElement("div",{className:"px-7 pb-7"},i.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center"},i.createElement("a",{href:"/pricing",className:"inline-flex items-center justify-center rounded-2xl bg-[#E0C389] px-5 py-3 text-sm font-semibold text-black shadow-lg hover:brightness-95 transition"},"Upgrade now ",i.createElement(k0,{className:"ml-2"})),i.createElement("button",{onClick:d,disabled:r,className:"inline-flex items-center justify-center rounded-2xl border border-white/15 bg-white/5 px-5 py-3 text-sm font-semibold hover:bg-white/10 transition disabled:opacity-60"},r?i.createElement(i.Fragment,null,i.createElement(P0,{className:"mr-2 animate-spin"})," Sending…"):"Request an extension"),i.createElement("a",{href:"/contact",className:"inline-flex items-center justify-center rounded-2xl border border-white/15 bg-white/0 px-5 py-3 text-sm font-semibold hover:bg-white/10 transition"},i.createElement(xi,{className:"mr-2 opacity-80"})," Contact sales"))),i.createElement("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-white/10 to-transparent"}),i.createElement("div",{className:"grid gap-6 px-7 py-7 md:grid-cols-3"},i.createElement(Wl,{title:"Unlimited sources",desc:"Search across SharePoint, OneDrive, Google Drive, Dropbox, Box, and MEGA without limits."}),i.createElement(Wl,{title:"Priority answers",desc:"Faster retrieval and larger context windows for long reports, policies, and contracts."}),i.createElement(Wl,{title:"Admin controls",desc:"Granular access, audit logs, and org-wide connectors to keep data secure."})),i.createElement("div",{className:"px-7 pb-8 text-xs text-white/50"},"Upgrading is self-serve and takes less than a minute. Need procurement docs or vendor forms? Our team can help."))),s.msg&&i.createElement("div",{className:`fixed bottom-6 left-1/2 z-50 -translate-x-1/2 rounded-xl border px-4 py-3 text-sm shadow-2xl
              ${s.type==="ok"?"bg-emerald-500/10 border-emerald-400/30 text-emerald-200":"bg-red-500/10 border-red-400/30 text-red-200"}`},s.msg),i.createElement("div",{className:"mx-auto mt-6 max-w-3xl text-center text-sm text-white/60"},"Looking for invoices or billing details?"," ",i.createElement("a",{className:"underline hover:text-white",href:"/billing"},"Go to billing"),"."," ","Or ",i.createElement("a",{className:"underline hover:text-white",href:"/login"},"sign in with a different account"),".")))}function Wl({title:e,desc:t}){return i.createElement("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4"},i.createElement("div",{className:"text-[13px] font-semibold"},e),i.createElement("div",{className:"mt-1 text-[13px] text-white/70 leading-relaxed"},t))}async function Ot(e,t={}){const n=await fetch(e,{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache",...t.headers||{}},...t});if(n.status===402&&window.location.pathname!=="/trial-ended")throw window.location.replace("/trial-ended"),new Error("trial_expired");return n}function IS({children:e}){const[t,n]=i.useState({loading:!0,ok:!1});return i.useEffect(()=>{(async()=>{try{const r=await(await fetch("/api/admin/staff/me",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json();n({loading:!1,ok:!!(r!=null&&r.is_staff)})}catch{n({loading:!1,ok:!1})}})()},[]),t.loading?i.createElement("div",{className:"flex h-screen items-center justify-center text-white bg-[#0b1324]"},"Checking staff access…"):t.ok?e:i.createElement(ts,{to:"/staff/login",replace:!0})}async function VS(){try{const t=await(await fetch("/api/trial/status",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json();return!!(t!=null&&t.expired)}catch{return!1}}function po({children:e}){const[t,n]=i.useState({loading:!0,ok:!1});return i.useEffect(()=>{(async()=>{if(await VS()){window.location.pathname!=="/trial-ended"&&window.location.replace("/trial-ended");return}try{const o=await(await fetch("/api/auth/me",{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json();n({loading:!1,ok:!!(o!=null&&o.authenticated)})}catch{n({loading:!1,ok:!1})}})()},[]),t.loading?i.createElement("div",{className:"flex h-screen items-center justify-center text-white bg-[#0b1324]"},"Loading…"):t.ok?e:i.createElement(ts,{to:"/login",replace:!0})}function BS({onToggleSidebar:e,onOpenProfile:t,me:n,scope:a,setScope:r,connections:o,onActiveSourcesChange:s}){const l=(n==null?void 0:n.avatar_url)||"";return i.createElement("header",{className:"sticky top-0 z-20 flex items-center justify-between border-b border-white/10 bg-[#0b1324]/80 backdrop-blur px-3 py-2"},i.createElement("div",{className:"flex items-center gap-2"},i.createElement("button",{type:"button",className:"md:hidden rounded-lg p-2 text-white/80 hover:text-white hover:bg-white/5","aria-label":"Toggle sidebar",onClick:e},i.createElement("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z"}))),i.createElement(bE,{scope:a,setScope:r,connections:o,onActiveSourcesChange:s})),i.createElement("div",{className:"text-white/60 text-sm"},"ECHO · File Assistant"),i.createElement("div",{className:"flex items-center gap-2"},i.createElement("button",{type:"button",onClick:t,className:"grid h-8 w-8 place-items-center overflow-hidden rounded-full border border-white/10 bg-white/10 text-white",title:"Profile"},l?i.createElement("img",{src:l,alt:"avatar",className:"h-full w-full object-cover"}):i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M12 12c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm0 2c-3.33 0-10 1.67-10 5v3h20v-3c0-3.33-6.67-5-10-5z"})))))}function $S(){const[e,t]=p.useState([]),[n,a]=p.useState(!1),[r,o]=p.useState(!0),[s,l]=p.useState(!1),[c,u]=p.useState([]),[d,m]=p.useState([]),[f,g]=p.useState([]),[w,y]=p.useState(!0),[E,x]=p.useState(""),[h,v]=p.useState(""),[b,k]=p.useState("thinking"),[T,_]=p.useState(null),[P,z]=p.useState(!1),[D,C]=p.useState(null),[I,O]=p.useState(1),[j,G]=p.useState(0),[K,oe]=p.useState(""),S=p.useRef(null),[R,B]=p.useState([]),[U,X]=p.useState(null),[V,N]=p.useState([]),[F,q]=p.useState(!1),[ne,ie]=p.useState(!1),[pe,me]=p.useState("all"),[ke,Te]=p.useState([]),ct=p.useMemo(()=>pe==="all"?ke:[pe],[pe,ke]),[le,Ze]=p.useState(!1),[ut,He]=p.useState("home");p.useEffect(()=>{const M=L=>{var W;He(((W=L==null?void 0:L.detail)==null?void 0:W.initial)||"home"),Ze(!0)};return window.addEventListener("connections:open",M),()=>window.removeEventListener("connections:open",M)},[]),p.useEffect(()=>{async function M(){var W,ae;try{if(window.location.pathname==="/trial-ended"){o(!1);return}const re=await(await Ot("/api/auth/me")).json();if(!(re!=null&&re.authenticated)){o(!1);return}C(((W=re==null?void 0:re.user)==null?void 0:W.email)??(re==null?void 0:re.user_email)??null);const Le=sessionStorage.getItem("chat_id");if(Le){const fe=await(await Ot(`/api/messages/${Le}`)).json();fe.messages&&fe.messages.length>0?(_(Le),t(fe.messages),y(!1)):(sessionStorage.removeItem("chat_id"),y(!0))}else y(!0);const ye=await(await Ot("/api/session_state")).json();ye.stage==="awaiting_selection"&&((ae=ye.files)==null?void 0:ae.length)>0?(l(!0),m(ye.files),u(ye.files.slice(0,5)),G(ye.files.length),O(1)):(l(!1),u([]),m([]),g([]),k("thinking"),v(""));const et=await Ot("/api/profile");X(await et.json());try{const fe=await(await Ot("/api/connections")).json();N((fe==null?void 0:fe.connections)||[])}catch{}}catch(ce){console.error("❌ Failed to initialize session:",ce),v("❌ Something went wrong."),k("error")}finally{o(!1)}}M();const L=()=>{Ot("/api/profile").then(W=>W.json()).then(X).catch(()=>{})};return window.addEventListener("profile:changed",L),()=>window.removeEventListener("profile:changed",L)},[]);const Ce=async()=>{const L=await(await Ot("/api/new_chat")).json();_(L.chat_id),sessionStorage.removeItem("chat_id"),t([]),l(!1),g([]),u([]),m([]),x(""),y(!0),v(""),k("thinking"),clearInterval(S.current),z(W=>!W)},ve=async M=>{if(M!==T){_(M),sessionStorage.setItem("chat_id",M),y(!1),a(!0);try{const W=await(await Ot(`/api/messages/${M}`)).json();t(W.messages||[]),l(!1),g([]),u([]),m([]),x(""),a(!1)}catch(L){console.error("❌ Failed to load chat messages:",L),a(!1)}}},Je=async(M=E,L=null,W=[],ae={})=>{var dt;const ce=(M||"").trim(),re=Array.isArray(ae.attachments)?ae.attachments:[];if(!ce&&!L&&!re.length)return;const Le={sender:"You",message:ce};re.length&&(Le.attachments=re.map(ye=>({...ye}))),(ce||re.length)&&t(ye=>[...ye,Le]),x(""),y(!1),a(!0),s||L?(v("ECHO is checking access..."),k("checking-access")):ce.toLowerCase().includes("file")||re.length?(v("ECHO is searching the file..."),k("searching-file")):(v("ECHO is thinking..."),k("thinking"));try{const ye={message:ce||"",selectionStage:!!(s||L),selectedIndices:L,chat_id:T};Array.isArray(W)&&(ye.sources=W),re.length&&(ye.upload_ids=re.map(We=>We.id).filter(Boolean),ye.attachments=re.map(We=>({id:We.id,name:We.name,path:We.path,url:We.url,mime:We.mime}))),(dt=ae.selectedFileIds)!=null&&dt.length&&(ye.selectedFileIds=ae.selectedFileIds.slice(0));const et=await Ot("/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ye)}),fe=(et.headers.get("content-type")||"").includes("application/json")?await et.json():{error:await et.text()};if(!et.ok)throw new Error((fe==null?void 0:fe.error)||`Request failed (${et.status})`);fe.response&&t(We=>[...We,{sender:"AI",message:fe.response}]),fe.chat_id&&_(fe.chat_id),fe.pauseGPT&&Array.isArray(fe.files)?(l(!0),m(fe.files),u(fe.files),O(fe.page||1),G(fe.total||fe.files.length),B(fe.file_types||[])):(l(!1),u([]),m([]),g([]),O(1),G(0)),a(!1),S.current&&clearInterval(S.current),v(""),z(We=>!We)}catch(ye){console.error("❌ Chat fetch failed:",ye),a(!1),S.current&&clearInterval(S.current),v("❌ Something went wrong."),k("error")}},Lt=()=>{if(!f.length)return;const M=f.map(L=>d.findIndex(W=>W.id===L.id)).filter(L=>L!==-1).map(L=>L+1);Je(`Selected: ${M.join(",")}`,M),g([]),l(!1),u([])},Q=async M=>{if(!(M<1||M>Math.ceil(j/5)))try{const W=await(await Ot(`/api/paginate_files?page=${M}&type=${K}`)).json();W.files&&(u(W.files),O(W.page),G(W.total),B(W.file_types||[]),m(ae=>{const ce=new Set(ae.map(Le=>Le.id)),re=[...ae];for(const Le of W.files)ce.has(Le.id)||re.push(Le);return re}))}catch(L){console.error("❌ Failed to paginate files:",L)}},J=async M=>{oe(M),O(1);try{const W=await(await Ot(`/api/paginate_files?page=1&type=${M}`)).json();W.files&&(u(W.files),G(W.total),B(W.file_types||[]),m(W.files))}catch{}},H=M=>{g(L=>L.some(W=>W.id===M.id)?L.filter(W=>W.id!==M.id):[...L,M])},Y=async()=>{try{await Ot("/api/skip_selection",{method:"POST"}),l(!1),u([]),g([])}catch(M){console.error("❌ Failed to skip selection:",M)}},A=async M=>{const L={selectedIds:(M||[]).map(ce=>ce.id)},ae=await(await fetch("/api/summarize_selected",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)})).json();t(ce=>[...ce,{sender:"AI",message:ae.response}]),l(!1),g([]),u([])};return p.useEffect(()=>{const M=e.some(W=>W.sender==="You"),L=e.some(W=>W.sender==="AI");M&&L&&T&&!sessionStorage.getItem("chat_id")&&sessionStorage.setItem("chat_id",T)},[e,T]),r?i.createElement("div",{className:"flex h-screen items-center justify-center text-white bg-[#0b1324]"},"Loading…"):i.createElement(lE,null,i.createElement(zw,null,i.createElement(De,{path:"/staff/login",element:i.createElement(yS,null)}),i.createElement(De,{path:"/pricing",element:i.createElement(wS,null)}),i.createElement(De,{path:"/workspace",element:i.createElement(po,null,i.createElement(_S,null))}),i.createElement(De,{path:"/workspace/accept",element:i.createElement(TS,null)}),i.createElement(De,{path:"/superadmin",element:i.createElement(IS,null,i.createElement(iS,null))},i.createElement(De,{index:!0,element:i.createElement(qf,null)}),i.createElement(De,{path:"overview",element:i.createElement(pS,null)}),i.createElement(De,{path:"userlist",element:i.createElement(qf,null)}),i.createElement(De,{path:"add-user",element:i.createElement(fS,null)}),i.createElement(De,{path:"subscriptions",element:i.createElement(hS,null)}),i.createElement(De,{path:"statuses",element:i.createElement(gS,null)}),i.createElement(De,{path:"tickets",element:i.createElement(vS,null)}),i.createElement(De,{path:"revenue",element:i.createElement(xS,null)})),i.createElement(De,{path:"/login",element:i.createElement(LS,null)}),i.createElement(De,{path:"/signup",element:i.createElement(MS,null)}),i.createElement(De,{path:"/unauthorized",element:i.createElement(V4,null)}),i.createElement(De,{path:"/trial-ended",element:i.createElement(FS,null)}),i.createElement(De,{path:"/dashboard",element:i.createElement(po,null,i.createElement(jS,null))}),i.createElement(De,{path:"/admin/upload",element:i.createElement(po,null,i.createElement("div",{className:"flex h-screen bg-[#0b1324] text-white p-6"},i.createElement(I4,{userEmail:D})))}),i.createElement(De,{path:"/",element:i.createElement(po,null,i.createElement("div",{className:"flex h-screen overflow-hidden bg-[#0b1324] text-white"},i.createElement("div",{className:"hidden md:block w-[300px] shrink-0 border-r border-white/10 bg-[#0b1324] sticky top-0 h-screen"},i.createElement(Uf,{onNewChat:Ce,onSelectChat:ve,activeChatId:T,refreshFlag:P,onOpenProfile:()=>ie(!0),onLogout:()=>fetch("/api/auth/logout").then(()=>location.href="/login"),selectedScope:pe,onScopeChange:me,onActiveSourcesChange:Te})),F&&i.createElement("div",{className:"md:hidden fixed inset-0 z-40 flex"},i.createElement("div",{className:"w-[84%] max-w-[320px] border-r border-white/10 bg-[#0b1324]"},i.createElement(Uf,{onNewChat:Ce,onSelectChat:ve,activeChatId:T,refreshFlag:P,onOpenProfile:()=>ie(!0),onLogout:()=>fetch("/api/auth/logout").then(()=>location.href="/login"),selectedScope:pe,onScopeChange:me,onActiveSourcesChange:Te})),i.createElement("div",{className:"flex-1 bg-black/50",onClick:()=>q(!1)})),i.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},i.createElement(BS,{onToggleSidebar:()=>q(M=>!M),onOpenProfile:()=>ie(!0),me:U,scope:pe,setScope:me,connections:V,onActiveSourcesChange:Te}),w?i.createElement(d2,{userInput:E,setUserInput:x,onSend:M=>Je(M,null,ct),onNewChat:Ce}):i.createElement(i.Fragment,null,i.createElement("div",{className:"flex-1 overflow-y-auto px-4 pb-28 custom-scrollbar"},i.createElement("div",{className:"mx-auto w-full max-w-[980px]"},i.createElement(a2,{messages:n&&h?[...e,{sender:"AI",message:h,isStatus:!0,statusType:b}]:e,fileOptions:c,allFiles:d,pauseGPT:s,toggleSelectFile:H,selectedFiles:f,sendSelectedFiles:Lt,summarizeSelectedFiles:()=>A(f),onUserMessage:M=>t(L=>[...L,{sender:"You",message:M}]),page:I,totalFiles:j,onPageChange:Q,onFilterChange:J,onSkipFileSelection:Y,availableFileTypes:R,onSelectChat:ve,onNewChat:Ce,userAvatarUrl:U==null?void 0:U.avatar_url}))),i.createElement("div",{className:"sticky bottom-0 left-0 right-0"},i.createElement("div",{className:"mx-auto w-full max-w-[980px]"},i.createElement(c2,{onSend:(M,L,W,ae)=>Je(M,L??null,W??ct,ae),disabled:n,userInput:E,setUserInput:x}))))),ne&&i.createElement(xx,{me:U,connections:V,onClose:()=>ie(!1)})))}),i.createElement(De,{path:"/admin",element:i.createElement(ts,{to:"/admin/upload",replace:!0})}),i.createElement(De,{path:"*",element:i.createElement(ts,{to:"/dashboard",replace:!0})})),le&&i.createElement(yx,{open:le,initial:ut,onClose:()=>Ze(!1)}))}function Id(){return localStorage.getItem("theme")||"system"}function US(e=Id()){return e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Fr(e=Id()){const t=US(e),n=document.documentElement;n.classList.toggle("dark",t),n.dataset.theme=t?"dark":"light"}function HS(){Fr();const e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>Id()==="system"&&Fr("system");e.addEventListener("change",t),window.addEventListener("storage",n=>{n.key==="theme"&&Fr(n.newValue||"system")}),window.addEventListener("theme:change",()=>Fr())}Fr();HS();Gl.createRoot(document.getElementById("root")).render(i.createElement(i.StrictMode,null,i.createElement($S,null)));
